// Garden Gnome Software - VR - Skin
// Pano2VR 7.0.9/20024
// Filename: venis.ggsk
// Generated 2024-08-16T09:07:33

function pano2vrVrSkin(player,base) {
	player.addVariable('vis_sounds_splashscreen', 2, false, { ignoreInState: 1  });
	player.addVariable('vis_skin', 2, false, { ignoreInState: 1  });
	player.addVariable('toggle_audio', 2, true, { ignoreInState: 0  });
	player.addVariable('vis_controls_right', 2, true, { ignoreInState: 0  });
	player.addVariable('vis_controls_left', 2, true, { ignoreInState: 1  });
	player.addVariable('vis_map', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_map_full', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_floorplan', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_floorplan_full', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_thumbnails', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_thumbnails_full', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_info', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_share', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_url_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_info_hs_popups', 0, "", { ignoreInState: 0  });
	player.addVariable('vis_image_hs_popups', 0, "", { ignoreInState: 0  });
	player.addVariable('image_hs_description', 0, "", { ignoreInState: 0  });
	player.addVariable('vis_image_hs_popup_full', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_pdf_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_hs_popup', 2, false, { ignoreInState: 1  });
	player.addVariable('vis_video_youtube_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_vimeo_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_file_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_url_hs_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_thumbs', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_info', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_image', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_map', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_floorplan', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_pdf', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_youtube', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_vimeo', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_video_file', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_phone_video_url', 2, false, { ignoreInState: 0  });
	player.addVariable('opt_controller', 2, false, { ignoreInState: 1  });
	player.addVariable('opt_prev_next', 2, true, { ignoreInState: 1  });
	player.addVariable('opt_info', 2, true, { ignoreInState: 1  });
	player.addVariable('opt_fullscreen', 2, true, { ignoreInState: 1  });
	player.addVariable('opt_gyro', 2, true, { ignoreInState: 1  });
	player.addVariable('opt_maps', 2, false, { ignoreInState: 1  });
	player.addVariable('opt_floorplans', 2, false, { ignoreInState: 1  });
	player.addVariable('opt_share_facebook', 2, true, { ignoreInState: 1  });
	player.addVariable('opt_share_twitter', 2, true, { ignoreInState: 1  });
	player.addVariable('opt_share_copy', 2, true, { ignoreInState: 1  });
	player.addVariable('opt_share', 2, false, { ignoreInState: 1  });
	player.addVariable('opt_url_popup', 2, true, { ignoreInState: 1  });
	player.addVariable('width_controls_left', 1, 0, { ignoreInState: 0  });
	player.addVariable('width_controls_right', 1, 0, { ignoreInState: 0  });
	player.addVariable('pos_share_buttons', 1, 0, { ignoreInState: 0  });
	player.addVariable('has_fullscreen', 2, true, { ignoreInState: 1  });
	player.addVariable('sounds_splashscreen_accepted', 2, false, { ignoreInState: 0  });
	player.addVariable('resp_desktop', 2, false, { ignoreInState: 1  });
	player.addVariable('resp_tablet', 2, false, { ignoreInState: 1  });
	player.addVariable('resp_phone', 2, false, { ignoreInState: 1  });
	player.addVariable('share_api', 2, false, { ignoreInState: 0  });
	player.addVariable('share_url', 0, "", { ignoreInState: 0  });
	player.addVariable('vis_url_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_image_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_pdf_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_youtube_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_vimeo_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_file_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('vis_video_url_popup', 2, false, { ignoreInState: 0  });
	player.addVariable('toggle_rotate', 2, true, { ignoreInState: 0  });
	player.addVariable('toggle_grypo', 2, true, { ignoreInState: 0  });
	player.addVariable('vis_control_left_vertical', 2, false, { ignoreInState: 0  });
	var me=this;
	var skin=this;
	var flag=false;
	var vrSkinAdded=false;
	var hotspotTemplates={};
	var skinKeyPressed = 0;
	this.player=player;
	this.player.vrSkinObj=this;
	this.ggUserdata=player.userdata;
	this.lastSize={ w: -1,h: -1 };
	var basePath="";
	// auto detect base path
	if (base=='?') {
		var scripts = document.getElementsByTagName('script');
		for(var i=0;i<scripts.length;i++) {
			var src=scripts[i].src;
			if (src.indexOf('skin.js')>=0) {
				var p=src.lastIndexOf('/');
				if (p>=0) {
					basePath=src.substr(0,p+1);
				}
			}
		}
	} else
	if (base) {
		basePath=base;
	}
	this.elementMouseDown={};
	this.elementMouseOver={};
	var i;
	var hs,el,els,elo,ela,geometry,material;
	player.setMargins(0,0,0,0);
	
	this.findElements=function(id,regex) {
		var r=[];
		var stack=[];
		var pat=new RegExp(id,'');
		stack.push(me.skinGroup);
		while(stack.length>0) {
			var e=stack.pop();
			if (regex) {
				if (pat.test(e.userData.ggId)) r.push(e);
			} else {
				if (e.userData.ggId==id) r.push(e);
			}
			if (e.children.length > 0) {
				for(var i=0;i<e.children.length;i++) {
					stack.push(e.children[i]);
				}
			}
		}
		return r;
	}
	
	this.posInSkin=function(el, clonerParent) {
		var curParent = el.parent;
		var pos = {x: el.position.x, y: el.position.y};
		while (curParent && curParent != me.skinGroup) {
			pos.x += curParent.position.x;
			pos.y += curParent.position.y;
			if (curParent.parent) {
				curParent = curParent.parent;
			} else {
				curParent = clonerParent
			}
		}
		return pos;
	}
	
	this._=function(text, params) {
		return player._(text, params);
	}
	this.languageChanged=function() {
		if (!me.skinGroup) return;
		var stack=[];
		stack.push(me.skinGroup);
		while(stack.length>0) {
			var e=stack.pop();
			if (e.userData && e.userData.ggUpdateText) {
				e.userData.ggUpdateText();
			}
			for(var i=0;i<e.children.length;i++) {
				stack.push(e.children[i]);
			}
		}
	}
	player.addListener('languagechanged', this.languageChanged);
	this.getElementVrPosition = function(el, x, y) {
		var vrPos = {};
		var renderableEl = (el.parent.type == 'Mesh' || el.parent.type == 'Group');
		switch (el.userData.hanchor) {
			case 0:
			vrPos.x = (renderableEl ? el.parent.position.x : 0) - ((renderableEl ? el.parent.userData.width : 800) / 200.0) + (x / 100.0) + (el.userData.width / 200.0);
			break;
			case 1:
			vrPos.x = (renderableEl ? el.parent.position.x : 0) + (x / 100.0);
			break;
			case 2:
			vrPos.x = (renderableEl ? el.parent.position.x : 0) + ((renderableEl ? el.parent.userData.width : 800) / 200.0) - (x / 100.0) - (el.userData.width / 200.0);
			break;
		}
		switch (el.userData.vanchor) {
			case 0:
			vrPos.y = (renderableEl ? el.parent.position.y : 0) + ((renderableEl ? el.parent.userData.height : 600) / 200.0) - (y / 100.0) - (el.userData.height / 200.0);
			break;
			case 1:
			vrPos.y = (renderableEl ? el.parent.position.y : 0) - (y / 100.0);
			break;
			case 2:
			vrPos.y = (renderableEl ? el.parent.position.y : 0) - ((renderableEl ? el.parent.userData.height : 600) / 200.0) + (y / 100.0) + (el.userData.height / 200.0);
			break;
		}
		vrPos.x += el.userData.curScaleOffX;
		vrPos.y += el.userData.curScaleOffY;
		return vrPos;
	}
	this.addSkin=function() {
		if (me.vrSkinAdded) return;
		me.vrSkinAdded = true;
		var hs='';
		this.ggCurrentTime=new Date().getTime();
		this.skinGroup=player.getSkinGroup();
		geometry = new THREE.PlaneBufferGeometry(8, 6, 5, 5 );
		geometry.name = 'background_blur_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(0,0,0,0)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'background_blur_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._background_blur.material.opacity = v * me._background_blur.userData.backgroundColorAlpha;
			if (me._background_blur.userData.ggSubElement) {
				me._background_blur.userData.ggSubElement.material.opacity = v
				me._background_blur.userData.ggSubElement.visible = (v>0 && me._background_blur.userData.visible);
			}
			me._background_blur.visible = (v>0 && me._background_blur.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._background_blur.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._background_blur.userData.backgroundColorAlpha = v;
			me._background_blur.userData.setOpacity(me._background_blur.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 800;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'background_blur';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._background_blur.visible
			let parentEl = me._background_blur.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._background_blur.userData.opacity = v;
			v = v * me._background_blur.userData.parentOpacity;
			me._background_blur.userData.setOpacityInternal(v);
			for (let i = 0; i < me._background_blur.children.length; i++) {
				let child = me._background_blur.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._background_blur.userData.parentOpacity = v;
			v = v * me._background_blur.userData.opacity
			me._background_blur.userData.setOpacityInternal(v);
			for (let i = 0; i < me._background_blur.children.length; i++) {
				let child = me._background_blur.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._background_blur = el;
		el.userData.ggId="background_blur";
		me._background_blur.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_map_full') == true)) || 
				((player.getVariableValue('vis_floorplan_full') == true)) || 
				((player.getVariableValue('vis_thumbnails_full') == true)) || 
				((player.getVariableValue('vis_image_hs_popup_full') == true)) || 
				((player.getVariableValue('vis_video_hs_popup') == true)) || 
				((player.getVariableValue('vis_pdf_hs_popup') == true)) || 
				((player.getVariableValue('vis_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._background_blur.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._background_blur.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._background_blur.ggCurrentLogicStateVisible == 0) {
			me._background_blur.visible=((!me._background_blur.material && Number(me._background_blur.userData.opacity>0)) || Number(me._background_blur.material.opacity)>0)?true:false;
			me._background_blur.userData.visible=true;
				}
				else {
			me._background_blur.visible=false;
			me._background_blur.userData.visible=false;
				}
			}
		}
		me._background_blur.logicBlock_visible();
		me._background_blur.userData.onclick=function (e) {
			player.setVariableValue('vis_map_full', false);
			player.setVariableValue('vis_thumbnails_full', false);
			player.setVariableValue('vis_image_hs_popup_full', false);
			player.setVariableValue('vis_pdf_hs_popup', false);
			player.setVariableValue('vis_url_hs_popup', false);
			player.setVariableValue('vis_video_youtube_hs_popup', false);
			player.setVariableValue('vis_video_vimeo_hs_popup', false);
			player.setVariableValue('vis_video_file_hs_popup', false);
			player.setVariableValue('vis_video_url_hs_popup', false);
		}
		me._background_blur.userData.ggUpdatePosition=function (useTransition) {
		}
		me.skinGroup.add(me._background_blur);
		width = 2.2;
		height = 0.64;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.16, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'share_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'share_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._share.material.opacity = v * me._share.userData.backgroundColorAlpha;
			if (me._share.userData.ggSubElement) {
				me._share.userData.ggSubElement.material.opacity = v
				me._share.userData.ggSubElement.visible = (v>0 && me._share.userData.visible);
			}
			me._share.visible = (v>0 && me._share.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._share.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._share.userData.backgroundColorAlpha = v;
			me._share.userData.setOpacity(me._share.userData.opacity);
		}
		el.translateX(-2.74);
		el.translateY(-1.96);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 220;
		el.userData.height = 64;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'share';
		el.userData.x = -2.74;
		el.userData.y = -1.96;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._share.visible
			let parentEl = me._share.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._share.userData.opacity = v;
			v = v * me._share.userData.parentOpacity;
			me._share.userData.setOpacityInternal(v);
			for (let i = 0; i < me._share.children.length; i++) {
				let child = me._share.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._share.userData.parentOpacity = v;
			v = v * me._share.userData.opacity
			me._share.userData.setOpacityInternal(v);
			for (let i = 0; i < me._share.children.length; i++) {
				let child = me._share.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._share = el;
		el.userData.ggId="share";
		me._share.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._share.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._share.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._share.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._share, 16, 72);
					me._share.position.x = newPos.x;
					me._share.position.y = newPos.y;
				}
				else {
					var elPos = skin.getElementVrPosition(me._share, 16, 72);
					me._share.position.x = elPos.x;
					me._share.position.y = elPos.y;
				}
			}
		}
		me._share.logicBlock_position();
		me._share.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_share') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._share.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._share.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._share.ggCurrentLogicStateVisible == 0) {
			me._share.visible=((!me._share.material && Number(me._share.userData.opacity>0)) || Number(me._share.material.opacity)>0)?true:false;
			me._share.userData.visible=true;
				}
				else {
			me._share.visible=false;
			me._share.userData.visible=false;
				}
			}
		}
		me._share.logicBlock_visible();
		me._share.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'copy_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA8ElEQVR4nO3ZQQ6CMBCF4al6CXopTVzgFU3ceKk5haZuXBAUYug4g/b/dg1ahgeMRUQAAAAAAGhOspxMVW8isrWc8xM558XHsbEs5BcRQHQB0Ux7gBdVLcMxPaDCrubL4zPxbTVnekrzVwABRBcQraoHLHAdjffO+3/hGkDO+TAcezfRd5q/BQgguoBoBBBdQLTmAzD9GUwpnbuuO336+bm1vapeRORoUtiMNV8BLo/qBOCxk4VcAjDtAaWUXlX7qe3je56l8AoQQHQB0QgguoBozQfg+o/Qc3lr4W40T91ig/cCf4AAogsAAAAAAADuHkK0Kae3WKdrAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'copy_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.94);
		el.translateY(-0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'copy';
		el.userData.x = -0.94;
		el.userData.y = -0.08;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._copy.material) me._copy.material.opacity = v;
			me._copy.visible = (v>0 && me._copy.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._copy.visible
			let parentEl = me._copy.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._copy.userData.opacity = v;
			v = v * me._copy.userData.parentOpacity;
			me._copy.userData.setOpacityInternal(v);
			for (let i = 0; i < me._copy.children.length; i++) {
				let child = me._copy.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._copy.userData.parentOpacity = v;
			v = v * me._copy.userData.opacity
			me._copy.userData.setOpacityInternal(v);
			for (let i = 0; i < me._copy.children.length; i++) {
				let child = me._copy.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._copy = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE6klEQVR4nO2bT2gcVRzHv7+ZehBJD2mlbS6VUHaDKXRn1lgqtJiIqGx2PBhLQXothCj11JNlXD3pTdEouQY81Aoyu0sLYhNaMEWys1tsSqeEopf+oUkOzdHs/Dw4YhLeTObPm9mk2Q/sYd6893u/9533Zt+f3wBdunTpsouhtCswTVNpNptHyXVfZ6JBAHkAhxnYS0APADCwSsBTAH8BcIh5gRVlVtO025VKxU3Tv1QEME1TudVonHKBsyAyAOyPaWoJzJYCTB8rFq+nIYZUAbynfRrMnwM4ItM2gEUQXdQ07ZJMIaQJMDo6+gYRfUFAUZZNEQw0AFyoVqvXZNhLLECpVOpXVXUSzG/JcCgCV9uuO1Gv1+8nMZJIAMMwhpn5MgG9SezEhYEVIhqzLG'+
	'smrg01bkHDMMbB/AMBL8S1kRQCngfwQX5gYMlxnPmYNqJx7ty55x49ePAViMbjVJgazN8d7Os7PzU19XeUYnui1rMtGw8AROOPHz5kABNRikUaAoZhjAP4NEqZjBnK53KPnXv3Qg+H0EPAMIxhMP+CANHmbt4EM4c1KY3XTpxYf7mmML/5c602G6asEiZTqVTqZ+bLSPDSzJA9baKfSqVSf5jMoQRQFeXbTv3VxYGAXlVRvgmTd0sByuXyCIC3E3uVPe8YhjG8VabAd4Bpmopt27+nPb2Nym9zcxuuN70D1jOv6frxoLVDYA9oNpunt1vjI/JKq9F4PyiDbw8wTVNp2raDgFXd5ieRNv896Qg9AAAWNV3P+/UC3x5wq9E4BflL2k5wxLbtk343fQVwgbPp+JM9FNAWoQCmaSreTs6zgmGaprCtwrVAs9k8ivjbWL70'+
	'9m6cSqysrMiuwo8XW63WIIA/Nt8QCuBtYEr3YiCf33Cd6Uu03R6GQABht/B2b58pXKKXRel+L8G8T/pORtgmPwEOp+hIRyDgJVG6eAgAe1P1pjP0iBKFApBP5h1OeAF2E8K/Qe+sLvL6f/++fcjlcqHzB83h7zqO7HnCqijRbwg8lVlzHEj+PCS8APj3lLazSN5bZOBPUbqfAI7U2mOQwtaqsE3iqTDzQpyp8NLyMpYCprebx3yWU2GF+Y4wXZTIijKbqjedQFWF54dCATRNuw1gKVWHsuVJoVBYEN0QClCpVFwwW+n6lClW5C0xBZhOz59s4YC2+ApwrFi8DmAxFY+yZVHX9Rt+N30FqFQqLogupuNTdhDzJ7HPBTRNu+TF5EjhruNs+MWFiDb8ApgvFIs/BtraqrJyuTxCwK+ie506FwgN0chW4TNbrga9aKyr0W'+
	'reFlwJEzsUajncdt0JBjLbwpXActt1PwyTMZQA9Xr9PhGNAVhL5FY2rCnMY2HD5yJN+L3IsMl4fmUE87hVq30fNnukiA/HcebzudwBEA1F9yx9CJi0arXPopSJvCV2sK/vPAHbrhcQMHng0KGPY5SLhzccvkaMUDvJrIH5oyjdfj07PlRWZX4vbESYiES7wpZlzbiuO4TOzBOuuK47lKTxgMRweS+Y6ssMQmrmQXQhSYD0eqSdC1Sr1Wu6rr9KzGeQzipykZjPaLp+XFbjgRQ/mbFt+6QXmfEu4scaPAFgMTCt6/qNbf/JjAjTNJVWqzWIdnvYO6LOeweVPfj/uGoVwKq3de0ozHegqjOFQmEh7Y+munTp0mVX8w/Y0apEaHnBhQAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'copy_materialOver';
		el.userData.ggId="copy";
		me._copy.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('opt_share_copy') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._copy.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._copy.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._copy.ggCurrentLogicStateVisible == 0) {
			me._copy.visible=((!me._copy.material && Number(me._copy.userData.opacity>0)) || Number(me._copy.material.opacity)>0)?true:false;
			me._copy.userData.visible=true;
				}
				else {
			me._copy.visible=false;
			me._copy.userData.visible=false;
				}
			}
		}
		me._copy.logicBlock_visible();
		me._copy.userData.onclick=function (e) {
			text = document.URL
i = text.indexOf("#");
if (i >= 1) {
text = text.substring(0, i);
}
text = text + "#" + pano.getCurrentNode() + "," + (Math.round(pano.getPan() * 100) / 100) + "," + (Math.round(pano.getTilt() * 100) / 100) + "," + (Math.round(pano.getFov() * 100) / 100) + "," + pano.getProjection();

dummy = document.createElement('input');
document.body.appendChild(dummy);
dummy.value = text;
dummy.select();
document.execCommand('copy');
document.body.removeChild(dummy);
alert("The current view has been copied.");
		}
		me._copy.userData.onmouseover=function (e) {
			me._copy.material = me._copy.userData.materialOver;
			me.elementMouseOver['copy']=true;
		}
		me._copy.userData.onmouseout=function (e) {
			me._copy.material = me._copy.userData.materialNormal;
			me.elementMouseOver['copy']=false;
		}
		me._copy.userData.ggUpdatePosition=function (useTransition) {
		}
		me._share.add(me._copy);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'twitter_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAD6ElEQVR4nO3YTYgcRRgG4Pet7mVniIqYrPTPzILoinpSFkQQ4oK6iIjiD64KgiIRI5iTBxEMGA+CoiLiwUOCJw/+REWIIpKgIrJgwCBGTWImpHuqmyzowQ1xd7b68zA7ZtwkuzPdtVGwnuvU99Y3HzU/XYDjOI7jOI7jOI7jOI7z/8J/u4F+rVarVqvVZgDcKyLXACgAHAXwuVLqrSAITvavF5GRJEnGxsfHddk9rQwgy7LrSR4LguBE2Qyt9SSAdwBceY4liYg8Fcfxx0mSTCiltpCcIXlTGIbHyu5rZQDtdnsvyVhEbo3j+Piw9WmaXquU+hLARWssFQD7AUyi2/uLURQ9O3zHp1UeQJIksed5yXJWUhTFLY1G49Cg9XNzcxd2Op0DAC4bcuvXPM'+
	'970xjzgIhkcRzvGrIeAKDKFPXzfT/G6UE2lVJf53l+x6D1i4uLT2P4Nz9PcsYYcwTAMyS/HbL+b5UHQHLlKbq0KIpPtNa70zRtDFD/YIltLxCRCMASgEeiKPqpREZ3/7KFPUmSXOJ53gkA3llenheRVwDsjOM4WflinucbiqKYL7n1SZL3h2G4p2Q9AEtfglrrfQCmVllSAPiC5E7f9z8dGxv7AwBardbFo6Ojv5fZU0S2xXH8Rpnafn7VAAAg+ZKITK2yRAGYFpHpTqdTaK1/JjkrIrMATgGoD7unUior2e4/VD4BIkKSorV+HcA2Cz0NRCl1cxAEeyvnVA3I8/x2rfUhEfFIHqmaN6ilpaXfbORU/giQPCgiEyQnRMRGTwMRkTkbOZVPQBAELQAHLfQyjLzZbLZtBFUeAACQfN5GzhC+sRVkZQBhGL4L4H0bWQP6'+
	'bw0AAMIwfAjdp7nz4StbQdYGQLIThuHDInIXgO9t5Z7Fd1EU7bcVZuWPUE+WZe+RvMdm5kokX7aZZ+0EAEBRFDvQfWZfL78GQfCBzUCrA2g0GgcAbLeZ2Y/kCySN1UybYT1Zlm0Xkedg9yP2URRFd1vMA2D5BPSEYbjDGDNJcheA3ELkj8aYxyzknGHdb4W11lcD2A3gqpIRR40xm23981tpXQYgItRa30jyPgCPo8Tj7rJZpdSdVW6b11JpAGmabvR9/woRqYtIbfmhaArAZgCbqmSLyNtFUTzZbDZPVclZS6UvqXq93llYWJgBsBVA7czrwVJ+Ibk1iqJ9NsLWYqXjNE03ep73qIg8AeDyUo10b3ZfDYLgQ9s/davuazNMRJhl2TSA20TkBpLXARg9x/I2gB8AfGaM2dNsNg/b7GVQ6/orICLM83wTyQDABmPMAs'+
	'k/R0ZG0t7FqOM4juM4juM4juM4jnOe/QWtCEzbhUjqhQAAAABJRU5ErkJggg==');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'twitter_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.94);
		el.translateY(-0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'twitter';
		el.userData.x = -0.94;
		el.userData.y = -0.08;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._twitter.material) me._twitter.material.opacity = v;
			me._twitter.visible = (v>0 && me._twitter.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._twitter.visible
			let parentEl = me._twitter.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._twitter.userData.opacity = v;
			v = v * me._twitter.userData.parentOpacity;
			me._twitter.userData.setOpacityInternal(v);
			for (let i = 0; i < me._twitter.children.length; i++) {
				let child = me._twitter.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._twitter.userData.parentOpacity = v;
			v = v * me._twitter.userData.opacity
			me._twitter.userData.setOpacityInternal(v);
			for (let i = 0; i < me._twitter.children.length; i++) {
				let child = me._twitter.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._twitter = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'twitter_materialOver';
		el.userData.ggId="twitter";
		me._twitter.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('opt_share_twitter') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._twitter.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._twitter.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._twitter.ggCurrentLogicStateVisible == 0) {
			me._twitter.visible=((!me._twitter.material && Number(me._twitter.userData.opacity>0)) || Number(me._twitter.material.opacity)>0)?true:false;
			me._twitter.userData.visible=true;
				}
				else {
			me._twitter.visible=false;
			me._twitter.userData.visible=false;
				}
			}
		}
		me._twitter.logicBlock_visible();
		me._twitter.userData.onclick=function (e) {
			window.open('http://twitter.com/share?url=' + location.href);
		}
		me._twitter.userData.onmouseover=function (e) {
			me._twitter.material = me._twitter.userData.materialOver;
			me.elementMouseOver['twitter']=true;
		}
		me._twitter.userData.onmouseout=function (e) {
			me._twitter.material = me._twitter.userData.materialNormal;
			me.elementMouseOver['twitter']=false;
		}
		me._twitter.userData.ggUpdatePosition=function (useTransition) {
		}
		me._share.add(me._twitter);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'facebook_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACO0lEQVR4nO2asYoTURSG/3OzSSBbGKOSYZJGEMTKVt9ARAurLW22sBC0VvAxBGsrke0EsbXwCWzWwhQ7yYzBRbOisCHc3yZFEJKMy809G+Z87T0555+P3JnLMIBhGIZhGIZhGEYFEe0Ai5DcybLsar1e73jv2yIyJfnLe38C4Ljf7x+HnqkuoCiKXZIPST4AcBvA7oryPwCOABykafo8xPydEE3OAknJ8/yJ9/4FgIslf9YCcB3AzVA5VAQMh8NWnucHAO5ozF/ExR5IsgbgDc7BxQMKAoqieCoi92LPXUZUAYPBoE3yWcyZ64gqoNls7gHoxJy5jqg3QRG5S7JsOUm+dc59JJk756YLC99CZYoqgOStkqUZyb1er/dpo4EQcQuQdAAul6x9HOPigY'+
	'gnwSzLLjnnvpcozdM0TTceaE60f0Cj0aiXLD3caJB/iH4OKMHvmMPOo4ComADtANpUXkDQx+BoNCpWLDsAV0q0OQXwc1WBc24/SZJ3/5NtGaFPgt0APZrr+pD8GmAOgO3cAtMkSb6EarZ1AkgeisgsVL+tEyAin0P22zoBAKotgGS1BdRqtaACgj4GnXP3l61579sAXpdo894593LZYrfbHZwl2zKivQ8Yj8fJbDbLS5S+StP00cYDzdm6LRAaE6AdQBsToB1AGxOgHUAbE6AdQBsToB1AGxOgHUAbE6AdQBsToB1Am8oLiPaR1GQy+dFqtfYB3BCRawA6InJh/u3QKckTETkC8CFWJsMwjL/g7Z1uUfv+RAAAAABJRU5ErkJggg==');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'facebook_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.86);
		el.translateY(-0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'facebook';
		el.userData.x = -0.86;
		el.userData.y = -0.08;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._facebook.material) me._facebook.material.opacity = v;
			me._facebook.visible = (v>0 && me._facebook.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._facebook.visible
			let parentEl = me._facebook.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._facebook.userData.opacity = v;
			v = v * me._facebook.userData.parentOpacity;
			me._facebook.userData.setOpacityInternal(v);
			for (let i = 0; i < me._facebook.children.length; i++) {
				let child = me._facebook.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._facebook.userData.parentOpacity = v;
			v = v * me._facebook.userData.opacity
			me._facebook.userData.setOpacityInternal(v);
			for (let i = 0; i < me._facebook.children.length; i++) {
				let child = me._facebook.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._facebook = el;
		textureOver = loader.load('data:image/png;base64,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'+
	'j+AP3+N1AY/XG6AAAAAElFTkSuQmCC');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'facebook_materialOver';
		el.userData.ggId="facebook";
		me._facebook.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('opt_share_facebook') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._facebook.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._facebook.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._facebook.ggCurrentLogicStateVisible == 0) {
			me._facebook.visible=((!me._facebook.material && Number(me._facebook.userData.opacity>0)) || Number(me._facebook.material.opacity)>0)?true:false;
			me._facebook.userData.visible=true;
				}
				else {
			me._facebook.visible=false;
			me._facebook.userData.visible=false;
				}
			}
		}
		me._facebook.logicBlock_visible();
		me._facebook.userData.onclick=function (e) {
			window.open('https://www.facebook.com/sharer/sharer.php?u=' + location.href);
		}
		me._facebook.userData.onmouseover=function (e) {
			me._facebook.material = me._facebook.userData.materialOver;
			me.elementMouseOver['facebook']=true;
		}
		me._facebook.userData.onmouseout=function (e) {
			me._facebook.material = me._facebook.userData.materialNormal;
			me.elementMouseOver['facebook']=false;
		}
		me._facebook.userData.ggUpdatePosition=function (useTransition) {
		}
		me._share.add(me._facebook);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'share_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'share_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.94);
		el.translateY(0.16);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'share_close';
		el.userData.x = 0.94;
		el.userData.y = 0.16;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._share_close.material) me._share_close.material.opacity = v;
			me._share_close.visible = (v>0 && me._share_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._share_close.visible
			let parentEl = me._share_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._share_close.userData.opacity = v;
			v = v * me._share_close.userData.parentOpacity;
			me._share_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._share_close.children.length; i++) {
				let child = me._share_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._share_close.userData.parentOpacity = v;
			v = v * me._share_close.userData.opacity
			me._share_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._share_close.children.length; i++) {
				let child = me._share_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._share_close = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'share_close_materialOver';
		el.userData.ggId="share_close";
		me._share_close.userData.onclick=function (e) {
			player.setVariableValue('vis_share', false);
		}
		me._share_close.userData.onmouseover=function (e) {
			me._share_close.material = me._share_close.userData.materialOver;
			me.elementMouseOver['share_close']=true;
		}
		me._share_close.userData.onmouseout=function (e) {
			me._share_close.material = me._share_close.userData.materialNormal;
			me.elementMouseOver['share_close']=false;
		}
		me._share_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._share.add(me._share_close);
		me.skinGroup.add(me._share);
		width = 2;
		height = 3.16;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.16, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'info_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'info_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._info.material.opacity = v * me._info.userData.backgroundColorAlpha;
			if (me._info.userData.ggSubElement) {
				me._info.userData.ggSubElement.material.opacity = v
				me._info.userData.ggSubElement.visible = (v>0 && me._info.userData.visible);
			}
			me._info.visible = (v>0 && me._info.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._info.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info.userData.backgroundColorAlpha = v;
			me._info.userData.setOpacity(me._info.userData.opacity);
		}
		el.translateX(-2.84);
		el.translateY(-0.7);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 200;
		el.userData.height = 316;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info';
		el.userData.x = -2.84;
		el.userData.y = -0.7;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._info.visible
			let parentEl = me._info.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info.userData.opacity = v;
			v = v * me._info.userData.parentOpacity;
			me._info.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info.children.length; i++) {
				let child = me._info.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info.userData.parentOpacity = v;
			v = v * me._info.userData.opacity
			me._info.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info.children.length; i++) {
				let child = me._info.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info = el;
		el.userData.ggId="info";
		me._info.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_info') == true)) && 
				((player._(me.ggUserdata.description) != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._info.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._info.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._info.ggCurrentLogicStateVisible == 0) {
			me._info.visible=((!me._info.material && Number(me._info.userData.opacity>0)) || Number(me._info.material.opacity)>0)?true:false;
			me._info.userData.visible=true;
				}
				else {
			me._info.visible=false;
			me._info.userData.visible=false;
				}
			}
		}
		me._info.logicBlock_visible();
		me._info.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(1.81714, 2.67, 5, 5 );
		geometry.name = 'info_text_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'info_text_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._info_text.material.opacity = v;
			if (me._info_text.userData.hasScrollbar) {
				me._info_text.userData.scrollbar.material.opacity = v;
				me._info_text.userData.scrollbarBg.material.opacity = v;
			}
			if (me._info_text.userData.ggSubElement) {
				me._info_text.userData.ggSubElement.material.opacity = v
				me._info_text.userData.ggSubElement.visible = (v>0 && me._info_text.userData.visible);
			}
			me._info_text.visible = (v>0 && me._info_text.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._info_text.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_text.userData.backgroundColorAlpha = v;
			me._info_text.userData.setOpacity(me._info_text.userData.opacity);
		}
		el.translateX(0.068571);
		el.translateY(-0.075);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 181.714;
		el.userData.height = 267;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_text';
		el.userData.x = 0.068571;
		el.userData.y = -0.075;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._info_text.visible
			let parentEl = me._info_text.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_text.userData.opacity = v;
			v = v * me._info_text.userData.parentOpacity;
			me._info_text.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_text.children.length; i++) {
				let child = me._info_text.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_text.userData.parentOpacity = v;
			v = v * me._info_text.userData.opacity
			me._info_text.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_text.children.length; i++) {
				let child = me._info_text.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_text = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 182;
		canvas.height = 267;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._info_text.userData.totalHeight = 35;
			me._info_text.userData.textLines = [];
			var ctx = me._info_text.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._info_text.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._info_text.userData.textLines.push(line);
					line = '';
					me._info_text.userData.totalHeight += me._info_text.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._info_text.userData.width - 32 - (scrollbar ? 25 : 0)) && i > 0) {
					me._info_text.userData.textLines.push(line);
					line = words[i];
					me._info_text.userData.totalHeight += me._info_text.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._info_text.userData.textLines.push(line);
			me._info_text.userData.totalHeight += me._info_text.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._info_text.userData.textCanvas;
			var ctx = me._info_text.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._info_text.userData.textColor.r * 255 + ', ' + me._info_text.userData.textColor.g * 255 + ', ' + me._info_text.userData.textColor.b * 255 + ', ' + me._info_text.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 16;
			ctx.textAlign = 'left';
			var y = 19;
			y -= me._info_text.userData.scrollPosPercent * me._info_text.userData.totalHeight;
			for (var i = 0; i < me._info_text.userData.textLines.length; i++) {
				ctx.fillText(me._info_text.userData.textLines[i], x, y);
				y += me._info_text.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'info_text_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._info_text.material.map) {
				me._info_text.material.map.dispose();
			}
			me._info_text.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._info_text.remove(...me._info_text.children);
			var canv = me._info_text.userData.textCanvas;
			var ctx = me._info_text.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._info_text.userData.lineHeight = 16 * 1.2;
			me._info_text.userData.ggWrapText(false);
			me._info_text.userData.boxWidth = me._info_text.userData.width;
			me._info_text.userData.boxHeight = me._info_text.userData.height;
			me._info_text.userData.scrollPosPercent = 0.0
			if (me._info_text.userData.totalHeight > me._info_text.userData.height) {
				me._info_text.userData.ggWrapText(true);
				me._info_text.userData.pagePercent = me._info_text.userData.height / me._info_text.userData.totalHeight;
				me._info_text.userData.maxScrollPercent = (me._info_text.userData.totalHeight - me._info_text.userData.height) / me._info_text.userData.totalHeight;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_text.userData.height / 100.0, 5, 5 );
				geometry.name = 'info_text_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_text_scrollbarBgMaterial';
				me._info_text.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._info_text.userData.scrollbarBg.name = 'info_text_scrollbarBg';
				me._info_text.add(me._info_text.userData.scrollbarBg);
				me._info_text.userData.scrollbarXPos = (me._info_text.userData.width - 25) / 200.0;
				me._info_text.userData.scrollbarBg.position.x = me._info_text.userData.scrollbarXPos;
				me._info_text.userData.scrollbarBg.position.z = me._info_text.position.z + 0.01;
				me._info_text.userData.scrollbarBg.userData.stopPropagation = true;
				me._info_text.userData.scrollbarHeight = (me._info_text.userData.height / me._info_text.userData.totalHeight) * me._info_text.userData.height;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_text.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'info_text_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_text_scrollbarMaterial';
				me._info_text.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._info_text.userData.scrollbar.name = 'info_text_scrollbar';
				me._info_text.add(me._info_text.userData.scrollbar);
				me._info_text.userData.scrollbar.position.x = me._info_text.userData.scrollbarXPos;
				me._info_text.userData.scrollbar.position.z = me._info_text.position.z + 0.02;
				me._info_text.userData.scrollbarYPosMin = (me._info_text.userData.height - me._info_text.userData.scrollbarHeight) / 200.0;
				me._info_text.userData.scrollbarYPosMax = me._info_text.userData.scrollbarYPosMin - (me._info_text.userData.height - me._info_text.userData.scrollbarHeight) / 100.0;
				me._info_text.userData.scrollbar.position.y = me._info_text.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_text.userData.height / 200.0, 5, 5 );
				geometry.name = 'info_text_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_text_scrollbarPageDownMaterial';
				me._info_text.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._info_text.userData.scrollbarPageDown.name = 'info_text_scrollbarPageDown';
				me._info_text.userData.scrollbarPageDown.userData.onclick = function() {
					me._info_text.userData.scrollPosPercent -= me._info_text.userData.pagePercent;
					me._info_text.userData.scrollPosPercent = Math.max(me._info_text.userData.scrollPosPercent, 0);
					me._info_text.userData.ggPaintCanvasText();
					me._info_text.userData.scrollbar.position.y += (me._info_text.userData.height * me._info_text.userData.pagePercent) / 100.0;
					me._info_text.userData.scrollbar.position.y = Math.min(me._info_text.userData.scrollbar.position.y, me._info_text.userData.scrollbarYPosMin);
				}
				me._info_text.userData.scrollbarPageDown.position.x = me._info_text.userData.scrollbarXPos;
				me._info_text.userData.scrollbarPageDown.position.y = me._info_text.userData.height / 400.0;
				me._info_text.userData.scrollbarPageDown.position.z = me._info_text.position.z + 0.05;
				me._info_text.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._info_text.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._info_text.userData.scrollbarPageDown.visible = false;
				me._info_text.add(me._info_text.userData.scrollbarPageDown);
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_text.userData.height / 200.0, 5, 5 );
				geometry.name = 'info_text_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_text_scrollbarPageUpMaterial';
				me._info_text.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._info_text.userData.scrollbarPageUp.name = 'info_text_scrollbarPageUp';
				me._info_text.userData.scrollbarPageUp.userData.onclick = function() {
					me._info_text.userData.scrollPosPercent += me._info_text.userData.pagePercent;
					me._info_text.userData.scrollPosPercent = Math.min(me._info_text.userData.scrollPosPercent, me._info_text.userData.maxScrollPercent);
					me._info_text.userData.ggPaintCanvasText();
					me._info_text.userData.scrollbar.position.y -= (me._info_text.userData.height * me._info_text.userData.pagePercent) / 100.0;
					me._info_text.userData.scrollbar.position.y = Math.max(me._info_text.userData.scrollbar.position.y, me._info_text.userData.scrollbarYPosMax);
				}
				me._info_text.userData.scrollbarPageUp.position.x = me._info_text.userData.scrollbarXPos;
				me._info_text.userData.scrollbarPageUp.position.y = -me._info_text.userData.height / 400.0;
				me._info_text.userData.scrollbarPageUp.position.z = me._info_text.position.z + 0.05;
				me._info_text.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._info_text.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._info_text.userData.scrollbarPageUp.visible = false;
				me._info_text.add(me._info_text.userData.scrollbarPageUp);
				me._info_text.userData.hasScrollbar = true;
			} else {
				me._info_text.userData.hasScrollbar = false;
			}
			canv.width = me._info_text.userData.boxWidth;
			canv.height = me._info_text.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._info_text.userData.ggPaintCanvasText();
		}
		me._info_text.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.ggUserdata.title))));
			params.push(player._(String(player._(me.ggUserdata.description))));
			var hs = player._("<strong style=\'font-size: 24px\'>%1<\/strong><br>\n<div>%2<\/div>", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._info_text.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._info_text.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._info_text.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._info_text.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_text.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._info_text.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._info_text.userData.textColorAlpha = v;
		}
		el.userData.ggId="info_text";
		me._info_text.userData.ggUpdatePosition=function (useTransition) {
		}
		me._info.add(me._info_text);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'info_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'info_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.84);
		el.translateY(1.42);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_close';
		el.userData.x = 0.84;
		el.userData.y = 1.42;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._info_close.material) me._info_close.material.opacity = v;
			me._info_close.visible = (v>0 && me._info_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._info_close.visible
			let parentEl = me._info_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_close.userData.opacity = v;
			v = v * me._info_close.userData.parentOpacity;
			me._info_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_close.children.length; i++) {
				let child = me._info_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_close.userData.parentOpacity = v;
			v = v * me._info_close.userData.opacity
			me._info_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_close.children.length; i++) {
				let child = me._info_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_close = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'info_close_materialOver';
		el.userData.ggId="info_close";
		me._info_close.userData.onclick=function (e) {
			player.setVariableValue('vis_info', false);
		}
		me._info_close.userData.onmouseover=function (e) {
			me._info_close.material = me._info_close.userData.materialOver;
			me.elementMouseOver['info_close']=true;
		}
		me._info_close.userData.onmouseout=function (e) {
			me._info_close.material = me._info_close.userData.materialNormal;
			me.elementMouseOver['info_close']=false;
		}
		me._info_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._info.add(me._info_close);
		me.skinGroup.add(me._info);
		width = 2;
		height = 6;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.16, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'map_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'map_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._map.material.opacity = v * me._map.userData.backgroundColorAlpha;
			if (me._map.userData.ggSubElement) {
				me._map.userData.ggSubElement.material.opacity = v
				me._map.userData.ggSubElement.visible = (v>0 && me._map.userData.visible);
			}
			me._map.visible = (v>0 && me._map.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._map.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._map.userData.backgroundColorAlpha = v;
			me._map.userData.setOpacity(me._map.userData.opacity);
		}
		el.translateX(2.9);
		el.translateY(-0.5);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 200;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map';
		el.userData.x = 2.9;
		el.userData.y = -0.5;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._map.visible
			let parentEl = me._map.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map.userData.opacity = v;
			v = v * me._map.userData.parentOpacity;
			me._map.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map.children.length; i++) {
				let child = me._map.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map.userData.parentOpacity = v;
			v = v * me._map.userData.opacity
			me._map.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map.children.length; i++) {
				let child = me._map.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map = el;
		el.userData.ggId="map";
		me._map.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_map') == true)) || 
				((player.getVariableValue('vis_floorplan') == true)) && 
				((player.getVariableValue('resp_desktop') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map.ggCurrentLogicStateVisible == 0) {
			me._map.visible=false;
			me._map.userData.visible=false;
				}
				else {
			me._map.visible=false;
			me._map.userData.visible=false;
				}
			}
		}
		me._map.logicBlock_visible();
		me._map.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.88667;
		height = 4.83637;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.04, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.04, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.04);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.04);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.04, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.04, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.04);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.04);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.04, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'map_content_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'map_content_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._map_content.material.opacity = v * me._map_content.userData.backgroundColorAlpha;
			if (me._map_content.userData.ggSubElement) {
				me._map_content.userData.ggSubElement.material.opacity = v
				me._map_content.userData.ggSubElement.visible = (v>0 && me._map_content.userData.visible);
			}
			me._map_content.visible = (v>0 && me._map_content.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._map_content.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._map_content.userData.backgroundColorAlpha = v;
			me._map_content.userData.setOpacity(me._map_content.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.501817);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 188.667;
		el.userData.height = 483.637;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_content';
		el.userData.x = 0;
		el.userData.y = -0.501817;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._map_content.visible
			let parentEl = me._map_content.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_content.userData.opacity = v;
			v = v * me._map_content.userData.parentOpacity;
			me._map_content.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_content.children.length; i++) {
				let child = me._map_content.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_content.userData.parentOpacity = v;
			v = v * me._map_content.userData.opacity
			me._map_content.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_content.children.length; i++) {
				let child = me._map_content.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_content = el;
		el.userData.ggId="map_content";
		me._map_content.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_map') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map_content.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map_content.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map_content.ggCurrentLogicStateVisible == 0) {
			me._map_content.visible=((!me._map_content.material && Number(me._map_content.userData.opacity>0)) || Number(me._map_content.material.opacity)>0)?true:false;
			me._map_content.userData.visible=true;
				}
				else {
			me._map_content.visible=false;
			me._map_content.userData.visible=false;
				}
			}
		}
		me._map_content.logicBlock_visible();
		me._map_content.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map.add(me._map_content);
		width = 1.88667;
		height = 4.83637;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.04, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.04, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.04);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.04);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.04, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.04, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.04);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.04);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.04, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'floorplan_content_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'floorplan_content_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._floorplan_content.material.opacity = v * me._floorplan_content.userData.backgroundColorAlpha;
			if (me._floorplan_content.userData.ggSubElement) {
				me._floorplan_content.userData.ggSubElement.material.opacity = v
				me._floorplan_content.userData.ggSubElement.visible = (v>0 && me._floorplan_content.userData.visible);
			}
			me._floorplan_content.visible = (v>0 && me._floorplan_content.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._floorplan_content.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._floorplan_content.userData.backgroundColorAlpha = v;
			me._floorplan_content.userData.setOpacity(me._floorplan_content.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.501817);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 188.667;
		el.userData.height = 483.637;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'floorplan_content';
		el.userData.x = 0;
		el.userData.y = -0.501817;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._floorplan_content.visible
			let parentEl = me._floorplan_content.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._floorplan_content.userData.opacity = v;
			v = v * me._floorplan_content.userData.parentOpacity;
			me._floorplan_content.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floorplan_content.children.length; i++) {
				let child = me._floorplan_content.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._floorplan_content.userData.parentOpacity = v;
			v = v * me._floorplan_content.userData.opacity
			me._floorplan_content.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floorplan_content.children.length; i++) {
				let child = me._floorplan_content.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._floorplan_content = el;
		el.userData.ggId="floorplan_content";
		me._floorplan_content.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_floorplan') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._floorplan_content.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._floorplan_content.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._floorplan_content.ggCurrentLogicStateVisible == 0) {
			me._floorplan_content.visible=((!me._floorplan_content.material && Number(me._floorplan_content.userData.opacity>0)) || Number(me._floorplan_content.material.opacity)>0)?true:false;
			me._floorplan_content.userData.visible=true;
				}
				else {
			me._floorplan_content.visible=false;
			me._floorplan_content.userData.visible=false;
				}
			}
		}
		me._floorplan_content.logicBlock_visible();
		me._floorplan_content.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map.add(me._floorplan_content);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'map_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'map_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.84);
		el.translateY(2.84);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_close';
		el.userData.x = 0.84;
		el.userData.y = 2.84;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.070);
		el.renderOrder = 7;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._map_close.material) me._map_close.material.opacity = v;
			me._map_close.visible = (v>0 && me._map_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._map_close.visible
			let parentEl = me._map_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_close.userData.opacity = v;
			v = v * me._map_close.userData.parentOpacity;
			me._map_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_close.children.length; i++) {
				let child = me._map_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_close.userData.parentOpacity = v;
			v = v * me._map_close.userData.opacity
			me._map_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_close.children.length; i++) {
				let child = me._map_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_close = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'map_close_materialOver';
		el.userData.ggId="map_close";
		me._map_close.userData.onclick=function (e) {
			player.setVariableValue('vis_map', false);
			player.setVariableValue('vis_floorplan', false);
		}
		me._map_close.userData.onmouseover=function (e) {
			me._map_close.material = me._map_close.userData.materialOver;
			me.elementMouseOver['map_close']=true;
		}
		me._map_close.userData.onmouseout=function (e) {
			me._map_close.material = me._map_close.userData.materialNormal;
			me.elementMouseOver['map_close']=false;
		}
		me._map_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map.add(me._map_close);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'map_full_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACSElEQVR4nO3YzWrVQBQH8P8Jfr5BzuQFXPgQroqotdS6c+NHLReqiNA+hYoLoaIXF1JcKFi70IVU0JeZM3kBtaK9x41gor0XG2eSQc9vlyGT83GTuckAxhhjjDHGGGP+PzR0Ak0hhDVVvdNlrnOuUy1Fl0n/EmvA0AkMLas1YBbv/VUiGmPKj9Z1DTj0V1n1RESWATxCgjs2+0dARFbwe/FfYl0/6waIyAjAQ/xSfFEUF2PFyLYBIYRVABto57hLREtlWb6OFSfLBnjvb6rqA7QX6V0iusDMb2LGym4RFJFbAO6jXfxnAIvM/DZ2vKzuABG5jX2KV9UF51z04oGMGuC9nwNwD+3iP6nq+aqqdlLFzaYBzrkdAOPG0MeiKOarqnqXMm42awARqaqOQg'+
	'gAcImIzpVl+WHG+eu9JdcnVSXv/Ymh8zDGmKjquj6pqtntP3ROKISw1jxm5rvTzvXezxHRNoBNZh4RkXaNG1vnBohIq4hpOzIichrAFoDjP4Ye59SEpG+CIYQzAF7hZ/EAcL2u61Mp4x5EsgaEEM6q6haAY43hCRHdYOb3qeIeVJIGeO/nVfUlgKON4QmAVWbeSBGzq+jfAt77BSJ6AeBIY3gCYOScG0+ZNpiod4CILO5XvKqu5Fg8ELEBIrIE4Dnaxe+p6nJVVU9ixYkt2t8ggK8ADjeO94joGjM/7RqjDzHXgFbxAK4w82bE6yeRYkPkG4DLzrlnCa4dXcxH4M8CEq3Pem3uWzZ7gkOxBgydgDHGGGOMMcYY07/vs2yuN5+fZPcAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'map_full_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.84);
		el.translateY(2.84);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_full';
		el.userData.x = -0.84;
		el.userData.y = 2.84;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.080);
		el.renderOrder = 8;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._map_full.material) me._map_full.material.opacity = v;
			me._map_full.visible = (v>0 && me._map_full.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._map_full.visible
			let parentEl = me._map_full.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_full.userData.opacity = v;
			v = v * me._map_full.userData.parentOpacity;
			me._map_full.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_full.children.length; i++) {
				let child = me._map_full.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_full.userData.parentOpacity = v;
			v = v * me._map_full.userData.opacity
			me._map_full.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_full.children.length; i++) {
				let child = me._map_full.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_full = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'map_full_materialOver';
		el.userData.ggId="map_full";
		me._map_full.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('vis_map') == true))
				)
			) {
				player.setVariableValue('vis_map_full', true);
			}
			if (
				(
					((player.getVariableValue('vis_floorplan') == true))
				)
			) {
				player.setVariableValue('vis_floorplan_full', true);
			}
			player.setVariableValue('vis_map', false);
			player.setVariableValue('vis_floorplan', false);
		}
		me._map_full.userData.onmouseover=function (e) {
			me._map_full.material = me._map_full.userData.materialOver;
			me.elementMouseOver['map_full']=true;
		}
		me._map_full.userData.onmouseout=function (e) {
			me._map_full.material = me._map_full.userData.materialNormal;
			me.elementMouseOver['map_full']=false;
		}
		me._map_full.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map.add(me._map_full);
		me.skinGroup.add(me._map);
		width = 6.4;
		height = 6;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.18, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.18, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.18, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.18, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.18, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'map_fullscreen_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'map_fullscreen_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._map_fullscreen.material.opacity = v * me._map_fullscreen.userData.backgroundColorAlpha;
			if (me._map_fullscreen.userData.ggSubElement) {
				me._map_fullscreen.userData.ggSubElement.material.opacity = v
				me._map_fullscreen.userData.ggSubElement.visible = (v>0 && me._map_fullscreen.userData.visible);
			}
			me._map_fullscreen.visible = (v>0 && me._map_fullscreen.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._map_fullscreen.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._map_fullscreen.userData.backgroundColorAlpha = v;
			me._map_fullscreen.userData.setOpacity(me._map_fullscreen.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.4);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_fullscreen';
		el.userData.x = 0;
		el.userData.y = 0.4;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._map_fullscreen.visible
			let parentEl = me._map_fullscreen.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_fullscreen.userData.opacity = v;
			v = v * me._map_fullscreen.userData.parentOpacity;
			me._map_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_fullscreen.children.length; i++) {
				let child = me._map_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_fullscreen.userData.parentOpacity = v;
			v = v * me._map_fullscreen.userData.opacity
			me._map_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_fullscreen.children.length; i++) {
				let child = me._map_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_fullscreen = el;
		el.userData.ggId="map_fullscreen";
		me._map_fullscreen.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_map_full') == true)) || 
				((player.getVariableValue('vis_floorplan_full') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map_fullscreen.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map_fullscreen.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map_fullscreen.ggCurrentLogicStateVisible == 0) {
			me._map_fullscreen.visible=((!me._map_fullscreen.material && Number(me._map_fullscreen.userData.opacity>0)) || Number(me._map_fullscreen.material.opacity)>0)?true:false;
			me._map_fullscreen.userData.visible=true;
				}
				else {
			me._map_fullscreen.visible=false;
			me._map_fullscreen.userData.visible=false;
				}
			}
		}
		me._map_fullscreen.logicBlock_visible();
		me._map_fullscreen.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 6.03733;
		height = 4.83637;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'map_fs_content_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'map_fs_content_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._map_fs_content.material.opacity = v * me._map_fs_content.userData.backgroundColorAlpha;
			if (me._map_fs_content.userData.ggSubElement) {
				me._map_fs_content.userData.ggSubElement.material.opacity = v
				me._map_fs_content.userData.ggSubElement.visible = (v>0 && me._map_fs_content.userData.visible);
			}
			me._map_fs_content.visible = (v>0 && me._map_fs_content.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._map_fs_content.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._map_fs_content.userData.backgroundColorAlpha = v;
			me._map_fs_content.userData.setOpacity(me._map_fs_content.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.421817);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 603.733;
		el.userData.height = 483.637;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_fs_content';
		el.userData.x = 0;
		el.userData.y = -0.421817;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._map_fs_content.visible
			let parentEl = me._map_fs_content.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_fs_content.userData.opacity = v;
			v = v * me._map_fs_content.userData.parentOpacity;
			me._map_fs_content.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_fs_content.children.length; i++) {
				let child = me._map_fs_content.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_fs_content.userData.parentOpacity = v;
			v = v * me._map_fs_content.userData.opacity
			me._map_fs_content.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_fs_content.children.length; i++) {
				let child = me._map_fs_content.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_fs_content = el;
		el.userData.ggId="map_fs_content";
		me._map_fs_content.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_map_full') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map_fs_content.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map_fs_content.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map_fs_content.ggCurrentLogicStateVisible == 0) {
			me._map_fs_content.visible=((!me._map_fs_content.material && Number(me._map_fs_content.userData.opacity>0)) || Number(me._map_fs_content.material.opacity)>0)?true:false;
			me._map_fs_content.userData.visible=true;
				}
				else {
			me._map_fs_content.visible=false;
			me._map_fs_content.userData.visible=false;
				}
			}
		}
		me._map_fs_content.logicBlock_visible();
		me._map_fs_content.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map_fullscreen.add(me._map_fs_content);
		width = 6.03733;
		height = 4.83637;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'floorplan_fs_content_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'floorplan_fs_content_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._floorplan_fs_content.material.opacity = v * me._floorplan_fs_content.userData.backgroundColorAlpha;
			if (me._floorplan_fs_content.userData.ggSubElement) {
				me._floorplan_fs_content.userData.ggSubElement.material.opacity = v
				me._floorplan_fs_content.userData.ggSubElement.visible = (v>0 && me._floorplan_fs_content.userData.visible);
			}
			me._floorplan_fs_content.visible = (v>0 && me._floorplan_fs_content.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._floorplan_fs_content.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._floorplan_fs_content.userData.backgroundColorAlpha = v;
			me._floorplan_fs_content.userData.setOpacity(me._floorplan_fs_content.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.421817);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 603.733;
		el.userData.height = 483.637;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'floorplan_fs_content';
		el.userData.x = 0;
		el.userData.y = -0.421817;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.070);
		el.renderOrder = 7;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._floorplan_fs_content.visible
			let parentEl = me._floorplan_fs_content.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._floorplan_fs_content.userData.opacity = v;
			v = v * me._floorplan_fs_content.userData.parentOpacity;
			me._floorplan_fs_content.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floorplan_fs_content.children.length; i++) {
				let child = me._floorplan_fs_content.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._floorplan_fs_content.userData.parentOpacity = v;
			v = v * me._floorplan_fs_content.userData.opacity
			me._floorplan_fs_content.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floorplan_fs_content.children.length; i++) {
				let child = me._floorplan_fs_content.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._floorplan_fs_content = el;
		el.userData.ggId="floorplan_fs_content";
		me._floorplan_fs_content.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_floorplan_full') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._floorplan_fs_content.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._floorplan_fs_content.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._floorplan_fs_content.ggCurrentLogicStateVisible == 0) {
			me._floorplan_fs_content.visible=((!me._floorplan_fs_content.material && Number(me._floorplan_fs_content.userData.opacity>0)) || Number(me._floorplan_fs_content.material.opacity)>0)?true:false;
			me._floorplan_fs_content.userData.visible=true;
				}
				else {
			me._floorplan_fs_content.visible=false;
			me._floorplan_fs_content.userData.visible=false;
				}
			}
		}
		me._floorplan_fs_content.logicBlock_visible();
		me._floorplan_fs_content.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map_fullscreen.add(me._floorplan_fs_content);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'map_fs_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'map_fs_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.04);
		el.translateY(2.84);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_fs_close';
		el.userData.x = 3.04;
		el.userData.y = 2.84;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.080);
		el.renderOrder = 8;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._map_fs_close.material) me._map_fs_close.material.opacity = v;
			me._map_fs_close.visible = (v>0 && me._map_fs_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._map_fs_close.visible
			let parentEl = me._map_fs_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_fs_close.userData.opacity = v;
			v = v * me._map_fs_close.userData.parentOpacity;
			me._map_fs_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_fs_close.children.length; i++) {
				let child = me._map_fs_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_fs_close.userData.parentOpacity = v;
			v = v * me._map_fs_close.userData.opacity
			me._map_fs_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_fs_close.children.length; i++) {
				let child = me._map_fs_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_fs_close = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFvElEQVR4nO2bT2wUVRzHv7+Z2nTbQJvWxLAXDKHDptWku5vqSQMY42FhPdgoieFKUivBxISbGate5KbRasqRxBjEg9ttIDEChaMtcIA2024IXEoqO3uAcmjcfT8PnS0F32zfmz9bCPs5tTPvvd/7ffe9N+/35jdAixYtWrzAUNwGbNs2rl+//poQYj8RDQLYB2A3gJ0AdnjFHgJ4AOAuAIeZbxmGcTmdTt8cHx8XcfYvFgFs2zbm5ubeBnCUiPIAXg7YVJmZCwDOZLPZK3GIEakA3q/9ITN/DWBvlG0DKBHRF+l0+myUQkQmwKFDh94hom8BZKNq04c5ACenpqYuRtFYaAFyudwe0zQnmPm9KDqkwQUhxNj09PTtMI2EEiCfzx9g5nMAesO0E4IKEY'+
	'0UCoVLQRswg1bM5/OjzPwLgK6gbURAAsDHqVSq7DjObJAGtEfAsWPHXlpeXv6OiEaDGIwLZv4pmUyemJyc/FenXpuuoWfReQAgotF79+4xgDGdelpTIJ/PjwL4UqdOkxm2LGtlcXFReTooTwFvwfsTIdaNJlFl5neLxeJllcJKAuRyuT2GYfyN7VvtdakIIYZVHpGGSmuGYfyI58d5AOg1DOMHlYJbjoDDhw8fBPBX6C5tA0R0cKs9QsMRYNu2AeCUruHV1VW4rqtbzRfXdfHo0SPtesx8yvPBl4YLWnd390cAjusYXV1dxcLCAsrlMhKJBDo7O3Wq/49yuYxSqQTXddHT04P29nad6snl5eWFxcXFW34FfNWxbdvwojpl6s5Xq1UwM5aWlkKNhLrzzIxqtYr5+XntkUBE3zQaBb43vHheK6RdW1tDrVbb+D+MCJud'+
	'ryOEwNramm5Te69du/aW381G8+OorqW+vj709/eD6PHaGkQEmfOGYaC/vx+9vYEeRr6+SAWwbdvwTnK0CStCDM4DQN5vGkgXwe7u7tcBfB7UWmdnJxKJBCqVyhPXK5VKw4UxJucBoGtlZeV3x3H+efqGVBUhxP4w1gD9kRCj8wCAWq12QHZdKoB3ehsaVRHidh4AiGhAdt0vHN4XiVWsiwAAS0tLGw7WRaj/HbfzHlKf/ATYHaVlFRHqxOQ8ALwqu+gnwM6orfuJsJkYnQcev4R50qZO4bDI1oQ6RBSn84CmALHx9K+uei8u/AR4GIcx2WpfJ4rYYQukPvkJ8CBq6zLniSj0tlkDLQHuRmnZ7zlvWVYksYMid2QX/QRworK61SYnqgBKAalPUgGY2fcAQQfVHV4zRGDmedl1qQCGYVwOa1B3exu3CKZpSs8GpQKk0+'+
	'mbAMpBjQXd28cowv2hoSHpqJaGwzMzM2xZVoqI0rqWwgY2QUPpLfh1cnLyD9mNRhuhM7pWXNeNJLBpNBKeFkYRX198Bchms1cAlHSsdHR0wDQfD6owe3uZCKZpoqOjQ7epUiaTuep30/dYfGZmhlOp1H0AI6qW2tvb0dPTszFfw+7tN0+HtrY2DA4Oak8BZv7k9OnTN/3uN4wF0un0Wazn5CjT1dWFgYGByAKbvr4+WJYVyHkAs9ls9rdGBVqvxrZqxMvGuhBZr5rHeZXcIaVwWAgxBiDQ8rtNuEKIT1UKKgkwPT19m4hGAFRDdas5VJl5RDV9Tjnbw3GcO6lUqgwgF7hrTYCZx4rF4jnV8lrpLo7jzFqW9QoRDet3rSlMFIvFr3QqaB+JJZPJEwAmdOs1gYldu3Z9plspcKaolyj5PQKk2kVMlZmPF4vFn4NUfu5T'+
	'ZZn5A9WMMBmhToULhcIlIcQwtmefcF4IMRzGeSDCdHlvx3gK8afLzxLRyTAJ0puJ7L3A1NTUxUwm8wYzH4FmFKlIiZmPZDKZN6NyHojxkxkvLeUogPcR/JOZ+wAKAM5kMpmrz/wnMzJs2zZu3LgxWKvVDnivqPdh/UXlDjz50dRDrB9dO8w8b5rmpaGhoVtxfzTVokWLFi80/wFXEQew9bAvMwAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'map_fs_close_materialOver';
		el.userData.ggId="map_fs_close";
		me._map_fs_close.userData.onclick=function (e) {
			player.setVariableValue('vis_map_full', false);
			player.setVariableValue('vis_floorplan_full', false);
		}
		me._map_fs_close.userData.onmouseover=function (e) {
			me._map_fs_close.material = me._map_fs_close.userData.materialOver;
			me.elementMouseOver['map_fs_close']=true;
		}
		me._map_fs_close.userData.onmouseout=function (e) {
			me._map_fs_close.material = me._map_fs_close.userData.materialNormal;
			me.elementMouseOver['map_fs_close']=false;
		}
		me._map_fs_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map_fullscreen.add(me._map_fs_close);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'map_fs_small_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACZ0lEQVR4nO2YzWoUQRSFz21NzCtU9d6NqzyAGzeKg9Ex6MKVhoQooriITyEBQRQlLgJi/AnRhSgEcZG1z+CybuUJNIFMHzcJTNqMxlRNpoe5365ras6pe7r+aMAwDMMwDMMwDMMwjGFAVS/EGN+SHEvVOpljQKnEGBdIPtp7JrlYluVCj74XSa6RnIgxjpO8LiI7R/UujvrHQRBjbJH8AGBit6mtqispmkMTQAjhEsk1AKe6misR+Zai24gl8C9CCFMi8h614gHc9t4vpWg3fgaEEK6IyCr+LH4+tXig4QGoaltE3gEY72rukJzz3r/M4dHYJaCq0wDeAOg+6joiMuu9X87l08gZUBTFaRxc/IxzbjmnVyNnQFVVLRHpfjkdALecc69yezUygFrxOw'+
	'Bueu9f98OrkQF0UQFYJzkZQpg8qEOvG+NhaXoABYCWiLT+0icpgEZugsfJyAfQlCWwISIPBz0IYxSRVIEY41F34Q3n3PdU/1SS94DuLzn/w+6aH3gAI38KjHwAOZbAYq/fiqI4U1XVeRFJ3mv6RXIAve7iIYQZkg+aXDzQpyWgqrMisgTgxF6biHT64ZVK9gBUdQ7Ai5r2dlVVn3J75SBrAKo6D+B5TXeb5DUAP3J65SJbADHGOwCe1TS3RWS6LMtGvn0gUwAxxrskn9b0tkTkqnPucw6PfpEcQAjhHskn2H+t3gLQds59SdXvN0nHoKreB/AY+4v/BaDtvV9P0T4uUmfAWdSKJ3l5WIoHEgNwzt0A8HH38SfJqbIsv6YPa4ggOaaqK5ubm+cGPRbDMAzDMAzDMAzDMA7Fb/iRyo1cBbB9AAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'map_fs_small_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-3.04);
		el.translateY(2.84);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_fs_small';
		el.userData.x = -3.04;
		el.userData.y = 2.84;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._map_fs_small.material) me._map_fs_small.material.opacity = v;
			me._map_fs_small.visible = (v>0 && me._map_fs_small.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._map_fs_small.visible
			let parentEl = me._map_fs_small.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_fs_small.userData.opacity = v;
			v = v * me._map_fs_small.userData.parentOpacity;
			me._map_fs_small.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_fs_small.children.length; i++) {
				let child = me._map_fs_small.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_fs_small.userData.parentOpacity = v;
			v = v * me._map_fs_small.userData.opacity
			me._map_fs_small.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_fs_small.children.length; i++) {
				let child = me._map_fs_small.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_fs_small = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFzklEQVR4nO2bX2xTVRzHv+dUE4yjjOK20JeaUdoiPKyt0yeN0xg1heuDSkgMryTLNPi0J8m16ou8aXQaXkl8QJ66EogmQODRlS6RES6Mjb10rMzewrJAIjs/H3Y3xzinu3/XIv289fz5nfP93XvuPb9zfwXatGnT5hmGBT2Aruu8XC7vE0K8xRjbCyAJIAYgDGCr1WwBwH0AMwAMIprgnF9Mp9NX8/m8CHJ+gThA13VeKpXeBHCYMaYBeMmlqXkiKgA4mc1mLwXhDF8dYF3tg0T0DYC4n7YBTDLGjqXT6VN+OsI3B+zfv/8dxth3ALJ+2VRQAjA8Ojp63g9jnh2Qy+V6Q6HQCBG958eEHHBOCDF05syZKS9GPDlA07QBIjoNIOLFjgdqjLGPC4XCBb'+
	'cGQm47apo2SES/AnjRrQ0feAHAp6lUat4wjDE3BhzfAUeOHHm+Uql8zxgbdDNgUBDRz9Fo9OiJEyf+cdLvOacDtaJ4AGCMDc7OzhKAISf9HC0BTdMGAXzlpM8m059IJOZu3LhheznYXgLWA+8PeHhu+EW9Xke1WkU8HgfnfH31IyJ6t1gsXrRjy5YDcrlcL+f8TwT0tK9UKpiZmVn9HY1GEYvFpG3r9TquX78OIkIkEkEikQBjT8ioCSH67bwin3CftBHnP6F5r7pVTNNcFQ8AtVoNN2/elDWNcM5/tGNzQwccOHDgbQDvO5loEJimCcMwVsUDAGMM27ZtU3X5QNO0gY3sNnSAruscwHEnEw2CWq0mFd/b24uenh5lPyI6bmlQ0rCyXC4fRPB7+4as3OYy8d3d3Rt1f7VUKn3SqIHSAbqucyuqaxor4oX4L/hzIH6l'+
	'/beN7gJlhRXP+x3S2kYlfteuXbbFW8SvXLnyhqqy0RI47GQUP3n48KFSfFdXlxuTSi1SB+i6zq2TnKZgmqaf4gFAUy0DaWG5XN4H98dYnln/wIvH417EA0DX+Pj4XlmFNBiyDjC9DOgLjDF0dnZicXERi4uL0jaqHeN6lpaWBgD8tb5c6gDr9LbpEBFM04Rpmso2dh3AGHtFVq56CCZtWX26kGpSOcCeW58uXpYVqg5EwsHNQzJYOGz7VvbAVlmhygHSxkHR0dGBjo6OoIeRarIVDv+fUd0BC7AZ/1cqFVcDh8Phzbjqa1mQFaoccB82HbD2JMcJsVisJRygWgLuVLU2t2WFKgcYwc2jaUg1SZcAEU3Y3QpHo1Fl3YMHD1Cv1x/b2zcLIromK5c6gHN+0e6kVe/varWK2dnZlhAPAKFQSPr9ULoE0un0VQDzbgerVq'+
	'uYmpp6IqprInf7+vomZBVSB+TzeWFlZjhGJX779u1uzPlFQZVU0WgjdNLpKHNzc1LxyWQSW7ZscWrOT5RalA7IZrOXAEzaHeHOnTuYnp6Wim/y1Z/MZDKXVZVKB+TzecEYO2ZnBJX4VCrVbPEgoi8b5RQ1jAXS6fQpLOfkKFkRv5YV8Z2dnU7mGgRj2Wz2t0YNGjrA8tywql4mnnOOPXv2tIJ4MMaGN8oo2zAatLKxzsnq7t2797gxzpFMJht9r9tMztrJHbIVDgshhgDU1pfv3r0bkchyzLQivhWuPIC/hRCf2WnoNEHid6zbPQohcOvWLXR3d7fKlXeUIGE728MwjNupVGoeQG5tOWMMO3bsaPZ7fhUiGioWi6fttneU7mIYxlgikehhjPU7n9qmMFIsFr920sHxkVg0Gj0KYMRpv01gZOfOnV847eQ6QrESJX+A'+
	'i1Q7n3lERJ8Xi8Vf3HR+6lNliegjuw88GZ5OhQuFwgUhRD8U+4SAOSuE6PciHvAxXd5KpjqO4FNqxhhjw14SpNfi23eB0dHR85lM5jUiOgQHUaQDJonoUCaTed0v8UCAf5mx0lIOA/gQ7nMN7gIoADiZyWQut/xfZmTous7Hx8f3Li0tDVifqJNY/lC5FY//aWoBy0fXBhFdC4VCF/r6+iaC/tNUmzZt2jzT/Atl10ddx3eh+wAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'map_fs_small_materialOver';
		el.userData.ggId="map_fs_small";
		me._map_fs_small.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map_fs_small.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map_fs_small.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map_fs_small.ggCurrentLogicStateVisible == 0) {
			me._map_fs_small.visible=false;
			me._map_fs_small.userData.visible=false;
				}
				else {
			me._map_fs_small.visible=((!me._map_fs_small.material && Number(me._map_fs_small.userData.opacity>0)) || Number(me._map_fs_small.material.opacity)>0)?true:false;
			me._map_fs_small.userData.visible=true;
				}
			}
		}
		me._map_fs_small.logicBlock_visible();
		me._map_fs_small.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('vis_map_full') == true))
				)
			) {
				player.setVariableValue('vis_map', true);
			}
			if (
				(
					((player.getVariableValue('vis_floorplan_full') == true))
				)
			) {
				player.setVariableValue('vis_floorplan', true);
			}
			player.setVariableValue('vis_map_full', false);
			player.setVariableValue('vis_floorplan_full', false);
		}
		me._map_fs_small.userData.onmouseover=function (e) {
			me._map_fs_small.material = me._map_fs_small.userData.materialOver;
			me.elementMouseOver['map_fs_small']=true;
		}
		me._map_fs_small.userData.onmouseout=function (e) {
			me._map_fs_small.material = me._map_fs_small.userData.materialNormal;
			me.elementMouseOver['map_fs_small']=false;
		}
		me._map_fs_small.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map_fullscreen.add(me._map_fs_small);
		me.skinGroup.add(me._map_fullscreen);
		width = 2.9;
		height = 3.7;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.16, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'thumbnails_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnails_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails.material.opacity = v * me._thumbnails.userData.backgroundColorAlpha;
			if (me._thumbnails.userData.ggSubElement) {
				me._thumbnails.userData.ggSubElement.material.opacity = v
				me._thumbnails.userData.ggSubElement.visible = (v>0 && me._thumbnails.userData.visible);
			}
			me._thumbnails.visible = (v>0 && me._thumbnails.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails.userData.backgroundColorAlpha = v;
			me._thumbnails.userData.setOpacity(me._thumbnails.userData.opacity);
		}
		el.translateX(-2.39);
		el.translateY(-0.43);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 290;
		el.userData.height = 370;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails';
		el.userData.x = -2.39;
		el.userData.y = -0.43;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails.visible
			let parentEl = me._thumbnails.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails.userData.opacity = v;
			v = v * me._thumbnails.userData.parentOpacity;
			me._thumbnails.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails.children.length; i++) {
				let child = me._thumbnails.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails.userData.parentOpacity = v;
			v = v * me._thumbnails.userData.opacity
			me._thumbnails.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails.children.length; i++) {
				let child = me._thumbnails.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails = el;
		el.userData.ggId="thumbnails";
		me._thumbnails.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_thumbnails') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails.ggCurrentLogicStateVisible == 0) {
			me._thumbnails.visible=((!me._thumbnails.material && Number(me._thumbnails.userData.opacity>0)) || Number(me._thumbnails.material.opacity)>0)?true:false;
			me._thumbnails.userData.visible=true;
				}
				else {
			me._thumbnails.visible=false;
			me._thumbnails.userData.visible=false;
				}
			}
		}
		me._thumbnails.logicBlock_visible();
		me._thumbnails.userData.ggUpdatePosition=function (useTransition) {
		}
		el.translateX(0.075);
		el.translateY(-0.04);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 255;
		el.userData.height = 306;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_scroller';
		el.userData.x = 0.075;
		el.userData.y = -0.04;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.070);
		el.renderOrder = 7;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_scroller.material) me._thumbnails_scroller.material.opacity = v;
			me._thumbnails_scroller.visible = (v>0 && me._thumbnails_scroller.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_scroller.visible
			let parentEl = me._thumbnails_scroller.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_scroller.userData.opacity = v;
			v = v * me._thumbnails_scroller.userData.parentOpacity;
			me._thumbnails_scroller.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_scroller.children.length; i++) {
				let child = me._thumbnails_scroller.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_scroller.userData.parentOpacity = v;
			v = v * me._thumbnails_scroller.userData.opacity
			me._thumbnails_scroller.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_scroller.children.length; i++) {
				let child = me._thumbnails_scroller.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_scroller = el;
		el.userData.ggId="thumbnails_scroller";
		me._thumbnails_scroller.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-0.635);
		el.translateY(0.89);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 128;
		el.userData.height = 128;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_cloner';
		el.userData.x = -0.635;
		el.userData.y = 0.89;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.080);
		el.renderOrder = 8;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_cloner.material) me._thumbnails_cloner.material.opacity = v;
			me._thumbnails_cloner.visible = (v>0 && me._thumbnails_cloner.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_cloner.visible
			let parentEl = me._thumbnails_cloner.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_cloner.userData.opacity = v;
			v = v * me._thumbnails_cloner.userData.parentOpacity;
			me._thumbnails_cloner.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_cloner.children.length; i++) {
				let child = me._thumbnails_cloner.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_cloner.userData.parentOpacity = v;
			v = v * me._thumbnails_cloner.userData.opacity
			me._thumbnails_cloner.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_cloner.children.length; i++) {
				let child = me._thumbnails_cloner.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_cloner = el;
		el.userData.ggNumRepeat = 2;
		el.userData.ggNumRows = 0;
		el.userData.ggNumCols = 0;
		el.userData.ggUpdating = false;
		el.userData.ggFilter = [];
		el.userData.ggInstances = [];
		el.getFilteredNodes = function(tourNodes, filter) {
			var filteredNodes = [];
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var passed = true;
				var nodeData = player.getNodeUserdata(nodeId);
				if (filter.length > 0) {
					for (var j=0; j < filter.length; j++) {
						if (nodeData['tags'].indexOf(filter[j].trim()) == -1) passed = false;
					}
				}
				if (passed) {
					filteredNodes.push(nodeId);
				}
			}
			return filteredNodes;
		}
		el.userData.ggUpdate = function(filter) {
			if(me._thumbnails_cloner.userData.ggUpdating == true) return;
			me._thumbnails_cloner.userData.ggUpdating = true;
			var el=me._thumbnails_cloner;
			var curNumCols = 0;
			curNumCols = me._thumbnails_cloner.userData.ggNumRepeat;
			if (curNumCols < 1) curNumCols = 1;
			if (typeof filter=='object') {
				el.userData.ggFilter = filter;
			} else {
				filter = el.userData.ggFilter;
			};
			if (me.ggTag) filter.push(me.ggTag);
			filter=filter.sort();
			if ((el.userData.ggNumCols == curNumCols) && (el.userData.ggInstances.length > 0) && (filter.length === el.userData.ggCurrentFilter.length) && (filter.every(function(value, index) { return value === el.userData.ggCurrentFilter[index] }) )) {
				me._thumbnails_cloner.userData.ggUpdating = false;
				return;
			} else {
				el.userData.ggNumRows = 1;
				el.userData.ggNumCols = curNumCols;
			var centerOffsetHor = 0;
			var centerOffsetVert = 0;
				me._thumbnails_cloner.userData.ggCloneOffsetChanged = false;
			}
			el.userData.ggCurrentFilter = filter;
			el.userData.ggInstances = [];
			el.remove(...el.children);
			var tourNodes = player.getNodeIds();
			var row = 0;
			var column = 0;
			var currentIndex = 0;
			var keepCloning = true;
			me._thumbnails_cloner.userData.ggNumFilterPassed = 0;
			tourNodes = me._thumbnails_cloner.getFilteredNodes(tourNodes, filter);
			me._thumbnails_cloner.userData.ggNumFilterPassed = tourNodes.length;
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var nodeData = player.getNodeUserdata(nodeId);
				if (!keepCloning || i < me._thumbnails_cloner.userData.ggCloneOffset) continue;
				var parameter={};
				parameter.top = -(centerOffsetVert / 100.0) - (row * me._thumbnails_cloner.userData.height) / 100.0;
				parameter.left = (centerOffsetHor / 100.0) + (column * me._thumbnails_cloner.userData.width) / 100.0;
				parameter.index=currentIndex;
				parameter.title=nodeData['title'];
				var inst = new SkinCloner_thumbnails_cloner_Class(nodeId, me, el, parameter);
				currentIndex++;
				el.userData.ggInstances.push(inst);
				var bbox = new THREE.Box3().setFromObject(inst.__obj);
				var clonerPosInSkin = skin.posInSkin(me._thumbnails_cloner, me.ggParent);
				if (bbox.min.x + clonerPosInSkin.x >= -4 && bbox.max.x + clonerPosInSkin.x <= 4 && bbox.min.y + clonerPosInSkin.y >= -3 && bbox.max.y + clonerPosInSkin.y <= 3) el.add(inst.__obj);
				column++;
				if (column >= el.userData.ggNumCols) {
					column = 0;
					row++;
					el.userData.ggNumRows++;
				}
			}
			me._thumbnails_cloner.userData.ggNodeCount = me._thumbnails_cloner.userData.ggNumFilterPassed;
			me._thumbnails_cloner.userData.ggUpdating = false;
			player.triggerEvent('clonerchanged');
		}
		el.userData.ggFilter = [];
		el.userData.ggId="thumbnails_cloner";
		me._thumbnails_cloner.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_scroller.add(me._thumbnails_cloner);
		me._thumbnails.add(me._thumbnails_scroller);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'thumbnails_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnails_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.29);
		el.translateY(1.69);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_close';
		el.userData.x = 1.29;
		el.userData.y = 1.69;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.080);
		el.renderOrder = 8;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_close.material) me._thumbnails_close.material.opacity = v;
			me._thumbnails_close.visible = (v>0 && me._thumbnails_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_close.visible
			let parentEl = me._thumbnails_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_close.userData.opacity = v;
			v = v * me._thumbnails_close.userData.parentOpacity;
			me._thumbnails_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_close.children.length; i++) {
				let child = me._thumbnails_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_close.userData.parentOpacity = v;
			v = v * me._thumbnails_close.userData.opacity
			me._thumbnails_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_close.children.length; i++) {
				let child = me._thumbnails_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_close = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'thumbnails_close_materialOver';
		el.userData.ggId="thumbnails_close";
		me._thumbnails_close.userData.onclick=function (e) {
			player.setVariableValue('vis_thumbnails', !player.getVariableValue('vis_thumbnails'));
		}
		me._thumbnails_close.userData.onmouseover=function (e) {
			me._thumbnails_close.material = me._thumbnails_close.userData.materialOver;
			me.elementMouseOver['thumbnails_close']=true;
		}
		me._thumbnails_close.userData.onmouseout=function (e) {
			me._thumbnails_close.material = me._thumbnails_close.userData.materialNormal;
			me.elementMouseOver['thumbnails_close']=false;
		}
		me._thumbnails_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails.add(me._thumbnails_close);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'thumbnails_full_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACSElEQVR4nO3YzWrVQBQH8P8Jfr5BzuQFXPgQroqotdS6c+NHLReqiNA+hYoLoaIXF1JcKFi70IVU0JeZM3kBtaK9x41gor0XG2eSQc9vlyGT83GTuckAxhhjjDHGGGP+PzR0Ak0hhDVVvdNlrnOuUy1Fl0n/EmvA0AkMLas1YBbv/VUiGmPKj9Z1DTj0V1n1RESWATxCgjs2+0dARFbwe/FfYl0/6waIyAjAQ/xSfFEUF2PFyLYBIYRVABto57hLREtlWb6OFSfLBnjvb6rqA7QX6V0iusDMb2LGym4RFJFbAO6jXfxnAIvM/DZ2vKzuABG5jX2KV9UF51z04oGMGuC9nwNwD+3iP6nq+aqqdlLFzaYBzrkdAOPG0MeiKOarqnqXMm42awARqaqOQg'+
	'gAcImIzpVl+WHG+eu9JdcnVSXv/Ymh8zDGmKjquj6pqtntP3ROKISw1jxm5rvTzvXezxHRNoBNZh4RkXaNG1vnBohIq4hpOzIichrAFoDjP4Ye59SEpG+CIYQzAF7hZ/EAcL2u61Mp4x5EsgaEEM6q6haAY43hCRHdYOb3qeIeVJIGeO/nVfUlgKON4QmAVWbeSBGzq+jfAt77BSJ6AeBIY3gCYOScG0+ZNpiod4CILO5XvKqu5Fg8ELEBIrIE4Dnaxe+p6nJVVU9ixYkt2t8ggK8ADjeO94joGjM/7RqjDzHXgFbxAK4w82bE6yeRYkPkG4DLzrlnCa4dXcxH4M8CEq3Pem3uWzZ7gkOxBgydgDHGGGOMMcYY07/vs2yuN5+fZPcAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnails_full_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-1.29);
		el.translateY(1.69);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_full';
		el.userData.x = -1.29;
		el.userData.y = 1.69;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_full.material) me._thumbnails_full.material.opacity = v;
			me._thumbnails_full.visible = (v>0 && me._thumbnails_full.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_full.visible
			let parentEl = me._thumbnails_full.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_full.userData.opacity = v;
			v = v * me._thumbnails_full.userData.parentOpacity;
			me._thumbnails_full.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_full.children.length; i++) {
				let child = me._thumbnails_full.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_full.userData.parentOpacity = v;
			v = v * me._thumbnails_full.userData.opacity
			me._thumbnails_full.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_full.children.length; i++) {
				let child = me._thumbnails_full.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_full = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFyklEQVR4nO2bT2wTRxTGvzemh6giBESA+OJgItkpHGK7tOLQFuihVe24h1IUqeKKFNGWnrhVq6i9lFtLm1ZckVqVthfbEVxKEBy4EJwDIAxR/lzsmFBjQOJSMq+HbNI4mbF3dtdOEP7ddubtm3nfzs7uzL4F2rRp0+YVhprdgGVZIp/PH5BSHiai/QAiAEIAOgFstc2eAXgKYA5AgZnvCCGuxmKx2yMjI7KZ/WuKAJZliYmJiXcBnCCiNICdLl09YuYMgAuJROJaM8TwVQD7ah9n5m8A9PnpG8AUEX0di8Uu+imEbwKkUqn3ieg7AAm/fGqYAHAmm81e8cOZZwGSyWQ4EAiMMvMHfnTIgMtSylNjY2PTXpx4EiCdTh9h5j8B7PDixwMVIjqWyWTG3T'+
	'oIuD0xnU4PM/OvAF5368MHOgB8Fo1GHxUKhZtuHBiPgJMnT75WLBa/J6JhNw02C2b+ORgMnj5//vy/JudtMW1oMwYPAEQ0XCqVGMApo/NMjO1hP2rUMwOKxSLm5uZcnXvo0CEAADMP53K5X5yeJ5wa2hPeORd9aylEdC6VSh12au9IgGQyGbZne9eTZgvZQkR/JZPJsBNjRwIIIX7Cxj3q3LBDCPGjE8OGc8Dg4OBRAH977pJHHj58iOnpaTCzsn55DlgNER1t9I5QdwRYliUAnDXoZ1NoFLwOZj5rx6ClbmU+nz+O5r/b16VcLq8Lnsjxw+vNiYmJT+sZaAWwLEvYq7oNo1wuY2ZmZl3wkUjEsQ8i+rbeKNBW2Ot5v5e0jpmfn1de+Ugkgu3bt5u46rt169Y7usp6t8AJk1b8ZH5+HjMzMzVlRIRoNGoa/DLaWJQC'+
	'WJYl7J2cllMqldYFL4RAf38/urq63LpN624DZWE+nz8A99tYrimVSpidna0pE0IgEolg27ZtXlx3T05O7ldVKAWQUh720pobqtWqNngPV36FxcXFI6pypQD27m1L6erqwu7du1eOhRCIRqO+BA8ARPSGqly3HHb+nPGRcHjp9X1hYQH9/f3o7OzU2oZCIVP3yph0Ahh794twOIyenh50dHTUtQsGg6aue1WFusegXvoW0Ch4l2xVFeoEUBq/5BgJ8MqgE+BZS3vRGpQx6QR46nfrz58/99ulKUoBdE+BOWhmzWWKxWLNcb1ZuVqtolAooLu7e+VRtwHMqgp1AhQAvFfP29rdW50Ay8FLKVEulwFgo0QoqAqVtwAz3/GjxWq1inv37kHK/z/mlstlPHnyxA/3RjDzXVW5cgQIIa6abj+t5fHjxygUCuvW8729vV4XNq'+
	'4IBALKvUHlCIjFYrcBPHLbmC74vXv3Ys+ePW7demFhYGBAOaqVAoyMjEg7M8OYSqWC+/fvrws+HA7XLHZaTEaXVFHvReiCaSuVSgUPHjyoueeXg9+1a5epOz/RxqIVIJFIXAMw5bQFXfD79u3b6OCn4vH4dV1l3f3ldDo9xMy/qepu3LhRcyyE2IxXHsw8lMvlftfV110LxGKxi1jKyWnIJrzyAHAzkUj8Uc/A9aextSNgxSER+vr6sHNny7cUVX1p+GnM0SeWwcHBSwA+XF2mE6ARoVDIzWaGGy5ls9mPGhk5Wg5LKU8BqHjuUuv4R0r5uRNDRwKMjY1NE9ExAC88das1vGDmY07T5xxviGQymXEi+tJ9v1oDM3+Ry+WuOrU3zhJLpVKjmzFJymY0m80aJUkZb4kFg8HTAJqWKOWB0Z6enq9MT3KdKWpnjP0AF6l2'+
	'PvPCHvaOM8NW89KnyjLzJyb3/Fo87QpnMplxKeVBAJe9+HHJJSnlQS/BAz6my9tvjGfR/JSam0R0xkuC9Gp8+y6QzWavxOPxt5h5CAarSAOmmHkoHo+/7VfwQBN/mbHTUk4A+Bjucw0WAGQAXIjH49c3/S8zKizLEpOTk/sXFxeP2J+oI1jact+K2p+mnmFp67rAzHcDgcD4wMDAnWb/NNWmTZs2rzT/AY+WJugTMC7kAAAAAElFTkSuQmCC');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'thumbnails_full_materialOver';
		el.userData.ggId="thumbnails_full";
		me._thumbnails_full.userData.onclick=function (e) {
			player.setVariableValue('vis_thumbnails', false);
			player.setVariableValue('vis_thumbnails_full', true);
		}
		me._thumbnails_full.userData.onmouseover=function (e) {
			me._thumbnails_full.material = me._thumbnails_full.userData.materialOver;
			me.elementMouseOver['thumbnails_full']=true;
		}
		me._thumbnails_full.userData.onmouseout=function (e) {
			me._thumbnails_full.material = me._thumbnails_full.userData.materialNormal;
			me.elementMouseOver['thumbnails_full']=false;
		}
		me._thumbnails_full.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails.add(me._thumbnails_full);
		me.skinGroup.add(me._thumbnails);
		width = 6.8;
		height = 6.03;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.18, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.18, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.18, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.18, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.18, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'thumbnails_fullscreen_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnails_fullscreen_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails_fullscreen.material.opacity = v * me._thumbnails_fullscreen.userData.backgroundColorAlpha;
			if (me._thumbnails_fullscreen.userData.ggSubElement) {
				me._thumbnails_fullscreen.userData.ggSubElement.material.opacity = v
				me._thumbnails_fullscreen.userData.ggSubElement.visible = (v>0 && me._thumbnails_fullscreen.userData.visible);
			}
			me._thumbnails_fullscreen.visible = (v>0 && me._thumbnails_fullscreen.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails_fullscreen.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails_fullscreen.userData.backgroundColorAlpha = v;
			me._thumbnails_fullscreen.userData.setOpacity(me._thumbnails_fullscreen.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.18);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 680;
		el.userData.height = 603;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fullscreen';
		el.userData.x = 0;
		el.userData.y = 0.18;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.070);
		el.renderOrder = 7;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fullscreen.visible
			let parentEl = me._thumbnails_fullscreen.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fullscreen.userData.opacity = v;
			v = v * me._thumbnails_fullscreen.userData.parentOpacity;
			me._thumbnails_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fullscreen.children.length; i++) {
				let child = me._thumbnails_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fullscreen.userData.parentOpacity = v;
			v = v * me._thumbnails_fullscreen.userData.opacity
			me._thumbnails_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fullscreen.children.length; i++) {
				let child = me._thumbnails_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fullscreen = el;
		el.userData.ggId="thumbnails_fullscreen";
		me._thumbnails_fullscreen.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_thumbnails_full') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails_fullscreen.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails_fullscreen.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails_fullscreen.ggCurrentLogicStateVisible == 0) {
			me._thumbnails_fullscreen.visible=((!me._thumbnails_fullscreen.material && Number(me._thumbnails_fullscreen.userData.opacity>0)) || Number(me._thumbnails_fullscreen.material.opacity)>0)?true:false;
			me._thumbnails_fullscreen.userData.visible=true;
				}
				else {
			me._thumbnails_fullscreen.visible=false;
			me._thumbnails_fullscreen.userData.visible=false;
				}
			}
		}
		me._thumbnails_fullscreen.logicBlock_visible();
		me._thumbnails_fullscreen.userData.ggUpdatePosition=function (useTransition) {
		}
		el.translateX(2.65);
		el.translateY(-0.09);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1160;
		el.userData.height = 549;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fs_scroller';
		el.userData.x = 2.65;
		el.userData.y = -0.09;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.080);
		el.renderOrder = 8;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_fs_scroller.material) me._thumbnails_fs_scroller.material.opacity = v;
			me._thumbnails_fs_scroller.visible = (v>0 && me._thumbnails_fs_scroller.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fs_scroller.visible
			let parentEl = me._thumbnails_fs_scroller.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fs_scroller.userData.opacity = v;
			v = v * me._thumbnails_fs_scroller.userData.parentOpacity;
			me._thumbnails_fs_scroller.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_scroller.children.length; i++) {
				let child = me._thumbnails_fs_scroller.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fs_scroller.userData.parentOpacity = v;
			v = v * me._thumbnails_fs_scroller.userData.opacity
			me._thumbnails_fs_scroller.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_scroller.children.length; i++) {
				let child = me._thumbnails_fs_scroller.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fs_scroller = el;
		el.userData.ggId="thumbnails_fs_scroller";
		me._thumbnails_fs_scroller.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-5.16);
		el.translateY(2.105);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 128;
		el.userData.height = 128;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fs_cloner';
		el.userData.x = -5.16;
		el.userData.y = 2.105;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_fs_cloner.material) me._thumbnails_fs_cloner.material.opacity = v;
			me._thumbnails_fs_cloner.visible = (v>0 && me._thumbnails_fs_cloner.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fs_cloner.visible
			let parentEl = me._thumbnails_fs_cloner.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fs_cloner.userData.opacity = v;
			v = v * me._thumbnails_fs_cloner.userData.parentOpacity;
			me._thumbnails_fs_cloner.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_cloner.children.length; i++) {
				let child = me._thumbnails_fs_cloner.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fs_cloner.userData.parentOpacity = v;
			v = v * me._thumbnails_fs_cloner.userData.opacity
			me._thumbnails_fs_cloner.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_cloner.children.length; i++) {
				let child = me._thumbnails_fs_cloner.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fs_cloner = el;
		el.userData.ggNumRepeat = 100;
		el.userData.ggNumRows = 0;
		el.userData.ggNumCols = 0;
		el.userData.ggUpdating = false;
		el.userData.ggFilter = [];
		el.userData.ggInstances = [];
		el.getFilteredNodes = function(tourNodes, filter) {
			var filteredNodes = [];
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var passed = true;
				var nodeData = player.getNodeUserdata(nodeId);
				if (filter.length > 0) {
					for (var j=0; j < filter.length; j++) {
						if (nodeData['tags'].indexOf(filter[j].trim()) == -1) passed = false;
					}
				}
				if (passed) {
					filteredNodes.push(nodeId);
				}
			}
			return filteredNodes;
		}
		el.userData.ggUpdate = function(filter) {
			if(me._thumbnails_fs_cloner.userData.ggUpdating == true) return;
			me._thumbnails_fs_cloner.userData.ggUpdating = true;
			var el=me._thumbnails_fs_cloner;
			var curNumCols = 0;
			var parentWidth = me._thumbnails_fs_cloner.parent.userData.width;
			me._thumbnails_fs_cloner.userData.offsetLeft = (me._thumbnails_fs_cloner.parent.userData.width / 200.0) + me._thumbnails_fs_cloner.userData.x - (me._thumbnails_fs_cloner.userData.width / 200.0);
			curNumCols = Math.floor(((parentWidth - me._thumbnails_fs_cloner.userData.offsetLeft) * me._thumbnails_fs_cloner.userData.ggNumRepeat / 100.0) / me._thumbnails_fs_cloner.userData.width);
			if (curNumCols < 1) curNumCols = 1;
			if (typeof filter=='object') {
				el.userData.ggFilter = filter;
			} else {
				filter = el.userData.ggFilter;
			};
			if (me.ggTag) filter.push(me.ggTag);
			filter=filter.sort();
			if ((el.userData.ggNumCols == curNumCols) && (el.userData.ggInstances.length > 0) && (filter.length === el.userData.ggCurrentFilter.length) && (filter.every(function(value, index) { return value === el.userData.ggCurrentFilter[index] }) )) {
				me._thumbnails_fs_cloner.userData.ggUpdating = false;
				return;
			} else {
				el.userData.ggNumRows = 1;
				el.userData.ggNumCols = curNumCols;
			var centerOffsetHor = 0;
			var centerOffsetVert = 0;
				me._thumbnails_fs_cloner.userData.ggCloneOffsetChanged = false;
			}
			el.userData.ggCurrentFilter = filter;
			el.userData.ggInstances = [];
			el.remove(...el.children);
			var tourNodes = player.getNodeIds();
			var row = 0;
			var column = 0;
			var currentIndex = 0;
			var keepCloning = true;
			me._thumbnails_fs_cloner.userData.ggNumFilterPassed = 0;
			tourNodes = me._thumbnails_fs_cloner.getFilteredNodes(tourNodes, filter);
			me._thumbnails_fs_cloner.userData.ggNumFilterPassed = tourNodes.length;
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var nodeData = player.getNodeUserdata(nodeId);
				if (!keepCloning || i < me._thumbnails_fs_cloner.userData.ggCloneOffset) continue;
				var parameter={};
				parameter.top = -(centerOffsetVert / 100.0) - (row * me._thumbnails_fs_cloner.userData.height) / 100.0;
				parameter.left = (centerOffsetHor / 100.0) + (column * me._thumbnails_fs_cloner.userData.width) / 100.0;
				parameter.index=currentIndex;
				parameter.title=nodeData['title'];
				var inst = new SkinCloner_thumbnails_fs_cloner_Class(nodeId, me, el, parameter);
				currentIndex++;
				el.userData.ggInstances.push(inst);
				var bbox = new THREE.Box3().setFromObject(inst.__obj);
				var clonerPosInSkin = skin.posInSkin(me._thumbnails_fs_cloner, me.ggParent);
				if (bbox.min.x + clonerPosInSkin.x >= -4 && bbox.max.x + clonerPosInSkin.x <= 4 && bbox.min.y + clonerPosInSkin.y >= -3 && bbox.max.y + clonerPosInSkin.y <= 3) el.add(inst.__obj);
				column++;
				if (column >= el.userData.ggNumCols) {
					column = 0;
					row++;
					el.userData.ggNumRows++;
				}
			}
			me._thumbnails_fs_cloner.userData.ggNodeCount = me._thumbnails_fs_cloner.userData.ggNumFilterPassed;
			me._thumbnails_fs_cloner.userData.ggUpdating = false;
			player.triggerEvent('clonerchanged');
		}
		el.userData.ggFilter = [];
		el.userData.ggId="thumbnails_fs_cloner";
		me._thumbnails_fs_cloner.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_fs_scroller.add(me._thumbnails_fs_cloner);
		me._thumbnails_fullscreen.add(me._thumbnails_fs_scroller);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'thumbnails_fs_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnails_fs_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.24);
		el.translateY(2.855);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fs_close';
		el.userData.x = 3.24;
		el.userData.y = 2.855;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_fs_close.material) me._thumbnails_fs_close.material.opacity = v;
			me._thumbnails_fs_close.visible = (v>0 && me._thumbnails_fs_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fs_close.visible
			let parentEl = me._thumbnails_fs_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fs_close.userData.opacity = v;
			v = v * me._thumbnails_fs_close.userData.parentOpacity;
			me._thumbnails_fs_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_close.children.length; i++) {
				let child = me._thumbnails_fs_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fs_close.userData.parentOpacity = v;
			v = v * me._thumbnails_fs_close.userData.opacity
			me._thumbnails_fs_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_close.children.length; i++) {
				let child = me._thumbnails_fs_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fs_close = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFvElEQVR4nO2bT2wUVRzHv7+Z2nTbQJvWxLAXDKHDptWku5vqSQMY42FhPdgoieFKUivBxISbGate5KbRasqRxBjEg9ttIDEChaMtcIA2024IXEoqO3uAcmjcfT8PnS0F32zfmz9bCPs5tTPvvd/7ffe9N+/35jdAixYtWrzAUNwGbNs2rl+//poQYj8RDQLYB2A3gJ0AdnjFHgJ4AOAuAIeZbxmGcTmdTt8cHx8XcfYvFgFs2zbm5ubeBnCUiPIAXg7YVJmZCwDOZLPZK3GIEakA3q/9ITN/DWBvlG0DKBHRF+l0+myUQkQmwKFDh94hom8BZKNq04c5ACenpqYuRtFYaAFyudwe0zQnmPm9KDqkwQUhxNj09PTtMI2EEiCfzx9g5nMAesO0E4IKEY'+
	'0UCoVLQRswg1bM5/OjzPwLgK6gbURAAsDHqVSq7DjObJAGtEfAsWPHXlpeXv6OiEaDGIwLZv4pmUyemJyc/FenXpuuoWfReQAgotF79+4xgDGdelpTIJ/PjwL4UqdOkxm2LGtlcXFReTooTwFvwfsTIdaNJlFl5neLxeJllcJKAuRyuT2GYfyN7VvtdakIIYZVHpGGSmuGYfyI58d5AOg1DOMHlYJbjoDDhw8fBPBX6C5tA0R0cKs9QsMRYNu2AeCUruHV1VW4rqtbzRfXdfHo0SPtesx8yvPBl4YLWnd390cAjusYXV1dxcLCAsrlMhKJBDo7O3Wq/49yuYxSqQTXddHT04P29nad6snl5eWFxcXFW34FfNWxbdvwojpl6s5Xq1UwM5aWlkKNhLrzzIxqtYr5+XntkUBE3zQaBb43vHheK6RdW1tDrVbb+D+MCJud'+
	'ryOEwNramm5Te69du/aW381G8+OorqW+vj709/eD6PHaGkQEmfOGYaC/vx+9vYEeRr6+SAWwbdvwTnK0CStCDM4DQN5vGkgXwe7u7tcBfB7UWmdnJxKJBCqVyhPXK5VKw4UxJucBoGtlZeV3x3H+efqGVBUhxP4w1gD9kRCj8wCAWq12QHZdKoB3ehsaVRHidh4AiGhAdt0vHN4XiVWsiwAAS0tLGw7WRaj/HbfzHlKf/ATYHaVlFRHqxOQ8ALwqu+gnwM6orfuJsJkYnQcev4R50qZO4bDI1oQ6RBSn84CmALHx9K+uei8u/AR4GIcx2WpfJ4rYYQukPvkJ8CBq6zLniSj0tlkDLQHuRmnZ7zlvWVYksYMid2QX/QRworK61SYnqgBKAalPUgGY2fcAQQfVHV4zRGDmedl1qQCGYVwOa1B3exu3CKZpSs8GpQKk0+'+
	'mbAMpBjQXd28cowv2hoSHpqJaGwzMzM2xZVoqI0rqWwgY2QUPpLfh1cnLyD9mNRhuhM7pWXNeNJLBpNBKeFkYRX198Bchms1cAlHSsdHR0wDQfD6owe3uZCKZpoqOjQ7epUiaTuep30/dYfGZmhlOp1H0AI6qW2tvb0dPTszFfw+7tN0+HtrY2DA4Oak8BZv7k9OnTN/3uN4wF0un0Wazn5CjT1dWFgYGByAKbvr4+WJYVyHkAs9ls9rdGBVqvxrZqxMvGuhBZr5rHeZXcIaVwWAgxBiDQ8rtNuEKIT1UKKgkwPT19m4hGAFRDdas5VJl5RDV9Tjnbw3GcO6lUqgwgF7hrTYCZx4rF4jnV8lrpLo7jzFqW9QoRDet3rSlMFIvFr3QqaB+JJZPJEwAmdOs1gYldu3Z9plspcKaolyj5PQKk2kVMlZmPF4vFn4NUfu5T'+
	'ZZn5A9WMMBmhToULhcIlIcQwtmefcF4IMRzGeSDCdHlvx3gK8afLzxLRyTAJ0puJ7L3A1NTUxUwm8wYzH4FmFKlIiZmPZDKZN6NyHojxkxkvLeUogPcR/JOZ+wAKAM5kMpmrz/wnMzJs2zZu3LgxWKvVDnivqPdh/UXlDjz50dRDrB9dO8w8b5rmpaGhoVtxfzTVokWLFi80/wFXEQew9bAvMwAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'thumbnails_fs_close_materialOver';
		el.userData.ggId="thumbnails_fs_close";
		me._thumbnails_fs_close.userData.onclick=function (e) {
			player.setVariableValue('vis_thumbnails_full', false);
		}
		me._thumbnails_fs_close.userData.onmouseover=function (e) {
			me._thumbnails_fs_close.material = me._thumbnails_fs_close.userData.materialOver;
			me.elementMouseOver['thumbnails_fs_close']=true;
		}
		me._thumbnails_fs_close.userData.onmouseout=function (e) {
			me._thumbnails_fs_close.material = me._thumbnails_fs_close.userData.materialNormal;
			me.elementMouseOver['thumbnails_fs_close']=false;
		}
		me._thumbnails_fs_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_fullscreen.add(me._thumbnails_fs_close);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'thumbnails_small_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACZ0lEQVR4nO2YzWoUQRSFz21NzCtU9d6NqzyAGzeKg9Ex6MKVhoQooriITyEBQRQlLgJi/AnRhSgEcZG1z+CybuUJNIFMHzcJTNqMxlRNpoe5365ras6pe7r+aMAwDMMwDMMwDMMwjGFAVS/EGN+SHEvVOpljQKnEGBdIPtp7JrlYluVCj74XSa6RnIgxjpO8LiI7R/UujvrHQRBjbJH8AGBit6mtqispmkMTQAjhEsk1AKe6misR+Zai24gl8C9CCFMi8h614gHc9t4vpWg3fgaEEK6IyCr+LH4+tXig4QGoaltE3gEY72rukJzz3r/M4dHYJaCq0wDeAOg+6joiMuu9X87l08gZUBTFaRxc/IxzbjmnVyNnQFVVLRHpfjkdALecc69yezUygFrxOw'+
	'Bueu9f98OrkQF0UQFYJzkZQpg8qEOvG+NhaXoABYCWiLT+0icpgEZugsfJyAfQlCWwISIPBz0IYxSRVIEY41F34Q3n3PdU/1SS94DuLzn/w+6aH3gAI38KjHwAOZbAYq/fiqI4U1XVeRFJ3mv6RXIAve7iIYQZkg+aXDzQpyWgqrMisgTgxF6biHT64ZVK9gBUdQ7Ai5r2dlVVn3J75SBrAKo6D+B5TXeb5DUAP3J65SJbADHGOwCe1TS3RWS6LMtGvn0gUwAxxrskn9b0tkTkqnPucw6PfpEcQAjhHskn2H+t3gLQds59SdXvN0nHoKreB/AY+4v/BaDtvV9P0T4uUmfAWdSKJ3l5WIoHEgNwzt0A8HH38SfJqbIsv6YPa4ggOaaqK5ubm+cGPRbDMAzDMAzDMAzDMA7Fb/iRyo1cBbB9AAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnails_small_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-3.24);
		el.translateY(2.855);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_small';
		el.userData.x = -3.24;
		el.userData.y = 2.855;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.100);
		el.renderOrder = 10;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_small.material) me._thumbnails_small.material.opacity = v;
			me._thumbnails_small.visible = (v>0 && me._thumbnails_small.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_small.visible
			let parentEl = me._thumbnails_small.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_small.userData.opacity = v;
			v = v * me._thumbnails_small.userData.parentOpacity;
			me._thumbnails_small.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_small.children.length; i++) {
				let child = me._thumbnails_small.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_small.userData.parentOpacity = v;
			v = v * me._thumbnails_small.userData.opacity
			me._thumbnails_small.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_small.children.length; i++) {
				let child = me._thumbnails_small.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_small = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'thumbnails_small_materialOver';
		el.userData.ggId="thumbnails_small";
		me._thumbnails_small.userData.onclick=function (e) {
			player.setVariableValue('vis_thumbnails_full', false);
			player.setVariableValue('vis_thumbnails', true);
		}
		me._thumbnails_small.userData.onmouseover=function (e) {
			me._thumbnails_small.material = me._thumbnails_small.userData.materialOver;
			me.elementMouseOver['thumbnails_small']=true;
		}
		me._thumbnails_small.userData.onmouseout=function (e) {
			me._thumbnails_small.material = me._thumbnails_small.userData.materialNormal;
			me.elementMouseOver['thumbnails_small']=false;
		}
		me._thumbnails_small.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_fullscreen.add(me._thumbnails_small);
		me.skinGroup.add(me._thumbnails_fullscreen);
		width = 6.4;
		height = 6;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.18, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.18, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.18, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.18, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.18, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'video_hs_popup_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'video_hs_popup_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._video_hs_popup.material.opacity = v * me._video_hs_popup.userData.backgroundColorAlpha;
			if (me._video_hs_popup.userData.ggSubElement) {
				me._video_hs_popup.userData.ggSubElement.material.opacity = v
				me._video_hs_popup.userData.ggSubElement.visible = (v>0 && me._video_hs_popup.userData.visible);
			}
			me._video_hs_popup.visible = (v>0 && me._video_hs_popup.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._video_hs_popup.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_hs_popup.userData.backgroundColorAlpha = v;
			me._video_hs_popup.userData.setOpacity(me._video_hs_popup.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.4);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_hs_popup';
		el.userData.x = 0;
		el.userData.y = 0.4;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.080);
		el.renderOrder = 8;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._video_hs_popup.visible
			let parentEl = me._video_hs_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_hs_popup.userData.opacity = v;
			v = v * me._video_hs_popup.userData.parentOpacity;
			me._video_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_hs_popup.children.length; i++) {
				let child = me._video_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_hs_popup.userData.parentOpacity = v;
			v = v * me._video_hs_popup.userData.opacity
			me._video_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_hs_popup.children.length; i++) {
				let child = me._video_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_hs_popup = el;
		el.userData.ggId="video_hs_popup";
		me._video_hs_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_hs_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_hs_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_hs_popup.ggCurrentLogicStateVisible == 0) {
			me._video_hs_popup.visible=((!me._video_hs_popup.material && Number(me._video_hs_popup.userData.opacity>0)) || Number(me._video_hs_popup.material.opacity)>0)?true:false;
			me._video_hs_popup.userData.visible=true;
				}
				else {
			me._video_hs_popup.visible=false;
			me._video_hs_popup.userData.visible=false;
				}
			}
		}
		me._video_hs_popup.logicBlock_visible();
		me._video_hs_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'video_hs_popup_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_hs_popup_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.04);
		el.translateY(2.84);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_hs_popup_close';
		el.userData.x = 3.04;
		el.userData.y = 2.84;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_hs_popup_close.material) me._video_hs_popup_close.material.opacity = v;
			me._video_hs_popup_close.visible = (v>0 && me._video_hs_popup_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_hs_popup_close.visible
			let parentEl = me._video_hs_popup_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_hs_popup_close.userData.opacity = v;
			v = v * me._video_hs_popup_close.userData.parentOpacity;
			me._video_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_hs_popup_close.children.length; i++) {
				let child = me._video_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_hs_popup_close.userData.parentOpacity = v;
			v = v * me._video_hs_popup_close.userData.opacity
			me._video_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_hs_popup_close.children.length; i++) {
				let child = me._video_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_hs_popup_close = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFvElEQVR4nO2bT2wUVRzHv7+Z2nTbQJvWxLAXDKHDptWku5vqSQMY42FhPdgoieFKUivBxISbGate5KbRasqRxBjEg9ttIDEChaMtcIA2024IXEoqO3uAcmjcfT8PnS0F32zfmz9bCPs5tTPvvd/7ffe9N+/35jdAixYtWrzAUNwGbNs2rl+//poQYj8RDQLYB2A3gJ0AdnjFHgJ4AOAuAIeZbxmGcTmdTt8cHx8XcfYvFgFs2zbm5ubeBnCUiPIAXg7YVJmZCwDOZLPZK3GIEakA3q/9ITN/DWBvlG0DKBHRF+l0+myUQkQmwKFDh94hom8BZKNq04c5ACenpqYuRtFYaAFyudwe0zQnmPm9KDqkwQUhxNj09PTtMI2EEiCfzx9g5nMAesO0E4IKEY'+
	'0UCoVLQRswg1bM5/OjzPwLgK6gbURAAsDHqVSq7DjObJAGtEfAsWPHXlpeXv6OiEaDGIwLZv4pmUyemJyc/FenXpuuoWfReQAgotF79+4xgDGdelpTIJ/PjwL4UqdOkxm2LGtlcXFReTooTwFvwfsTIdaNJlFl5neLxeJllcJKAuRyuT2GYfyN7VvtdakIIYZVHpGGSmuGYfyI58d5AOg1DOMHlYJbjoDDhw8fBPBX6C5tA0R0cKs9QsMRYNu2AeCUruHV1VW4rqtbzRfXdfHo0SPtesx8yvPBl4YLWnd390cAjusYXV1dxcLCAsrlMhKJBDo7O3Wq/49yuYxSqQTXddHT04P29nad6snl5eWFxcXFW34FfNWxbdvwojpl6s5Xq1UwM5aWlkKNhLrzzIxqtYr5+XntkUBE3zQaBb43vHheK6RdW1tDrVbb+D+MCJud'+
	'ryOEwNramm5Te69du/aW381G8+OorqW+vj709/eD6PHaGkQEmfOGYaC/vx+9vYEeRr6+SAWwbdvwTnK0CStCDM4DQN5vGkgXwe7u7tcBfB7UWmdnJxKJBCqVyhPXK5VKw4UxJucBoGtlZeV3x3H+efqGVBUhxP4w1gD9kRCj8wCAWq12QHZdKoB3ehsaVRHidh4AiGhAdt0vHN4XiVWsiwAAS0tLGw7WRaj/HbfzHlKf/ATYHaVlFRHqxOQ8ALwqu+gnwM6orfuJsJkYnQcev4R50qZO4bDI1oQ6RBSn84CmALHx9K+uei8u/AR4GIcx2WpfJ4rYYQukPvkJ8CBq6zLniSj0tlkDLQHuRmnZ7zlvWVYksYMid2QX/QRworK61SYnqgBKAalPUgGY2fcAQQfVHV4zRGDmedl1qQCGYVwOa1B3exu3CKZpSs8GpQKk0+'+
	'mbAMpBjQXd28cowv2hoSHpqJaGwzMzM2xZVoqI0rqWwgY2QUPpLfh1cnLyD9mNRhuhM7pWXNeNJLBpNBKeFkYRX198Bchms1cAlHSsdHR0wDQfD6owe3uZCKZpoqOjQ7epUiaTuep30/dYfGZmhlOp1H0AI6qW2tvb0dPTszFfw+7tN0+HtrY2DA4Oak8BZv7k9OnTN/3uN4wF0un0Wazn5CjT1dWFgYGByAKbvr4+WJYVyHkAs9ls9rdGBVqvxrZqxMvGuhBZr5rHeZXcIaVwWAgxBiDQ8rtNuEKIT1UKKgkwPT19m4hGAFRDdas5VJl5RDV9Tjnbw3GcO6lUqgwgF7hrTYCZx4rF4jnV8lrpLo7jzFqW9QoRDet3rSlMFIvFr3QqaB+JJZPJEwAmdOs1gYldu3Z9plspcKaolyj5PQKk2kVMlZmPF4vFn4NUfu5T'+
	'ZZn5A9WMMBmhToULhcIlIcQwtmefcF4IMRzGeSDCdHlvx3gK8afLzxLRyTAJ0puJ7L3A1NTUxUwm8wYzH4FmFKlIiZmPZDKZN6NyHojxkxkvLeUogPcR/JOZ+wAKAM5kMpmrz/wnMzJs2zZu3LgxWKvVDnivqPdh/UXlDjz50dRDrB9dO8w8b5rmpaGhoVtxfzTVokWLFi80/wFXEQew9bAvMwAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_hs_popup_close_materialOver';
		el.userData.ggId="video_hs_popup_close";
		me._video_hs_popup_close.userData.onclick=function (e) {
			player.setVariableValue('vis_video_youtube_hs_popup', false);
			player.setVariableValue('vis_video_vimeo_hs_popup', false);
			player.setVariableValue('vis_video_file_hs_popup', false);
			player.setVariableValue('vis_video_url_hs_popup', false);
		}
		me._video_hs_popup_close.userData.onmouseover=function (e) {
			me._video_hs_popup_close.material = me._video_hs_popup_close.userData.materialOver;
			me.elementMouseOver['video_hs_popup_close']=true;
		}
		me._video_hs_popup_close.userData.onmouseout=function (e) {
			me._video_hs_popup_close.material = me._video_hs_popup_close.userData.materialNormal;
			me.elementMouseOver['video_hs_popup_close']=false;
		}
		me._video_hs_popup_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_hs_popup.add(me._video_hs_popup_close);
		el.userData.ggId="video_youtube_hs_popup_vid";
		me._video_youtube_hs_popup_vid.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_youtube_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_youtube_hs_popup_vid.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_youtube_hs_popup_vid.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_youtube_hs_popup_vid.ggCurrentLogicStateVisible == 0) {
			me._video_youtube_hs_popup_vid.visible=((!me._video_youtube_hs_popup_vid.material && Number(me._video_youtube_hs_popup_vid.userData.opacity>0)) || Number(me._video_youtube_hs_popup_vid.material.opacity)>0)?true:false;
			me._video_youtube_hs_popup_vid.userData.visible=true;
					if (me._video_youtube_hs_popup_vid.userData.ggVideoNotLoaded) {
						me._video_youtube_hs_popup_vid.userData.ggInitMedia(me._video_youtube_hs_popup_vid.ggVideoSource);
					}
				}
				else {
			me._video_youtube_hs_popup_vid.visible=false;
			me._video_youtube_hs_popup_vid.userData.visible=false;
					me._video_youtube_hs_popup_vid.userData.ggInitMedia('');
				}
			}
		}
		me._video_youtube_hs_popup_vid.logicBlock_visible();
		me._video_youtube_hs_popup_vid.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_hs_popup.add(me._video_youtube_hs_popup_vid);
		el.userData.ggId="video_vimeo_hs_popup_vid";
		me._video_vimeo_hs_popup_vid.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_vimeo_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_vimeo_hs_popup_vid.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_vimeo_hs_popup_vid.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_vimeo_hs_popup_vid.ggCurrentLogicStateVisible == 0) {
			me._video_vimeo_hs_popup_vid.visible=((!me._video_vimeo_hs_popup_vid.material && Number(me._video_vimeo_hs_popup_vid.userData.opacity>0)) || Number(me._video_vimeo_hs_popup_vid.material.opacity)>0)?true:false;
			me._video_vimeo_hs_popup_vid.userData.visible=true;
					if (me._video_vimeo_hs_popup_vid.userData.ggVideoNotLoaded) {
						me._video_vimeo_hs_popup_vid.userData.ggInitMedia(me._video_vimeo_hs_popup_vid.ggVideoSource);
					}
				}
				else {
			me._video_vimeo_hs_popup_vid.visible=false;
			me._video_vimeo_hs_popup_vid.userData.visible=false;
					me._video_vimeo_hs_popup_vid.userData.ggInitMedia('');
				}
			}
		}
		me._video_vimeo_hs_popup_vid.logicBlock_visible();
		me._video_vimeo_hs_popup_vid.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_hs_popup.add(me._video_vimeo_hs_popup_vid);
		geometry = new THREE.PlaneBufferGeometry(9.61, 4.43, 5, 5 );
		geometry.name = 'video_file_hs_popup_vid_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_file_hs_popup_vid_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(-0.035);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 961;
		el.userData.height = 443;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_hs_popup_vid';
		el.userData.x = 0;
		el.userData.y = -0.035;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.120);
		el.renderOrder = 12;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_file_hs_popup_vid.material) me._video_file_hs_popup_vid.material.opacity = v;
			me._video_file_hs_popup_vid.visible = (v>0 && me._video_file_hs_popup_vid.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_file_hs_popup_vid.visible
			let parentEl = me._video_file_hs_popup_vid.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_hs_popup_vid.userData.opacity = v;
			v = v * me._video_file_hs_popup_vid.userData.parentOpacity;
			me._video_file_hs_popup_vid.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_hs_popup_vid.children.length; i++) {
				let child = me._video_file_hs_popup_vid.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_hs_popup_vid.userData.parentOpacity = v;
			v = v * me._video_file_hs_popup_vid.userData.opacity
			me._video_file_hs_popup_vid.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_hs_popup_vid.children.length; i++) {
				let child = me._video_file_hs_popup_vid.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_hs_popup_vid = el;
		me._video_file_hs_popup_vid.userData.seekbars = [];
		me._video_file_hs_popup_vid.userData.ggInitMedia = function(media) {
			if (me._video_file_hs_popup_vid__vid) me._video_file_hs_popup_vid__vid.pause();
			me._video_file_hs_popup_vid__vid = document.createElement('video');
			player.registerVideoElement('video_file_hs_popup_vid', me._video_file_hs_popup_vid__vid);
			me._video_file_hs_popup_vid__vid.setAttribute('autoplay', '');
			me._video_file_hs_popup_vid__vid.setAttribute('crossOrigin', 'anonymous');
			me._video_file_hs_popup_vid__source = document.createElement('source');
			me._video_file_hs_popup_vid__source.setAttribute('src', media);
			me._video_file_hs_popup_vid__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._video_file_hs_popup_vid__vid.videoWidth / me._video_file_hs_popup_vid__vid.videoHeight;
				let elAR = me._video_file_hs_popup_vid.userData.width / me._video_file_hs_popup_vid.userData.height;
				if (videoAR > elAR) {
					me._video_file_hs_popup_vid.scale.set(1, (me._video_file_hs_popup_vid.userData.width / videoAR) / me._video_file_hs_popup_vid.userData.height, 1);
				} else {
					me._video_file_hs_popup_vid.scale.set((me._video_file_hs_popup_vid.userData.height * videoAR) / me._video_file_hs_popup_vid.userData.width, 1, 1);
				}
			}, false);
			me._video_file_hs_popup_vid__vid.appendChild(me._video_file_hs_popup_vid__source);
			videoTexture = new THREE.VideoTexture( me._video_file_hs_popup_vid__vid );
			videoTexture.name = 'video_file_hs_popup_vid_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'video_file_hs_popup_vid_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._video_file_hs_popup_vid.material = videoMaterial;
		}
		el.userData.ggId="video_file_hs_popup_vid";
		me._video_file_hs_popup_vid.userData.ggIsActive=function() {
			if (me._video_file_hs_popup_vid__vid != null) {
				return (me._video_file_hs_popup_vid__vid.paused == false && me._video_file_hs_popup_vid__vid.ended == false);
			} else {
				return false;
			}
		}
		me._video_file_hs_popup_vid.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_file_hs_popup_vid.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_file_hs_popup_vid.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_file_hs_popup_vid.ggCurrentLogicStateVisible == 0) {
			me._video_file_hs_popup_vid.visible=((!me._video_file_hs_popup_vid.material && Number(me._video_file_hs_popup_vid.userData.opacity>0)) || Number(me._video_file_hs_popup_vid.material.opacity)>0)?true:false;
			me._video_file_hs_popup_vid.userData.visible=true;
					if (me._video_file_hs_popup_vid.userData.ggVideoNotLoaded) {
						me._video_file_hs_popup_vid.userData.ggInitMedia(me._video_file_hs_popup_vid.ggVideoSource);
					}
				}
				else {
			me._video_file_hs_popup_vid.visible=false;
			me._video_file_hs_popup_vid.userData.visible=false;
					me._video_file_hs_popup_vid.userData.ggInitMedia('');
				}
			}
		}
		me._video_file_hs_popup_vid.logicBlock_visible();
		me._video_file_hs_popup_vid.userData.onclick=function (e) {
			player.playPauseSound("video_file_hs_popup_vid","1");
		}
		me._video_file_hs_popup_vid.userData.ggActivate=function () {
			me._video_file_hs_popup_vid.userData.transitionValue_alpha = 0;
			for (var i = 0; i < me._video_file_hs_popup_play.userData.transitions.length; i++) {
				if (me._video_file_hs_popup_play.userData.transitions[i].property == 'alpha') {
					clearInterval(me._video_file_hs_popup_play.userData.transitions[i].interval);
					me._video_file_hs_popup_play.userData.transitions.splice(i, 1);
					break;
				}
			}
			let transition_alpha = {};
			transition_alpha.property = 'alpha';
			transition_alpha.startTime = Date.now();
			transition_alpha.startAlpha = me._video_file_hs_popup_play.material ? me._video_file_hs_popup_play.material.opacity : me._video_file_hs_popup_play.userData.opacity;
			transition_alpha.interval = setInterval(() => {
				let currentTime = Date.now() - 0;
				let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 200;
				percentDone = Math.max(percentDone, 0.0);
				percentDone = Math.min(percentDone, 1.0);
				let tfval = Math.sin((percentDone * Math.PI) / 2);
				me._video_file_hs_popup_play.userData.setOpacity(transition_alpha.startAlpha + (me._video_file_hs_popup_vid.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
				if (percentDone >= 1.0) {
					clearInterval(transition_alpha.interval);
					me._video_file_hs_popup_play.userData.transitions.splice(me._video_file_hs_popup_play.userData.transitions.indexOf(transition_alpha), 1);
				}
			}, 20);
			me._video_file_hs_popup_play.userData.transitions.push(transition_alpha);
		}
		me._video_file_hs_popup_vid.userData.ggDeactivate=function () {
			me._video_file_hs_popup_play.userData.setOpacity(1);
			me._video_file_hs_popup_play.visible=me._video_file_hs_popup_play.userData.visible?true:false;
		}
		me._video_file_hs_popup_vid.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_hs_popup.add(me._video_file_hs_popup_vid);
		geometry = new THREE.PlaneBufferGeometry(0.8, 0.8, 5, 5 );
		geometry.name = 'video_file_hs_popup_play_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_file_hs_popup_play_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(-0.04);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 80;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_hs_popup_play';
		el.userData.x = 0;
		el.userData.y = -0.04;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.130);
		el.renderOrder = 13;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_file_hs_popup_play.material) me._video_file_hs_popup_play.material.opacity = v;
			me._video_file_hs_popup_play.visible = (v>0 && me._video_file_hs_popup_play.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_file_hs_popup_play.visible
			let parentEl = me._video_file_hs_popup_play.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_hs_popup_play.userData.opacity = v;
			v = v * me._video_file_hs_popup_play.userData.parentOpacity;
			me._video_file_hs_popup_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_hs_popup_play.children.length; i++) {
				let child = me._video_file_hs_popup_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_hs_popup_play.userData.parentOpacity = v;
			v = v * me._video_file_hs_popup_play.userData.opacity
			me._video_file_hs_popup_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_hs_popup_play.children.length; i++) {
				let child = me._video_file_hs_popup_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_hs_popup_play = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_file_hs_popup_play_materialOver';
		el.userData.ggId="video_file_hs_popup_play";
		me._video_file_hs_popup_play.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_file_hs_popup_play.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_file_hs_popup_play.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_file_hs_popup_play.ggCurrentLogicStateVisible == 0) {
			me._video_file_hs_popup_play.visible=((!me._video_file_hs_popup_play.material && Number(me._video_file_hs_popup_play.userData.opacity>0)) || Number(me._video_file_hs_popup_play.material.opacity)>0)?true:false;
			me._video_file_hs_popup_play.userData.visible=true;
				}
				else {
			me._video_file_hs_popup_play.visible=false;
			me._video_file_hs_popup_play.userData.visible=false;
				}
			}
		}
		me._video_file_hs_popup_play.logicBlock_visible();
		me._video_file_hs_popup_play.userData.onclick=function (e) {
			player.playSound("video_file_hs_popup_vid","1");
		}
		me._video_file_hs_popup_play.userData.onmouseover=function (e) {
			me._video_file_hs_popup_play.material = me._video_file_hs_popup_play.userData.materialOver;
			me.elementMouseOver['video_file_hs_popup_play']=true;
		}
		me._video_file_hs_popup_play.userData.onmouseout=function (e) {
			me._video_file_hs_popup_play.material = me._video_file_hs_popup_play.userData.materialNormal;
			me.elementMouseOver['video_file_hs_popup_play']=false;
		}
		me._video_file_hs_popup_play.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_hs_popup.add(me._video_file_hs_popup_play);
		geometry = new THREE.PlaneBufferGeometry(9.61, 4.43, 5, 5 );
		geometry.name = 'video_url_hs_popup_vid_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_url_hs_popup_vid_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(-0.035);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 961;
		el.userData.height = 443;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_hs_popup_vid';
		el.userData.x = 0;
		el.userData.y = -0.035;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_url_hs_popup_vid.material) me._video_url_hs_popup_vid.material.opacity = v;
			me._video_url_hs_popup_vid.visible = (v>0 && me._video_url_hs_popup_vid.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_url_hs_popup_vid.visible
			let parentEl = me._video_url_hs_popup_vid.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_hs_popup_vid.userData.opacity = v;
			v = v * me._video_url_hs_popup_vid.userData.parentOpacity;
			me._video_url_hs_popup_vid.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_hs_popup_vid.children.length; i++) {
				let child = me._video_url_hs_popup_vid.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_hs_popup_vid.userData.parentOpacity = v;
			v = v * me._video_url_hs_popup_vid.userData.opacity
			me._video_url_hs_popup_vid.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_hs_popup_vid.children.length; i++) {
				let child = me._video_url_hs_popup_vid.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_hs_popup_vid = el;
		me._video_url_hs_popup_vid.userData.seekbars = [];
		me._video_url_hs_popup_vid.userData.ggInitMedia = function(media) {
			if (me._video_url_hs_popup_vid__vid) me._video_url_hs_popup_vid__vid.pause();
			me._video_url_hs_popup_vid__vid = document.createElement('video');
			player.registerVideoElement('video_url_hs_popup_vid', me._video_url_hs_popup_vid__vid);
			me._video_url_hs_popup_vid__vid.setAttribute('autoplay', '');
			me._video_url_hs_popup_vid__vid.setAttribute('crossOrigin', 'anonymous');
			me._video_url_hs_popup_vid__source = document.createElement('source');
			me._video_url_hs_popup_vid__source.setAttribute('src', media);
			me._video_url_hs_popup_vid__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._video_url_hs_popup_vid__vid.videoWidth / me._video_url_hs_popup_vid__vid.videoHeight;
				let elAR = me._video_url_hs_popup_vid.userData.width / me._video_url_hs_popup_vid.userData.height;
				if (videoAR > elAR) {
					me._video_url_hs_popup_vid.scale.set(1, (me._video_url_hs_popup_vid.userData.width / videoAR) / me._video_url_hs_popup_vid.userData.height, 1);
				} else {
					me._video_url_hs_popup_vid.scale.set((me._video_url_hs_popup_vid.userData.height * videoAR) / me._video_url_hs_popup_vid.userData.width, 1, 1);
				}
			}, false);
			me._video_url_hs_popup_vid__vid.appendChild(me._video_url_hs_popup_vid__source);
			videoTexture = new THREE.VideoTexture( me._video_url_hs_popup_vid__vid );
			videoTexture.name = 'video_url_hs_popup_vid_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'video_url_hs_popup_vid_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._video_url_hs_popup_vid.material = videoMaterial;
		}
		el.userData.ggId="video_url_hs_popup_vid";
		me._video_url_hs_popup_vid.userData.ggIsActive=function() {
			if (me._video_url_hs_popup_vid__vid != null) {
				return (me._video_url_hs_popup_vid__vid.paused == false && me._video_url_hs_popup_vid__vid.ended == false);
			} else {
				return false;
			}
		}
		me._video_url_hs_popup_vid.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_url_hs_popup_vid.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_url_hs_popup_vid.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_url_hs_popup_vid.ggCurrentLogicStateVisible == 0) {
			me._video_url_hs_popup_vid.visible=((!me._video_url_hs_popup_vid.material && Number(me._video_url_hs_popup_vid.userData.opacity>0)) || Number(me._video_url_hs_popup_vid.material.opacity)>0)?true:false;
			me._video_url_hs_popup_vid.userData.visible=true;
					if (me._video_url_hs_popup_vid.userData.ggVideoNotLoaded) {
						me._video_url_hs_popup_vid.userData.ggInitMedia(me._video_url_hs_popup_vid.ggVideoSource);
					}
				}
				else {
			me._video_url_hs_popup_vid.visible=false;
			me._video_url_hs_popup_vid.userData.visible=false;
					me._video_url_hs_popup_vid.userData.ggInitMedia('');
				}
			}
		}
		me._video_url_hs_popup_vid.logicBlock_visible();
		me._video_url_hs_popup_vid.userData.onclick=function (e) {
			player.playPauseSound("video_url_hs_popup_vid","1");
		}
		me._video_url_hs_popup_vid.userData.ggActivate=function () {
			me._video_url_hs_popup_vid.userData.transitionValue_alpha = 0;
			for (var i = 0; i < me._video_url_hs_popup_play.userData.transitions.length; i++) {
				if (me._video_url_hs_popup_play.userData.transitions[i].property == 'alpha') {
					clearInterval(me._video_url_hs_popup_play.userData.transitions[i].interval);
					me._video_url_hs_popup_play.userData.transitions.splice(i, 1);
					break;
				}
			}
			let transition_alpha = {};
			transition_alpha.property = 'alpha';
			transition_alpha.startTime = Date.now();
			transition_alpha.startAlpha = me._video_url_hs_popup_play.material ? me._video_url_hs_popup_play.material.opacity : me._video_url_hs_popup_play.userData.opacity;
			transition_alpha.interval = setInterval(() => {
				let currentTime = Date.now() - 0;
				let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 200;
				percentDone = Math.max(percentDone, 0.0);
				percentDone = Math.min(percentDone, 1.0);
				let tfval = Math.sin((percentDone * Math.PI) / 2);
				me._video_url_hs_popup_play.userData.setOpacity(transition_alpha.startAlpha + (me._video_url_hs_popup_vid.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
				if (percentDone >= 1.0) {
					clearInterval(transition_alpha.interval);
					me._video_url_hs_popup_play.userData.transitions.splice(me._video_url_hs_popup_play.userData.transitions.indexOf(transition_alpha), 1);
				}
			}, 20);
			me._video_url_hs_popup_play.userData.transitions.push(transition_alpha);
		}
		me._video_url_hs_popup_vid.userData.ggDeactivate=function () {
			me._video_url_hs_popup_play.userData.setOpacity(1);
			me._video_url_hs_popup_play.visible=me._video_url_hs_popup_play.userData.visible?true:false;
		}
		me._video_url_hs_popup_vid.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_hs_popup.add(me._video_url_hs_popup_vid);
		geometry = new THREE.PlaneBufferGeometry(0.8, 0.8, 5, 5 );
		geometry.name = 'video_url_hs_popup_play_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_url_hs_popup_play_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(-0.04);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 80;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_hs_popup_play';
		el.userData.x = 0;
		el.userData.y = -0.04;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_url_hs_popup_play.material) me._video_url_hs_popup_play.material.opacity = v;
			me._video_url_hs_popup_play.visible = (v>0 && me._video_url_hs_popup_play.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_url_hs_popup_play.visible
			let parentEl = me._video_url_hs_popup_play.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_hs_popup_play.userData.opacity = v;
			v = v * me._video_url_hs_popup_play.userData.parentOpacity;
			me._video_url_hs_popup_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_hs_popup_play.children.length; i++) {
				let child = me._video_url_hs_popup_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_hs_popup_play.userData.parentOpacity = v;
			v = v * me._video_url_hs_popup_play.userData.opacity
			me._video_url_hs_popup_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_hs_popup_play.children.length; i++) {
				let child = me._video_url_hs_popup_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_hs_popup_play = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_url_hs_popup_play_materialOver';
		el.userData.ggId="video_url_hs_popup_play";
		me._video_url_hs_popup_play.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_url_hs_popup_play.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_url_hs_popup_play.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_url_hs_popup_play.ggCurrentLogicStateVisible == 0) {
			me._video_url_hs_popup_play.visible=((!me._video_url_hs_popup_play.material && Number(me._video_url_hs_popup_play.userData.opacity>0)) || Number(me._video_url_hs_popup_play.material.opacity)>0)?true:false;
			me._video_url_hs_popup_play.userData.visible=true;
				}
				else {
			me._video_url_hs_popup_play.visible=false;
			me._video_url_hs_popup_play.userData.visible=false;
				}
			}
		}
		me._video_url_hs_popup_play.logicBlock_visible();
		me._video_url_hs_popup_play.userData.onclick=function (e) {
			player.playSound("video_url_hs_popup_vid","1");
		}
		me._video_url_hs_popup_play.userData.onmouseover=function (e) {
			me._video_url_hs_popup_play.material = me._video_url_hs_popup_play.userData.materialOver;
			me.elementMouseOver['video_url_hs_popup_play']=true;
		}
		me._video_url_hs_popup_play.userData.onmouseout=function (e) {
			me._video_url_hs_popup_play.material = me._video_url_hs_popup_play.userData.materialNormal;
			me.elementMouseOver['video_url_hs_popup_play']=false;
		}
		me._video_url_hs_popup_play.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_hs_popup.add(me._video_url_hs_popup_play);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-2.73);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 360;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller';
		el.userData.x = 0;
		el.userData.y = -2.73;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller.material) me._video_controller.material.opacity = v;
			me._video_controller.visible = (v>0 && me._video_controller.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller.visible
			let parentEl = me._video_controller.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller.userData.opacity = v;
			v = v * me._video_controller.userData.parentOpacity;
			me._video_controller.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller.children.length; i++) {
				let child = me._video_controller.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller.userData.parentOpacity = v;
			v = v * me._video_controller.userData.opacity
			me._video_controller.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller.children.length; i++) {
				let child = me._video_controller.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller = el;
		el.userData.ggId="video_controller";
		me._video_controller.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_video_file_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_controller.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_controller.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_controller.ggCurrentLogicStateVisible == 0) {
			me._video_controller.visible=((!me._video_controller.material && Number(me._video_controller.userData.opacity>0)) || Number(me._video_controller.material.opacity)>0)?true:false;
			me._video_controller.userData.visible=true;
				}
				else {
			me._video_controller.visible=false;
			me._video_controller.userData.visible=false;
				}
			}
		}
		me._video_controller.logicBlock_visible();
		me._video_controller.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_seekbar.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller.add(me._video_controller_seekbar);
		me._video_hs_popup.add(me._video_controller);
		geometry = new THREE.PlaneBufferGeometry(1, 0.28, 5, 5 );
		geometry.name = 'video_hs_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'video_hs_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._video_hs_popup_title.material.opacity = v;
			if (me._video_hs_popup_title.userData.hasScrollbar) {
				me._video_hs_popup_title.userData.scrollbar.material.opacity = v;
				me._video_hs_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._video_hs_popup_title.userData.ggSubElement) {
				me._video_hs_popup_title.userData.ggSubElement.material.opacity = v
				me._video_hs_popup_title.userData.ggSubElement.visible = (v>0 && me._video_hs_popup_title.userData.visible);
			}
			me._video_hs_popup_title.visible = (v>0 && me._video_hs_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._video_hs_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_hs_popup_title.userData.backgroundColorAlpha = v;
			me._video_hs_popup_title.userData.setOpacity(me._video_hs_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.54);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 28;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_hs_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.54;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._video_hs_popup_title.visible
			let parentEl = me._video_hs_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_hs_popup_title.userData.opacity = v;
			v = v * me._video_hs_popup_title.userData.parentOpacity;
			me._video_hs_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_hs_popup_title.children.length; i++) {
				let child = me._video_hs_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_hs_popup_title.userData.parentOpacity = v;
			v = v * me._video_hs_popup_title.userData.opacity
			me._video_hs_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_hs_popup_title.children.length; i++) {
				let child = me._video_hs_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_hs_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 28;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._video_hs_popup_title.userData.totalHeight = 3;
			me._video_hs_popup_title.userData.textLines = [];
			var ctx = me._video_hs_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._video_hs_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._video_hs_popup_title.userData.textLines.push(line);
					line = '';
					me._video_hs_popup_title.userData.totalHeight += me._video_hs_popup_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._video_hs_popup_title.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._video_hs_popup_title.userData.textLines.push(line);
					line = words[i];
					me._video_hs_popup_title.userData.totalHeight += me._video_hs_popup_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._video_hs_popup_title.userData.textLines.push(line);
			me._video_hs_popup_title.userData.totalHeight += me._video_hs_popup_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._video_hs_popup_title.userData.textCanvas;
			var ctx = me._video_hs_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._video_hs_popup_title.userData.textColor.r * 255 + ', ' + me._video_hs_popup_title.userData.textColor.g * 255 + ', ' + me._video_hs_popup_title.userData.textColor.b * 255 + ', ' + me._video_hs_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._video_hs_popup_title.userData.boxWidth - (me._video_hs_popup_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._video_hs_popup_title.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._video_hs_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._video_hs_popup_title.userData.textLines[i];
				var curTextLineBase = me._video_hs_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + x + 0) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + x + 0) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._video_hs_popup_title.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'video_hs_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._video_hs_popup_title.material.map) {
				me._video_hs_popup_title.material.map.dispose();
			}
			me._video_hs_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._video_hs_popup_title.remove(...me._video_hs_popup_title.children);
			var canv = me._video_hs_popup_title.userData.textCanvas;
			var ctx = me._video_hs_popup_title.userData.textCanvasContext;
			ctx.font = '22px Verdana';
			me._video_hs_popup_title.userData.lineHeight = 22 * 1.2;
			me._video_hs_popup_title.userData.textLines = [];
			me._video_hs_popup_title.userData.textLines.push(me._video_hs_popup_title.userData.ggText);
			me._video_hs_popup_title.userData.totalHeight = 3;
			me._video_hs_popup_title.userData.totalHeight += me._video_hs_popup_title.userData.lineHeight;
			me._video_hs_popup_title.userData.boxWidth = me._video_hs_popup_title.userData.width;
			me._video_hs_popup_title.userData.boxHeight = me._video_hs_popup_title.userData.height;
			me._video_hs_popup_title.userData.hasScrollbar = false;
			canv.width = me._video_hs_popup_title.userData.boxWidth;
			canv.height = me._video_hs_popup_title.userData.boxHeight;
			ctx.font = '22px Verdana';
			me._video_hs_popup_title.userData.ggPaintCanvasText();
		}
		me._video_hs_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._video_hs_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._video_hs_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._video_hs_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._video_hs_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._video_hs_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._video_hs_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="video_hs_popup_title";
		me._video_hs_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_hs_popup.add(me._video_hs_popup_title);
		me.skinGroup.add(me._video_hs_popup);
		width = 6.4;
		height = 6;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.18, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.18, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.18, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.18, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.18, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'pdf_hs_popup_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'pdf_hs_popup_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._pdf_hs_popup.material.opacity = v * me._pdf_hs_popup.userData.backgroundColorAlpha;
			if (me._pdf_hs_popup.userData.ggSubElement) {
				me._pdf_hs_popup.userData.ggSubElement.material.opacity = v
				me._pdf_hs_popup.userData.ggSubElement.visible = (v>0 && me._pdf_hs_popup.userData.visible);
			}
			me._pdf_hs_popup.visible = (v>0 && me._pdf_hs_popup.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._pdf_hs_popup.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._pdf_hs_popup.userData.backgroundColorAlpha = v;
			me._pdf_hs_popup.userData.setOpacity(me._pdf_hs_popup.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.4);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'pdf_hs_popup';
		el.userData.x = 0;
		el.userData.y = 0.4;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.090);
		el.renderOrder = 9;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._pdf_hs_popup.visible
			let parentEl = me._pdf_hs_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._pdf_hs_popup.userData.opacity = v;
			v = v * me._pdf_hs_popup.userData.parentOpacity;
			me._pdf_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_hs_popup.children.length; i++) {
				let child = me._pdf_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._pdf_hs_popup.userData.parentOpacity = v;
			v = v * me._pdf_hs_popup.userData.opacity
			me._pdf_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_hs_popup.children.length; i++) {
				let child = me._pdf_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._pdf_hs_popup = el;
		el.userData.ggId="pdf_hs_popup";
		me._pdf_hs_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_pdf_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._pdf_hs_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._pdf_hs_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._pdf_hs_popup.ggCurrentLogicStateVisible == 0) {
			me._pdf_hs_popup.visible=((!me._pdf_hs_popup.material && Number(me._pdf_hs_popup.userData.opacity>0)) || Number(me._pdf_hs_popup.material.opacity)>0)?true:false;
			me._pdf_hs_popup.userData.visible=true;
				}
				else {
			me._pdf_hs_popup.visible=false;
			me._pdf_hs_popup.userData.visible=false;
				}
			}
		}
		me._pdf_hs_popup.logicBlock_visible();
		me._pdf_hs_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'pdf_hs_popup_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'pdf_hs_popup_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.04);
		el.translateY(2.84);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'pdf_hs_popup_close';
		el.userData.x = 3.04;
		el.userData.y = 2.84;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.100);
		el.renderOrder = 10;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._pdf_hs_popup_close.material) me._pdf_hs_popup_close.material.opacity = v;
			me._pdf_hs_popup_close.visible = (v>0 && me._pdf_hs_popup_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._pdf_hs_popup_close.visible
			let parentEl = me._pdf_hs_popup_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._pdf_hs_popup_close.userData.opacity = v;
			v = v * me._pdf_hs_popup_close.userData.parentOpacity;
			me._pdf_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_hs_popup_close.children.length; i++) {
				let child = me._pdf_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._pdf_hs_popup_close.userData.parentOpacity = v;
			v = v * me._pdf_hs_popup_close.userData.opacity
			me._pdf_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_hs_popup_close.children.length; i++) {
				let child = me._pdf_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._pdf_hs_popup_close = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'pdf_hs_popup_close_materialOver';
		el.userData.ggId="pdf_hs_popup_close";
		me._pdf_hs_popup_close.userData.onclick=function (e) {
			player.setVariableValue('vis_pdf_hs_popup', false);
		}
		me._pdf_hs_popup_close.userData.onmouseover=function (e) {
			me._pdf_hs_popup_close.material = me._pdf_hs_popup_close.userData.materialOver;
			me.elementMouseOver['pdf_hs_popup_close']=true;
		}
		me._pdf_hs_popup_close.userData.onmouseout=function (e) {
			me._pdf_hs_popup_close.material = me._pdf_hs_popup_close.userData.materialNormal;
			me.elementMouseOver['pdf_hs_popup_close']=false;
		}
		me._pdf_hs_popup_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._pdf_hs_popup.add(me._pdf_hs_popup_close);
		geometry = new THREE.PlaneBufferGeometry(1, 0.28, 5, 5 );
		geometry.name = 'pdf_hs_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'pdf_hs_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._pdf_hs_popup_title.material.opacity = v;
			if (me._pdf_hs_popup_title.userData.hasScrollbar) {
				me._pdf_hs_popup_title.userData.scrollbar.material.opacity = v;
				me._pdf_hs_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._pdf_hs_popup_title.userData.ggSubElement) {
				me._pdf_hs_popup_title.userData.ggSubElement.material.opacity = v
				me._pdf_hs_popup_title.userData.ggSubElement.visible = (v>0 && me._pdf_hs_popup_title.userData.visible);
			}
			me._pdf_hs_popup_title.visible = (v>0 && me._pdf_hs_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._pdf_hs_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._pdf_hs_popup_title.userData.backgroundColorAlpha = v;
			me._pdf_hs_popup_title.userData.setOpacity(me._pdf_hs_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.54);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 28;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'pdf_hs_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.54;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.110);
		el.renderOrder = 11;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._pdf_hs_popup_title.visible
			let parentEl = me._pdf_hs_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._pdf_hs_popup_title.userData.opacity = v;
			v = v * me._pdf_hs_popup_title.userData.parentOpacity;
			me._pdf_hs_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_hs_popup_title.children.length; i++) {
				let child = me._pdf_hs_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._pdf_hs_popup_title.userData.parentOpacity = v;
			v = v * me._pdf_hs_popup_title.userData.opacity
			me._pdf_hs_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pdf_hs_popup_title.children.length; i++) {
				let child = me._pdf_hs_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._pdf_hs_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 28;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._pdf_hs_popup_title.userData.totalHeight = 3;
			me._pdf_hs_popup_title.userData.textLines = [];
			var ctx = me._pdf_hs_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._pdf_hs_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._pdf_hs_popup_title.userData.textLines.push(line);
					line = '';
					me._pdf_hs_popup_title.userData.totalHeight += me._pdf_hs_popup_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._pdf_hs_popup_title.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._pdf_hs_popup_title.userData.textLines.push(line);
					line = words[i];
					me._pdf_hs_popup_title.userData.totalHeight += me._pdf_hs_popup_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._pdf_hs_popup_title.userData.textLines.push(line);
			me._pdf_hs_popup_title.userData.totalHeight += me._pdf_hs_popup_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._pdf_hs_popup_title.userData.textCanvas;
			var ctx = me._pdf_hs_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._pdf_hs_popup_title.userData.textColor.r * 255 + ', ' + me._pdf_hs_popup_title.userData.textColor.g * 255 + ', ' + me._pdf_hs_popup_title.userData.textColor.b * 255 + ', ' + me._pdf_hs_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._pdf_hs_popup_title.userData.boxWidth - (me._pdf_hs_popup_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._pdf_hs_popup_title.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._pdf_hs_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._pdf_hs_popup_title.userData.textLines[i];
				var curTextLineBase = me._pdf_hs_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + x + 0) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + x + 0) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._pdf_hs_popup_title.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'pdf_hs_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._pdf_hs_popup_title.material.map) {
				me._pdf_hs_popup_title.material.map.dispose();
			}
			me._pdf_hs_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._pdf_hs_popup_title.remove(...me._pdf_hs_popup_title.children);
			var canv = me._pdf_hs_popup_title.userData.textCanvas;
			var ctx = me._pdf_hs_popup_title.userData.textCanvasContext;
			ctx.font = '22px Verdana';
			me._pdf_hs_popup_title.userData.lineHeight = 22 * 1.2;
			me._pdf_hs_popup_title.userData.textLines = [];
			me._pdf_hs_popup_title.userData.textLines.push(me._pdf_hs_popup_title.userData.ggText);
			me._pdf_hs_popup_title.userData.totalHeight = 3;
			me._pdf_hs_popup_title.userData.totalHeight += me._pdf_hs_popup_title.userData.lineHeight;
			me._pdf_hs_popup_title.userData.boxWidth = me._pdf_hs_popup_title.userData.width;
			me._pdf_hs_popup_title.userData.boxHeight = me._pdf_hs_popup_title.userData.height;
			me._pdf_hs_popup_title.userData.hasScrollbar = false;
			canv.width = me._pdf_hs_popup_title.userData.boxWidth;
			canv.height = me._pdf_hs_popup_title.userData.boxHeight;
			ctx.font = '22px Verdana';
			me._pdf_hs_popup_title.userData.ggPaintCanvasText();
		}
		me._pdf_hs_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._pdf_hs_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._pdf_hs_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._pdf_hs_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._pdf_hs_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._pdf_hs_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._pdf_hs_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="pdf_hs_popup_title";
		me._pdf_hs_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._pdf_hs_popup.add(me._pdf_hs_popup_title);
		el.userData.ggId="pdf_hs_popup_pdf";
		me._pdf_hs_popup_pdf.userData.ggUpdatePosition=function (useTransition) {
		}
		me._pdf_hs_popup.add(me._pdf_hs_popup_pdf);
		me.skinGroup.add(me._pdf_hs_popup);
		width = 6.4;
		height = 6;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.18, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.18, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.18, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.18, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.18, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'image_hs_popup_fullscreen_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'image_hs_popup_fullscreen_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._image_hs_popup_fullscreen.material.opacity = v * me._image_hs_popup_fullscreen.userData.backgroundColorAlpha;
			if (me._image_hs_popup_fullscreen.userData.ggSubElement) {
				me._image_hs_popup_fullscreen.userData.ggSubElement.material.opacity = v
				me._image_hs_popup_fullscreen.userData.ggSubElement.visible = (v>0 && me._image_hs_popup_fullscreen.userData.visible);
			}
			me._image_hs_popup_fullscreen.visible = (v>0 && me._image_hs_popup_fullscreen.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_fullscreen.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_fullscreen.userData.backgroundColorAlpha = v;
			me._image_hs_popup_fullscreen.userData.setOpacity(me._image_hs_popup_fullscreen.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.4);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_fullscreen';
		el.userData.x = 0;
		el.userData.y = 0.4;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.100);
		el.renderOrder = 10;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_fullscreen.visible
			let parentEl = me._image_hs_popup_fullscreen.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_fullscreen.userData.opacity = v;
			v = v * me._image_hs_popup_fullscreen.userData.parentOpacity;
			me._image_hs_popup_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fullscreen.children.length; i++) {
				let child = me._image_hs_popup_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_fullscreen.userData.parentOpacity = v;
			v = v * me._image_hs_popup_fullscreen.userData.opacity
			me._image_hs_popup_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fullscreen.children.length; i++) {
				let child = me._image_hs_popup_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_fullscreen = el;
		el.userData.ggId="image_hs_popup_fullscreen";
		me._image_hs_popup_fullscreen.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_image_hs_popup_full') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._image_hs_popup_fullscreen.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._image_hs_popup_fullscreen.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._image_hs_popup_fullscreen.ggCurrentLogicStateVisible == 0) {
			me._image_hs_popup_fullscreen.visible=((!me._image_hs_popup_fullscreen.material && Number(me._image_hs_popup_fullscreen.userData.opacity>0)) || Number(me._image_hs_popup_fullscreen.material.opacity)>0)?true:false;
			me._image_hs_popup_fullscreen.userData.visible=true;
				}
				else {
			me._image_hs_popup_fullscreen.visible=false;
			me._image_hs_popup_fullscreen.userData.visible=false;
				}
			}
		}
		me._image_hs_popup_fullscreen.logicBlock_visible();
		me._image_hs_popup_fullscreen.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(5.76, 0.8, 5, 5 );
		geometry.name = 'image_hs_popup_fs_description_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'image_hs_popup_fs_description_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._image_hs_popup_fs_description.material.opacity = v;
			if (me._image_hs_popup_fs_description.userData.hasScrollbar) {
				me._image_hs_popup_fs_description.userData.scrollbar.material.opacity = v;
				me._image_hs_popup_fs_description.userData.scrollbarBg.material.opacity = v;
			}
			if (me._image_hs_popup_fs_description.userData.ggSubElement) {
				me._image_hs_popup_fs_description.userData.ggSubElement.material.opacity = v
				me._image_hs_popup_fs_description.userData.ggSubElement.visible = (v>0 && me._image_hs_popup_fs_description.userData.visible);
			}
			me._image_hs_popup_fs_description.visible = (v>0 && me._image_hs_popup_fs_description.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_fs_description.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_fs_description.userData.backgroundColorAlpha = v;
			me._image_hs_popup_fs_description.userData.setOpacity(me._image_hs_popup_fs_description.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-2.44);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 576;
		el.userData.height = 80;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_fs_description';
		el.userData.x = 0;
		el.userData.y = -2.44;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.110);
		el.renderOrder = 11;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_fs_description.visible
			let parentEl = me._image_hs_popup_fs_description.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_fs_description.userData.opacity = v;
			v = v * me._image_hs_popup_fs_description.userData.parentOpacity;
			me._image_hs_popup_fs_description.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fs_description.children.length; i++) {
				let child = me._image_hs_popup_fs_description.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_fs_description.userData.parentOpacity = v;
			v = v * me._image_hs_popup_fs_description.userData.opacity
			me._image_hs_popup_fs_description.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fs_description.children.length; i++) {
				let child = me._image_hs_popup_fs_description.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_fs_description = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 576;
		canvas.height = 80;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._image_hs_popup_fs_description.userData.totalHeight = 3;
			me._image_hs_popup_fs_description.userData.textLines = [];
			var ctx = me._image_hs_popup_fs_description.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._image_hs_popup_fs_description.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._image_hs_popup_fs_description.userData.textLines.push(line);
					line = '';
					me._image_hs_popup_fs_description.userData.totalHeight += me._image_hs_popup_fs_description.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._image_hs_popup_fs_description.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._image_hs_popup_fs_description.userData.textLines.push(line);
					line = words[i];
					me._image_hs_popup_fs_description.userData.totalHeight += me._image_hs_popup_fs_description.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._image_hs_popup_fs_description.userData.textLines.push(line);
			me._image_hs_popup_fs_description.userData.totalHeight += me._image_hs_popup_fs_description.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._image_hs_popup_fs_description.userData.textCanvas;
			var ctx = me._image_hs_popup_fs_description.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._image_hs_popup_fs_description.userData.textColor.r * 255 + ', ' + me._image_hs_popup_fs_description.userData.textColor.g * 255 + ', ' + me._image_hs_popup_fs_description.userData.textColor.b * 255 + ', ' + me._image_hs_popup_fs_description.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 0;
			ctx.textAlign = 'left';
			var y = 3;
			y -= me._image_hs_popup_fs_description.userData.scrollPosPercent * me._image_hs_popup_fs_description.userData.totalHeight;
			for (var i = 0; i < me._image_hs_popup_fs_description.userData.textLines.length; i++) {
				ctx.fillText(me._image_hs_popup_fs_description.userData.textLines[i], x, y);
				y += me._image_hs_popup_fs_description.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'image_hs_popup_fs_description_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._image_hs_popup_fs_description.material.map) {
				me._image_hs_popup_fs_description.material.map.dispose();
			}
			me._image_hs_popup_fs_description.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._image_hs_popup_fs_description.remove(...me._image_hs_popup_fs_description.children);
			var canv = me._image_hs_popup_fs_description.userData.textCanvas;
			var ctx = me._image_hs_popup_fs_description.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._image_hs_popup_fs_description.userData.lineHeight = 16 * 1.2;
			me._image_hs_popup_fs_description.userData.ggWrapText(false);
			me._image_hs_popup_fs_description.userData.boxWidth = me._image_hs_popup_fs_description.userData.width;
			me._image_hs_popup_fs_description.userData.boxHeight = me._image_hs_popup_fs_description.userData.height;
			me._image_hs_popup_fs_description.userData.scrollPosPercent = 0.0
			if (me._image_hs_popup_fs_description.userData.totalHeight > me._image_hs_popup_fs_description.userData.height) {
				me._image_hs_popup_fs_description.userData.ggWrapText(true);
				me._image_hs_popup_fs_description.userData.pagePercent = me._image_hs_popup_fs_description.userData.height / me._image_hs_popup_fs_description.userData.totalHeight;
				me._image_hs_popup_fs_description.userData.maxScrollPercent = (me._image_hs_popup_fs_description.userData.totalHeight - me._image_hs_popup_fs_description.userData.height) / me._image_hs_popup_fs_description.userData.totalHeight;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._image_hs_popup_fs_description.userData.height / 100.0, 5, 5 );
				geometry.name = 'image_hs_popup_fs_description_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'image_hs_popup_fs_description_scrollbarBgMaterial';
				me._image_hs_popup_fs_description.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._image_hs_popup_fs_description.userData.scrollbarBg.name = 'image_hs_popup_fs_description_scrollbarBg';
				me._image_hs_popup_fs_description.add(me._image_hs_popup_fs_description.userData.scrollbarBg);
				me._image_hs_popup_fs_description.userData.scrollbarXPos = (me._image_hs_popup_fs_description.userData.width - 25) / 200.0;
				me._image_hs_popup_fs_description.userData.scrollbarBg.position.x = me._image_hs_popup_fs_description.userData.scrollbarXPos;
				me._image_hs_popup_fs_description.userData.scrollbarBg.position.z = me._image_hs_popup_fs_description.position.z + 0.01;
				me._image_hs_popup_fs_description.userData.scrollbarBg.userData.stopPropagation = true;
				me._image_hs_popup_fs_description.userData.scrollbarHeight = (me._image_hs_popup_fs_description.userData.height / me._image_hs_popup_fs_description.userData.totalHeight) * me._image_hs_popup_fs_description.userData.height;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._image_hs_popup_fs_description.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'image_hs_popup_fs_description_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'image_hs_popup_fs_description_scrollbarMaterial';
				me._image_hs_popup_fs_description.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._image_hs_popup_fs_description.userData.scrollbar.name = 'image_hs_popup_fs_description_scrollbar';
				me._image_hs_popup_fs_description.add(me._image_hs_popup_fs_description.userData.scrollbar);
				me._image_hs_popup_fs_description.userData.scrollbar.position.x = me._image_hs_popup_fs_description.userData.scrollbarXPos;
				me._image_hs_popup_fs_description.userData.scrollbar.position.z = me._image_hs_popup_fs_description.position.z + 0.02;
				me._image_hs_popup_fs_description.userData.scrollbarYPosMin = (me._image_hs_popup_fs_description.userData.height - me._image_hs_popup_fs_description.userData.scrollbarHeight) / 200.0;
				me._image_hs_popup_fs_description.userData.scrollbarYPosMax = me._image_hs_popup_fs_description.userData.scrollbarYPosMin - (me._image_hs_popup_fs_description.userData.height - me._image_hs_popup_fs_description.userData.scrollbarHeight) / 100.0;
				me._image_hs_popup_fs_description.userData.scrollbar.position.y = me._image_hs_popup_fs_description.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._image_hs_popup_fs_description.userData.height / 200.0, 5, 5 );
				geometry.name = 'image_hs_popup_fs_description_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'image_hs_popup_fs_description_scrollbarPageDownMaterial';
				me._image_hs_popup_fs_description.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._image_hs_popup_fs_description.userData.scrollbarPageDown.name = 'image_hs_popup_fs_description_scrollbarPageDown';
				me._image_hs_popup_fs_description.userData.scrollbarPageDown.userData.onclick = function() {
					me._image_hs_popup_fs_description.userData.scrollPosPercent -= me._image_hs_popup_fs_description.userData.pagePercent;
					me._image_hs_popup_fs_description.userData.scrollPosPercent = Math.max(me._image_hs_popup_fs_description.userData.scrollPosPercent, 0);
					me._image_hs_popup_fs_description.userData.ggPaintCanvasText();
					me._image_hs_popup_fs_description.userData.scrollbar.position.y += (me._image_hs_popup_fs_description.userData.height * me._image_hs_popup_fs_description.userData.pagePercent) / 100.0;
					me._image_hs_popup_fs_description.userData.scrollbar.position.y = Math.min(me._image_hs_popup_fs_description.userData.scrollbar.position.y, me._image_hs_popup_fs_description.userData.scrollbarYPosMin);
				}
				me._image_hs_popup_fs_description.userData.scrollbarPageDown.position.x = me._image_hs_popup_fs_description.userData.scrollbarXPos;
				me._image_hs_popup_fs_description.userData.scrollbarPageDown.position.y = me._image_hs_popup_fs_description.userData.height / 400.0;
				me._image_hs_popup_fs_description.userData.scrollbarPageDown.position.z = me._image_hs_popup_fs_description.position.z + 0.05;
				me._image_hs_popup_fs_description.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._image_hs_popup_fs_description.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._image_hs_popup_fs_description.userData.scrollbarPageDown.visible = false;
				me._image_hs_popup_fs_description.add(me._image_hs_popup_fs_description.userData.scrollbarPageDown);
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._image_hs_popup_fs_description.userData.height / 200.0, 5, 5 );
				geometry.name = 'image_hs_popup_fs_description_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'image_hs_popup_fs_description_scrollbarPageUpMaterial';
				me._image_hs_popup_fs_description.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._image_hs_popup_fs_description.userData.scrollbarPageUp.name = 'image_hs_popup_fs_description_scrollbarPageUp';
				me._image_hs_popup_fs_description.userData.scrollbarPageUp.userData.onclick = function() {
					me._image_hs_popup_fs_description.userData.scrollPosPercent += me._image_hs_popup_fs_description.userData.pagePercent;
					me._image_hs_popup_fs_description.userData.scrollPosPercent = Math.min(me._image_hs_popup_fs_description.userData.scrollPosPercent, me._image_hs_popup_fs_description.userData.maxScrollPercent);
					me._image_hs_popup_fs_description.userData.ggPaintCanvasText();
					me._image_hs_popup_fs_description.userData.scrollbar.position.y -= (me._image_hs_popup_fs_description.userData.height * me._image_hs_popup_fs_description.userData.pagePercent) / 100.0;
					me._image_hs_popup_fs_description.userData.scrollbar.position.y = Math.max(me._image_hs_popup_fs_description.userData.scrollbar.position.y, me._image_hs_popup_fs_description.userData.scrollbarYPosMax);
				}
				me._image_hs_popup_fs_description.userData.scrollbarPageUp.position.x = me._image_hs_popup_fs_description.userData.scrollbarXPos;
				me._image_hs_popup_fs_description.userData.scrollbarPageUp.position.y = -me._image_hs_popup_fs_description.userData.height / 400.0;
				me._image_hs_popup_fs_description.userData.scrollbarPageUp.position.z = me._image_hs_popup_fs_description.position.z + 0.05;
				me._image_hs_popup_fs_description.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._image_hs_popup_fs_description.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._image_hs_popup_fs_description.userData.scrollbarPageUp.visible = false;
				me._image_hs_popup_fs_description.add(me._image_hs_popup_fs_description.userData.scrollbarPageUp);
				me._image_hs_popup_fs_description.userData.hasScrollbar = true;
			} else {
				me._image_hs_popup_fs_description.userData.hasScrollbar = false;
			}
			canv.width = me._image_hs_popup_fs_description.userData.boxWidth;
			canv.height = me._image_hs_popup_fs_description.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._image_hs_popup_fs_description.userData.ggPaintCanvasText();
		}
		me._image_hs_popup_fs_description.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player.getVariableValue('image_hs_description', me.hotspot ? me.hotspot.id : (player.hotspot ? player.hotspot.id : '')))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._image_hs_popup_fs_description.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._image_hs_popup_fs_description.userData.ggUpdateText();
		player.addListener('timer', function() {
			me._image_hs_popup_fs_description.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_fs_description.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_fs_description.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._image_hs_popup_fs_description.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._image_hs_popup_fs_description.userData.textColorAlpha = v;
		}
		el.userData.ggId="image_hs_popup_fs_description";
		me._image_hs_popup_fs_description.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_hs_popup_fullscreen.add(me._image_hs_popup_fs_description);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_hs_popup_fs_img.userData.ggSubElement) {
				me._image_hs_popup_fs_img.userData.ggSubElement.material.opacity = v
				me._image_hs_popup_fs_img.userData.ggSubElement.visible = (v>0 && me._image_hs_popup_fs_img.userData.visible);
			}
			me._image_hs_popup_fs_img.visible = (v>0 && me._image_hs_popup_fs_img.userData.visible);
		}
		el.translateX(0);
		el.translateY(0.205);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 576;
		el.userData.height = 399;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_fs_img';
		el.userData.x = 0;
		el.userData.y = 0.205;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.120);
		el.renderOrder = 12;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_fs_img.visible
			let parentEl = me._image_hs_popup_fs_img.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_fs_img.userData.opacity = v;
			v = v * me._image_hs_popup_fs_img.userData.parentOpacity;
			me._image_hs_popup_fs_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fs_img.children.length; i++) {
				let child = me._image_hs_popup_fs_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_fs_img.userData.parentOpacity = v;
			v = v * me._image_hs_popup_fs_img.userData.opacity
			me._image_hs_popup_fs_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fs_img.children.length; i++) {
				let child = me._image_hs_popup_fs_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_fs_img = el;
		currentWidth = 576;
		currentHeight = 399;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'image_hs_popup_fs_img_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'image_hs_popup_fs_img_subElementMaterial';
				me._image_hs_popup_fs_img.userData.ggSubElement.material = loadedMaterial;
				me._image_hs_popup_fs_img.userData.ggUpdatePosition();
				me._image_hs_popup_fs_img.userData.ggText = extUrl;
				me._image_hs_popup_fs_img.userData.setOpacity(me._image_hs_popup_fs_img.userData.opacity);
			});
		};
		var extUrl=basePath + "";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'image_hs_popup_fs_img_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'image_hs_popup_fs_img_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 576;
		el.userData.clientHeight = 399;
		el.userData.ggId="image_hs_popup_fs_img";
		me._image_hs_popup_fs_img.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('image_hs_description') == ""))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._image_hs_popup_fs_img.ggCurrentLogicStateSize != newLogicStateSize) {
				me._image_hs_popup_fs_img.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._image_hs_popup_fs_img.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._image_hs_popup_fs_img.logicBlock_size();
		me._image_hs_popup_fs_img.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._image_hs_popup_fs_img.userData.clientWidth;
			var parentHeight = me._image_hs_popup_fs_img.userData.clientHeight;
			var img = me._image_hs_popup_fs_img.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if (aspectRatioDiv > aspectRatioImg) {
				currentHeight = parentHeight;
				currentWidth = parentHeight * aspectRatioImg;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_hs_popup_fs_img_imgGeometry';
			} else {
				currentWidth = parentWidth;
				currentHeight = parentWidth / aspectRatioImg;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_hs_popup_fs_img_imgGeometry';
			};
		}
		me._image_hs_popup_fullscreen.add(me._image_hs_popup_fs_img);
		geometry = new THREE.PlaneBufferGeometry(1, 0.28, 5, 5 );
		geometry.name = 'image_hs_popup_fs_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'image_hs_popup_fs_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._image_hs_popup_fs_title.material.opacity = v;
			if (me._image_hs_popup_fs_title.userData.hasScrollbar) {
				me._image_hs_popup_fs_title.userData.scrollbar.material.opacity = v;
				me._image_hs_popup_fs_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._image_hs_popup_fs_title.userData.ggSubElement) {
				me._image_hs_popup_fs_title.userData.ggSubElement.material.opacity = v
				me._image_hs_popup_fs_title.userData.ggSubElement.visible = (v>0 && me._image_hs_popup_fs_title.userData.visible);
			}
			me._image_hs_popup_fs_title.visible = (v>0 && me._image_hs_popup_fs_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_fs_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_fs_title.userData.backgroundColorAlpha = v;
			me._image_hs_popup_fs_title.userData.setOpacity(me._image_hs_popup_fs_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.54);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 28;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_fs_title';
		el.userData.x = 0;
		el.userData.y = 2.54;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.130);
		el.renderOrder = 13;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_fs_title.visible
			let parentEl = me._image_hs_popup_fs_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_fs_title.userData.opacity = v;
			v = v * me._image_hs_popup_fs_title.userData.parentOpacity;
			me._image_hs_popup_fs_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fs_title.children.length; i++) {
				let child = me._image_hs_popup_fs_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_fs_title.userData.parentOpacity = v;
			v = v * me._image_hs_popup_fs_title.userData.opacity
			me._image_hs_popup_fs_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fs_title.children.length; i++) {
				let child = me._image_hs_popup_fs_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_fs_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 28;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._image_hs_popup_fs_title.userData.totalHeight = 3;
			me._image_hs_popup_fs_title.userData.textLines = [];
			var ctx = me._image_hs_popup_fs_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._image_hs_popup_fs_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._image_hs_popup_fs_title.userData.textLines.push(line);
					line = '';
					me._image_hs_popup_fs_title.userData.totalHeight += me._image_hs_popup_fs_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._image_hs_popup_fs_title.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._image_hs_popup_fs_title.userData.textLines.push(line);
					line = words[i];
					me._image_hs_popup_fs_title.userData.totalHeight += me._image_hs_popup_fs_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._image_hs_popup_fs_title.userData.textLines.push(line);
			me._image_hs_popup_fs_title.userData.totalHeight += me._image_hs_popup_fs_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._image_hs_popup_fs_title.userData.textCanvas;
			var ctx = me._image_hs_popup_fs_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._image_hs_popup_fs_title.userData.textColor.r * 255 + ', ' + me._image_hs_popup_fs_title.userData.textColor.g * 255 + ', ' + me._image_hs_popup_fs_title.userData.textColor.b * 255 + ', ' + me._image_hs_popup_fs_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._image_hs_popup_fs_title.userData.boxWidth - (me._image_hs_popup_fs_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._image_hs_popup_fs_title.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._image_hs_popup_fs_title.userData.textLines.length; i++) {
				var curTextLine = me._image_hs_popup_fs_title.userData.textLines[i];
				var curTextLineBase = me._image_hs_popup_fs_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + x + 0) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + x + 0) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._image_hs_popup_fs_title.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'image_hs_popup_fs_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._image_hs_popup_fs_title.material.map) {
				me._image_hs_popup_fs_title.material.map.dispose();
			}
			me._image_hs_popup_fs_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._image_hs_popup_fs_title.remove(...me._image_hs_popup_fs_title.children);
			var canv = me._image_hs_popup_fs_title.userData.textCanvas;
			var ctx = me._image_hs_popup_fs_title.userData.textCanvasContext;
			ctx.font = '22px Verdana';
			me._image_hs_popup_fs_title.userData.lineHeight = 22 * 1.2;
			me._image_hs_popup_fs_title.userData.textLines = [];
			me._image_hs_popup_fs_title.userData.textLines.push(me._image_hs_popup_fs_title.userData.ggText);
			me._image_hs_popup_fs_title.userData.totalHeight = 3;
			me._image_hs_popup_fs_title.userData.totalHeight += me._image_hs_popup_fs_title.userData.lineHeight;
			me._image_hs_popup_fs_title.userData.boxWidth = me._image_hs_popup_fs_title.userData.width;
			me._image_hs_popup_fs_title.userData.boxHeight = me._image_hs_popup_fs_title.userData.height;
			me._image_hs_popup_fs_title.userData.hasScrollbar = false;
			canv.width = me._image_hs_popup_fs_title.userData.boxWidth;
			canv.height = me._image_hs_popup_fs_title.userData.boxHeight;
			ctx.font = '22px Verdana';
			me._image_hs_popup_fs_title.userData.ggPaintCanvasText();
		}
		me._image_hs_popup_fs_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._image_hs_popup_fs_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._image_hs_popup_fs_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_fs_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_fs_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._image_hs_popup_fs_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._image_hs_popup_fs_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="image_hs_popup_fs_title";
		me._image_hs_popup_fs_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_hs_popup_fullscreen.add(me._image_hs_popup_fs_title);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'image_hs_popup_fs_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'image_hs_popup_fs_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.04);
		el.translateY(2.84);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_fs_close';
		el.userData.x = 3.04;
		el.userData.y = 2.84;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_hs_popup_fs_close.material) me._image_hs_popup_fs_close.material.opacity = v;
			me._image_hs_popup_fs_close.visible = (v>0 && me._image_hs_popup_fs_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_fs_close.visible
			let parentEl = me._image_hs_popup_fs_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_fs_close.userData.opacity = v;
			v = v * me._image_hs_popup_fs_close.userData.parentOpacity;
			me._image_hs_popup_fs_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fs_close.children.length; i++) {
				let child = me._image_hs_popup_fs_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_fs_close.userData.parentOpacity = v;
			v = v * me._image_hs_popup_fs_close.userData.opacity
			me._image_hs_popup_fs_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_fs_close.children.length; i++) {
				let child = me._image_hs_popup_fs_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_fs_close = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFvElEQVR4nO2bT2wUVRzHv7+Z2nTbQJvWxLAXDKHDptWku5vqSQMY42FhPdgoieFKUivBxISbGate5KbRasqRxBjEg9ttIDEChaMtcIA2024IXEoqO3uAcmjcfT8PnS0F32zfmz9bCPs5tTPvvd/7ffe9N+/35jdAixYtWrzAUNwGbNs2rl+//poQYj8RDQLYB2A3gJ0AdnjFHgJ4AOAuAIeZbxmGcTmdTt8cHx8XcfYvFgFs2zbm5ubeBnCUiPIAXg7YVJmZCwDOZLPZK3GIEakA3q/9ITN/DWBvlG0DKBHRF+l0+myUQkQmwKFDh94hom8BZKNq04c5ACenpqYuRtFYaAFyudwe0zQnmPm9KDqkwQUhxNj09PTtMI2EEiCfzx9g5nMAesO0E4IKEY'+
	'0UCoVLQRswg1bM5/OjzPwLgK6gbURAAsDHqVSq7DjObJAGtEfAsWPHXlpeXv6OiEaDGIwLZv4pmUyemJyc/FenXpuuoWfReQAgotF79+4xgDGdelpTIJ/PjwL4UqdOkxm2LGtlcXFReTooTwFvwfsTIdaNJlFl5neLxeJllcJKAuRyuT2GYfyN7VvtdakIIYZVHpGGSmuGYfyI58d5AOg1DOMHlYJbjoDDhw8fBPBX6C5tA0R0cKs9QsMRYNu2AeCUruHV1VW4rqtbzRfXdfHo0SPtesx8yvPBl4YLWnd390cAjusYXV1dxcLCAsrlMhKJBDo7O3Wq/49yuYxSqQTXddHT04P29nad6snl5eWFxcXFW34FfNWxbdvwojpl6s5Xq1UwM5aWlkKNhLrzzIxqtYr5+XntkUBE3zQaBb43vHheK6RdW1tDrVbb+D+MCJud'+
	'ryOEwNramm5Te69du/aW381G8+OorqW+vj709/eD6PHaGkQEmfOGYaC/vx+9vYEeRr6+SAWwbdvwTnK0CStCDM4DQN5vGkgXwe7u7tcBfB7UWmdnJxKJBCqVyhPXK5VKw4UxJucBoGtlZeV3x3H+efqGVBUhxP4w1gD9kRCj8wCAWq12QHZdKoB3ehsaVRHidh4AiGhAdt0vHN4XiVWsiwAAS0tLGw7WRaj/HbfzHlKf/ATYHaVlFRHqxOQ8ALwqu+gnwM6orfuJsJkYnQcev4R50qZO4bDI1oQ6RBSn84CmALHx9K+uei8u/AR4GIcx2WpfJ4rYYQukPvkJ8CBq6zLniSj0tlkDLQHuRmnZ7zlvWVYksYMid2QX/QRworK61SYnqgBKAalPUgGY2fcAQQfVHV4zRGDmedl1qQCGYVwOa1B3exu3CKZpSs8GpQKk0+'+
	'mbAMpBjQXd28cowv2hoSHpqJaGwzMzM2xZVoqI0rqWwgY2QUPpLfh1cnLyD9mNRhuhM7pWXNeNJLBpNBKeFkYRX198Bchms1cAlHSsdHR0wDQfD6owe3uZCKZpoqOjQ7epUiaTuep30/dYfGZmhlOp1H0AI6qW2tvb0dPTszFfw+7tN0+HtrY2DA4Oak8BZv7k9OnTN/3uN4wF0un0Wazn5CjT1dWFgYGByAKbvr4+WJYVyHkAs9ls9rdGBVqvxrZqxMvGuhBZr5rHeZXcIaVwWAgxBiDQ8rtNuEKIT1UKKgkwPT19m4hGAFRDdas5VJl5RDV9Tjnbw3GcO6lUqgwgF7hrTYCZx4rF4jnV8lrpLo7jzFqW9QoRDet3rSlMFIvFr3QqaB+JJZPJEwAmdOs1gYldu3Z9plspcKaolyj5PQKk2kVMlZmPF4vFn4NUfu5T'+
	'ZZn5A9WMMBmhToULhcIlIcQwtmefcF4IMRzGeSDCdHlvx3gK8afLzxLRyTAJ0puJ7L3A1NTUxUwm8wYzH4FmFKlIiZmPZDKZN6NyHojxkxkvLeUogPcR/JOZ+wAKAM5kMpmrz/wnMzJs2zZu3LgxWKvVDnivqPdh/UXlDjz50dRDrB9dO8w8b5rmpaGhoVtxfzTVokWLFi80/wFXEQew9bAvMwAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'image_hs_popup_fs_close_materialOver';
		el.userData.ggId="image_hs_popup_fs_close";
		me._image_hs_popup_fs_close.userData.onclick=function (e) {
			player.setVariableValue('vis_image_hs_popup_full', false);
		}
		me._image_hs_popup_fs_close.userData.onmouseover=function (e) {
			me._image_hs_popup_fs_close.material = me._image_hs_popup_fs_close.userData.materialOver;
			me.elementMouseOver['image_hs_popup_fs_close']=true;
		}
		me._image_hs_popup_fs_close.userData.onmouseout=function (e) {
			me._image_hs_popup_fs_close.material = me._image_hs_popup_fs_close.userData.materialNormal;
			me.elementMouseOver['image_hs_popup_fs_close']=false;
		}
		me._image_hs_popup_fs_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_hs_popup_fullscreen.add(me._image_hs_popup_fs_close);
		me.skinGroup.add(me._image_hs_popup_fullscreen);
		width = 6.4;
		height = 6;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.18, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.18, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.18, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.18, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.18);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.18);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.18, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'url_hs_popup_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'url_hs_popup_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._url_hs_popup.material.opacity = v * me._url_hs_popup.userData.backgroundColorAlpha;
			if (me._url_hs_popup.userData.ggSubElement) {
				me._url_hs_popup.userData.ggSubElement.material.opacity = v
				me._url_hs_popup.userData.ggSubElement.visible = (v>0 && me._url_hs_popup.userData.visible);
			}
			me._url_hs_popup.visible = (v>0 && me._url_hs_popup.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._url_hs_popup.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_hs_popup.userData.backgroundColorAlpha = v;
			me._url_hs_popup.userData.setOpacity(me._url_hs_popup.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.4);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 640;
		el.userData.height = 600;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'url_hs_popup';
		el.userData.x = 0;
		el.userData.y = 0.4;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.110);
		el.renderOrder = 11;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._url_hs_popup.visible
			let parentEl = me._url_hs_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._url_hs_popup.userData.opacity = v;
			v = v * me._url_hs_popup.userData.parentOpacity;
			me._url_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup.children.length; i++) {
				let child = me._url_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._url_hs_popup.userData.parentOpacity = v;
			v = v * me._url_hs_popup.userData.opacity
			me._url_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup.children.length; i++) {
				let child = me._url_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._url_hs_popup = el;
		el.userData.ggId="url_hs_popup";
		me._url_hs_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_url_hs_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._url_hs_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._url_hs_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._url_hs_popup.ggCurrentLogicStateVisible == 0) {
			me._url_hs_popup.visible=((!me._url_hs_popup.material && Number(me._url_hs_popup.userData.opacity>0)) || Number(me._url_hs_popup.material.opacity)>0)?true:false;
			me._url_hs_popup.userData.visible=true;
				}
				else {
			me._url_hs_popup.visible=false;
			me._url_hs_popup.userData.visible=false;
				}
			}
		}
		me._url_hs_popup.logicBlock_visible();
		me._url_hs_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'url_hs_popup_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+UlEQVR4nO3ayQ3DMBADQCLluBIB7r8Id5Bf8hE/BhwfkVYHOYDfu1zAlyTAzMzMzMzMHlkApAZ1U67d1AJgA/AGsAbWXXPNDQ2HwPCffEUNgeFZt8kQ9uGjhrAP32wI6aCRmkM4Cs+a4c+hs4ZKDiGyVneNdRueajbYfXiq0egw4alkw8OFpxKNDxue/gkwfHh6EmSa8HQn0HTh6UqwacPTWcCpw9OvIUwfnq4OYcrwdDaE8PCvyGLqpG8B6Yeg9GtQ+kNI+lNY+mdI+ndYekFEeklMelFUellcemNEemtMfnNUfnscED8gQdJHZEj6kJSZmZmZmdmQvlwm0zaeyMnfAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'url_hs_popup_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.04);
		el.translateY(2.84);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'url_hs_popup_close';
		el.userData.x = 3.04;
		el.userData.y = 2.84;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.120);
		el.renderOrder = 12;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._url_hs_popup_close.material) me._url_hs_popup_close.material.opacity = v;
			me._url_hs_popup_close.visible = (v>0 && me._url_hs_popup_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._url_hs_popup_close.visible
			let parentEl = me._url_hs_popup_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._url_hs_popup_close.userData.opacity = v;
			v = v * me._url_hs_popup_close.userData.parentOpacity;
			me._url_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup_close.children.length; i++) {
				let child = me._url_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._url_hs_popup_close.userData.parentOpacity = v;
			v = v * me._url_hs_popup_close.userData.opacity
			me._url_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup_close.children.length; i++) {
				let child = me._url_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._url_hs_popup_close = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFvElEQVR4nO2bT2wUVRzHv7+Z2nTbQJvWxLAXDKHDptWku5vqSQMY42FhPdgoieFKUivBxISbGate5KbRasqRxBjEg9ttIDEChaMtcIA2024IXEoqO3uAcmjcfT8PnS0F32zfmz9bCPs5tTPvvd/7ffe9N+/35jdAixYtWrzAUNwGbNs2rl+//poQYj8RDQLYB2A3gJ0AdnjFHgJ4AOAuAIeZbxmGcTmdTt8cHx8XcfYvFgFs2zbm5ubeBnCUiPIAXg7YVJmZCwDOZLPZK3GIEakA3q/9ITN/DWBvlG0DKBHRF+l0+myUQkQmwKFDh94hom8BZKNq04c5ACenpqYuRtFYaAFyudwe0zQnmPm9KDqkwQUhxNj09PTtMI2EEiCfzx9g5nMAesO0E4IKEY'+
	'0UCoVLQRswg1bM5/OjzPwLgK6gbURAAsDHqVSq7DjObJAGtEfAsWPHXlpeXv6OiEaDGIwLZv4pmUyemJyc/FenXpuuoWfReQAgotF79+4xgDGdelpTIJ/PjwL4UqdOkxm2LGtlcXFReTooTwFvwfsTIdaNJlFl5neLxeJllcJKAuRyuT2GYfyN7VvtdakIIYZVHpGGSmuGYfyI58d5AOg1DOMHlYJbjoDDhw8fBPBX6C5tA0R0cKs9QsMRYNu2AeCUruHV1VW4rqtbzRfXdfHo0SPtesx8yvPBl4YLWnd390cAjusYXV1dxcLCAsrlMhKJBDo7O3Wq/49yuYxSqQTXddHT04P29nad6snl5eWFxcXFW34FfNWxbdvwojpl6s5Xq1UwM5aWlkKNhLrzzIxqtYr5+XntkUBE3zQaBb43vHheK6RdW1tDrVbb+D+MCJud'+
	'ryOEwNramm5Te69du/aW381G8+OorqW+vj709/eD6PHaGkQEmfOGYaC/vx+9vYEeRr6+SAWwbdvwTnK0CStCDM4DQN5vGkgXwe7u7tcBfB7UWmdnJxKJBCqVyhPXK5VKw4UxJucBoGtlZeV3x3H+efqGVBUhxP4w1gD9kRCj8wCAWq12QHZdKoB3ehsaVRHidh4AiGhAdt0vHN4XiVWsiwAAS0tLGw7WRaj/HbfzHlKf/ATYHaVlFRHqxOQ8ALwqu+gnwM6orfuJsJkYnQcev4R50qZO4bDI1oQ6RBSn84CmALHx9K+uei8u/AR4GIcx2WpfJ4rYYQukPvkJ8CBq6zLniSj0tlkDLQHuRmnZ7zlvWVYksYMid2QX/QRworK61SYnqgBKAalPUgGY2fcAQQfVHV4zRGDmedl1qQCGYVwOa1B3exu3CKZpSs8GpQKk0+'+
	'mbAMpBjQXd28cowv2hoSHpqJaGwzMzM2xZVoqI0rqWwgY2QUPpLfh1cnLyD9mNRhuhM7pWXNeNJLBpNBKeFkYRX198Bchms1cAlHSsdHR0wDQfD6owe3uZCKZpoqOjQ7epUiaTuep30/dYfGZmhlOp1H0AI6qW2tvb0dPTszFfw+7tN0+HtrY2DA4Oak8BZv7k9OnTN/3uN4wF0un0Wazn5CjT1dWFgYGByAKbvr4+WJYVyHkAs9ls9rdGBVqvxrZqxMvGuhBZr5rHeZXcIaVwWAgxBiDQ8rtNuEKIT1UKKgkwPT19m4hGAFRDdas5VJl5RDV9Tjnbw3GcO6lUqgwgF7hrTYCZx4rF4jnV8lrpLo7jzFqW9QoRDet3rSlMFIvFr3QqaB+JJZPJEwAmdOs1gYldu3Z9plspcKaolyj5PQKk2kVMlZmPF4vFn4NUfu5T'+
	'ZZn5A9WMMBmhToULhcIlIcQwtmefcF4IMRzGeSDCdHlvx3gK8afLzxLRyTAJ0puJ7L3A1NTUxUwm8wYzH4FmFKlIiZmPZDKZN6NyHojxkxkvLeUogPcR/JOZ+wAKAM5kMpmrz/wnMzJs2zZu3LgxWKvVDnivqPdh/UXlDjz50dRDrB9dO8w8b5rmpaGhoVtxfzTVokWLFi80/wFXEQew9bAvMwAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'url_hs_popup_close_materialOver';
		el.userData.ggId="url_hs_popup_close";
		me._url_hs_popup_close.userData.onclick=function (e) {
			player.setVariableValue('vis_url_hs_popup', false);
		}
		me._url_hs_popup_close.userData.onmouseover=function (e) {
			me._url_hs_popup_close.material = me._url_hs_popup_close.userData.materialOver;
			me.elementMouseOver['url_hs_popup_close']=true;
		}
		me._url_hs_popup_close.userData.onmouseout=function (e) {
			me._url_hs_popup_close.material = me._url_hs_popup_close.userData.materialNormal;
			me.elementMouseOver['url_hs_popup_close']=false;
		}
		me._url_hs_popup_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._url_hs_popup.add(me._url_hs_popup_close);
		geometry = new THREE.PlaneBufferGeometry(1, 0.28, 5, 5 );
		geometry.name = 'url_hs_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'url_hs_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._url_hs_popup_title.material.opacity = v;
			if (me._url_hs_popup_title.userData.hasScrollbar) {
				me._url_hs_popup_title.userData.scrollbar.material.opacity = v;
				me._url_hs_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._url_hs_popup_title.userData.ggSubElement) {
				me._url_hs_popup_title.userData.ggSubElement.material.opacity = v
				me._url_hs_popup_title.userData.ggSubElement.visible = (v>0 && me._url_hs_popup_title.userData.visible);
			}
			me._url_hs_popup_title.visible = (v>0 && me._url_hs_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._url_hs_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_hs_popup_title.userData.backgroundColorAlpha = v;
			me._url_hs_popup_title.userData.setOpacity(me._url_hs_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(2.54);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 28;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'url_hs_popup_title';
		el.userData.x = 0;
		el.userData.y = 2.54;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.130);
		el.renderOrder = 13;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._url_hs_popup_title.visible
			let parentEl = me._url_hs_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._url_hs_popup_title.userData.opacity = v;
			v = v * me._url_hs_popup_title.userData.parentOpacity;
			me._url_hs_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup_title.children.length; i++) {
				let child = me._url_hs_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._url_hs_popup_title.userData.parentOpacity = v;
			v = v * me._url_hs_popup_title.userData.opacity
			me._url_hs_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup_title.children.length; i++) {
				let child = me._url_hs_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._url_hs_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.172549, 0.172549, 0.172549);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 28;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._url_hs_popup_title.userData.totalHeight = 3;
			me._url_hs_popup_title.userData.textLines = [];
			var ctx = me._url_hs_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._url_hs_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._url_hs_popup_title.userData.textLines.push(line);
					line = '';
					me._url_hs_popup_title.userData.totalHeight += me._url_hs_popup_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._url_hs_popup_title.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._url_hs_popup_title.userData.textLines.push(line);
					line = words[i];
					me._url_hs_popup_title.userData.totalHeight += me._url_hs_popup_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._url_hs_popup_title.userData.textLines.push(line);
			me._url_hs_popup_title.userData.totalHeight += me._url_hs_popup_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._url_hs_popup_title.userData.textCanvas;
			var ctx = me._url_hs_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._url_hs_popup_title.userData.textColor.r * 255 + ', ' + me._url_hs_popup_title.userData.textColor.g * 255 + ', ' + me._url_hs_popup_title.userData.textColor.b * 255 + ', ' + me._url_hs_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._url_hs_popup_title.userData.boxWidth - (me._url_hs_popup_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._url_hs_popup_title.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._url_hs_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._url_hs_popup_title.userData.textLines[i];
				var curTextLineBase = me._url_hs_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + x + 0) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + x + 0) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._url_hs_popup_title.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'url_hs_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._url_hs_popup_title.material.map) {
				me._url_hs_popup_title.material.map.dispose();
			}
			me._url_hs_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._url_hs_popup_title.remove(...me._url_hs_popup_title.children);
			var canv = me._url_hs_popup_title.userData.textCanvas;
			var ctx = me._url_hs_popup_title.userData.textCanvasContext;
			ctx.font = '22px Verdana';
			me._url_hs_popup_title.userData.lineHeight = 22 * 1.2;
			me._url_hs_popup_title.userData.textLines = [];
			me._url_hs_popup_title.userData.textLines.push(me._url_hs_popup_title.userData.ggText);
			me._url_hs_popup_title.userData.totalHeight = 3;
			me._url_hs_popup_title.userData.totalHeight += me._url_hs_popup_title.userData.lineHeight;
			me._url_hs_popup_title.userData.boxWidth = me._url_hs_popup_title.userData.width;
			me._url_hs_popup_title.userData.boxHeight = me._url_hs_popup_title.userData.height;
			me._url_hs_popup_title.userData.hasScrollbar = false;
			canv.width = me._url_hs_popup_title.userData.boxWidth;
			canv.height = me._url_hs_popup_title.userData.boxHeight;
			ctx.font = '22px Verdana';
			me._url_hs_popup_title.userData.ggPaintCanvasText();
		}
		me._url_hs_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("Th\xf4ng tin hi\u1ec7n v\u1eadt", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._url_hs_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._url_hs_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._url_hs_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_hs_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._url_hs_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._url_hs_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="url_hs_popup_title";
		me._url_hs_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._url_hs_popup.add(me._url_hs_popup_title);
		geometry = new THREE.PlaneBufferGeometry(1, 0.2, 5, 5 );
		geometry.name = 'url_hs_popup_iframe_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'url_hs_popup_iframe_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._url_hs_popup_iframe.material.opacity = v;
			if (me._url_hs_popup_iframe.userData.hasScrollbar) {
				me._url_hs_popup_iframe.userData.scrollbar.material.opacity = v;
				me._url_hs_popup_iframe.userData.scrollbarBg.material.opacity = v;
			}
			if (me._url_hs_popup_iframe.userData.ggSubElement) {
				me._url_hs_popup_iframe.userData.ggSubElement.material.opacity = v
				me._url_hs_popup_iframe.userData.ggSubElement.visible = (v>0 && me._url_hs_popup_iframe.userData.visible);
			}
			me._url_hs_popup_iframe.visible = (v>0 && me._url_hs_popup_iframe.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._url_hs_popup_iframe.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_hs_popup_iframe.userData.backgroundColorAlpha = v;
			me._url_hs_popup_iframe.userData.setOpacity(me._url_hs_popup_iframe.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-2.65);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'url_hs_popup_iframe';
		el.userData.x = 0;
		el.userData.y = -2.65;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._url_hs_popup_iframe.visible
			let parentEl = me._url_hs_popup_iframe.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._url_hs_popup_iframe.userData.opacity = v;
			v = v * me._url_hs_popup_iframe.userData.parentOpacity;
			me._url_hs_popup_iframe.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup_iframe.children.length; i++) {
				let child = me._url_hs_popup_iframe.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._url_hs_popup_iframe.userData.parentOpacity = v;
			v = v * me._url_hs_popup_iframe.userData.opacity
			me._url_hs_popup_iframe.userData.setOpacityInternal(v);
			for (let i = 0; i < me._url_hs_popup_iframe.children.length; i++) {
				let child = me._url_hs_popup_iframe.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._url_hs_popup_iframe = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0, 0, 0);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 20;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._url_hs_popup_iframe.userData.totalHeight = 3;
			me._url_hs_popup_iframe.userData.textLines = [];
			var ctx = me._url_hs_popup_iframe.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._url_hs_popup_iframe.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._url_hs_popup_iframe.userData.textLines.push(line);
					line = '';
					me._url_hs_popup_iframe.userData.totalHeight += me._url_hs_popup_iframe.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._url_hs_popup_iframe.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._url_hs_popup_iframe.userData.textLines.push(line);
					line = words[i];
					me._url_hs_popup_iframe.userData.totalHeight += me._url_hs_popup_iframe.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._url_hs_popup_iframe.userData.textLines.push(line);
			me._url_hs_popup_iframe.userData.totalHeight += me._url_hs_popup_iframe.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._url_hs_popup_iframe.userData.textCanvas;
			var ctx = me._url_hs_popup_iframe.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._url_hs_popup_iframe.userData.textColor.r * 255 + ', ' + me._url_hs_popup_iframe.userData.textColor.g * 255 + ', ' + me._url_hs_popup_iframe.userData.textColor.b * 255 + ', ' + me._url_hs_popup_iframe.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._url_hs_popup_iframe.userData.boxWidth - (me._url_hs_popup_iframe.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			for (var i = 0; i < me._url_hs_popup_iframe.userData.textLines.length; i++) {
				ctx.fillText(me._url_hs_popup_iframe.userData.textLines[i], x, y);
				y += me._url_hs_popup_iframe.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'url_hs_popup_iframe_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._url_hs_popup_iframe.material.map) {
				me._url_hs_popup_iframe.material.map.dispose();
			}
			me._url_hs_popup_iframe.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._url_hs_popup_iframe.remove(...me._url_hs_popup_iframe.children);
			var canv = me._url_hs_popup_iframe.userData.textCanvas;
			var ctx = me._url_hs_popup_iframe.userData.textCanvasContext;
			ctx.font = '14px Verdana';
			me._url_hs_popup_iframe.userData.lineHeight = 16.8;
			me._url_hs_popup_iframe.userData.textLines = [];
			me._url_hs_popup_iframe.userData.textLines.push(me._url_hs_popup_iframe.userData.ggText);
			me._url_hs_popup_iframe.userData.totalHeight = 3;
			me._url_hs_popup_iframe.userData.totalHeight += me._url_hs_popup_iframe.userData.lineHeight;
			me._url_hs_popup_iframe.userData.boxWidth = me._url_hs_popup_iframe.userData.width;
			me._url_hs_popup_iframe.userData.boxHeight = me._url_hs_popup_iframe.userData.height;
			me._url_hs_popup_iframe.userData.hasScrollbar = false;
			canv.width = me._url_hs_popup_iframe.userData.boxWidth;
			canv.height = me._url_hs_popup_iframe.userData.boxHeight;
			ctx.font = '14px Verdana';
			me._url_hs_popup_iframe.userData.ggPaintCanvasText();
		}
		me._url_hs_popup_iframe.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._url_hs_popup_iframe.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._url_hs_popup_iframe.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._url_hs_popup_iframe.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._url_hs_popup_iframe.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._url_hs_popup_iframe.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._url_hs_popup_iframe.userData.textColorAlpha = v;
		}
		el.userData.ggId="url_hs_popup_iframe";
		me._url_hs_popup_iframe.userData.ggUpdatePosition=function (useTransition) {
		}
		me._url_hs_popup.add(me._url_hs_popup_iframe);
		me.skinGroup.add(me._url_hs_popup);
		width = 7.64571;
		height = 5.55;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.16, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.16, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.16);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.16, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'popup_phone_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'popup_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._popup_phone.material.opacity = v * me._popup_phone.userData.backgroundColorAlpha;
			if (me._popup_phone.userData.ggSubElement) {
				me._popup_phone.userData.ggSubElement.material.opacity = v
				me._popup_phone.userData.ggSubElement.visible = (v>0 && me._popup_phone.userData.visible);
			}
			me._popup_phone.visible = (v>0 && me._popup_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._popup_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._popup_phone.userData.backgroundColorAlpha = v;
			me._popup_phone.userData.setOpacity(me._popup_phone.userData.opacity);
		}
		el.translateX(-0.0171439);
		el.translateY(0.065);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 764.571;
		el.userData.height = 555;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'popup_phone';
		el.userData.x = -0.0171439;
		el.userData.y = 0.065;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.120);
		el.renderOrder = 12;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._popup_phone.visible
			let parentEl = me._popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._popup_phone.userData.opacity = v;
			v = v * me._popup_phone.userData.parentOpacity;
			me._popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_phone.children.length; i++) {
				let child = me._popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._popup_phone.userData.parentOpacity = v;
			v = v * me._popup_phone.userData.opacity
			me._popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._popup_phone.children.length; i++) {
				let child = me._popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._popup_phone = el;
		el.userData.ggId="popup_phone";
		me._popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_popup') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._popup_phone.ggCurrentLogicStateVisible == 0) {
			me._popup_phone.visible=((!me._popup_phone.material && Number(me._popup_phone.userData.opacity>0)) || Number(me._popup_phone.material.opacity)>0)?true:false;
			me._popup_phone.userData.visible=true;
				}
				else {
			me._popup_phone.visible=false;
			me._popup_phone.userData.visible=false;
				}
			}
		}
		me._popup_phone.logicBlock_visible();
		me._popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'close_popup_phone_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'close_popup_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(3.66286);
		el.translateY(2.615);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'close_popup_phone';
		el.userData.x = 3.66286;
		el.userData.y = 2.615;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.130);
		el.renderOrder = 13;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._close_popup_phone.material) me._close_popup_phone.material.opacity = v;
			me._close_popup_phone.visible = (v>0 && me._close_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._close_popup_phone.visible
			let parentEl = me._close_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._close_popup_phone.userData.opacity = v;
			v = v * me._close_popup_phone.userData.parentOpacity;
			me._close_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._close_popup_phone.children.length; i++) {
				let child = me._close_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._close_popup_phone.userData.parentOpacity = v;
			v = v * me._close_popup_phone.userData.opacity
			me._close_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._close_popup_phone.children.length; i++) {
				let child = me._close_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._close_popup_phone = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'close_popup_phone_materialOver';
		el.userData.ggId="close_popup_phone";
		me._close_popup_phone.userData.onclick=function (e) {
			player.setVariableValue('vis_phone_popup', false);
			player.setVariableValue('vis_phone_youtube', false);
			player.setVariableValue('vis_phone_vimeo', false);
			player.setVariableValue('vis_phone_thumbs', false);
			player.setVariableValue('vis_phone_info', false);
			player.setVariableValue('vis_phone_map', false);
			player.setVariableValue('vis_phone_floorplan', false);
		}
		me._close_popup_phone.userData.onmouseover=function (e) {
			me._close_popup_phone.material = me._close_popup_phone.userData.materialOver;
			me.elementMouseOver['close_popup_phone']=true;
		}
		me._close_popup_phone.userData.onmouseout=function (e) {
			me._close_popup_phone.material = me._close_popup_phone.userData.materialNormal;
			me.elementMouseOver['close_popup_phone']=false;
		}
		me._close_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._close_popup_phone);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-0.0620938);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 764.571;
		el.userData.height = 497.419;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_popup_phone';
		el.userData.x = 0;
		el.userData.y = -0.0620938;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._info_popup_phone.material) me._info_popup_phone.material.opacity = v;
			me._info_popup_phone.visible = (v>0 && me._info_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._info_popup_phone.visible
			let parentEl = me._info_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_popup_phone.userData.opacity = v;
			v = v * me._info_popup_phone.userData.parentOpacity;
			me._info_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_phone.children.length; i++) {
				let child = me._info_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_popup_phone.userData.parentOpacity = v;
			v = v * me._info_popup_phone.userData.opacity
			me._info_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_phone.children.length; i++) {
				let child = me._info_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_popup_phone = el;
		el.userData.ggId="info_popup_phone";
		me._info_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_info') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._info_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._info_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._info_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._info_popup_phone.visible=((!me._info_popup_phone.material && Number(me._info_popup_phone.userData.opacity>0)) || Number(me._info_popup_phone.material.opacity)>0)?true:false;
			me._info_popup_phone.userData.visible=true;
				}
				else {
			me._info_popup_phone.visible=false;
			me._info_popup_phone.userData.visible=false;
				}
			}
		}
		me._info_popup_phone.logicBlock_visible();
		me._info_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(11.05, 3.14, 5, 5 );
		geometry.name = 'info_popup_text_phone_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'info_popup_text_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._info_popup_text_phone.material.opacity = v;
			if (me._info_popup_text_phone.userData.hasScrollbar) {
				me._info_popup_text_phone.userData.scrollbar.material.opacity = v;
				me._info_popup_text_phone.userData.scrollbarBg.material.opacity = v;
			}
			if (me._info_popup_text_phone.userData.ggSubElement) {
				me._info_popup_text_phone.userData.ggSubElement.material.opacity = v
				me._info_popup_text_phone.userData.ggSubElement.visible = (v>0 && me._info_popup_text_phone.userData.visible);
			}
			me._info_popup_text_phone.visible = (v>0 && me._info_popup_text_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._info_popup_text_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_popup_text_phone.userData.backgroundColorAlpha = v;
			me._info_popup_text_phone.userData.setOpacity(me._info_popup_text_phone.userData.opacity);
		}
		el.translateX(1.95214);
		el.translateY(0.417094);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1105;
		el.userData.height = 314;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_popup_text_phone';
		el.userData.x = 1.95214;
		el.userData.y = 0.417094;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._info_popup_text_phone.visible
			let parentEl = me._info_popup_text_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_popup_text_phone.userData.opacity = v;
			v = v * me._info_popup_text_phone.userData.parentOpacity;
			me._info_popup_text_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_text_phone.children.length; i++) {
				let child = me._info_popup_text_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_popup_text_phone.userData.parentOpacity = v;
			v = v * me._info_popup_text_phone.userData.opacity
			me._info_popup_text_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_text_phone.children.length; i++) {
				let child = me._info_popup_text_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_popup_text_phone = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 1105;
		canvas.height = 314;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._info_popup_text_phone.userData.totalHeight = 3;
			me._info_popup_text_phone.userData.textLines = [];
			var ctx = me._info_popup_text_phone.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._info_popup_text_phone.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._info_popup_text_phone.userData.textLines.push(line);
					line = '';
					me._info_popup_text_phone.userData.totalHeight += me._info_popup_text_phone.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._info_popup_text_phone.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._info_popup_text_phone.userData.textLines.push(line);
					line = words[i];
					me._info_popup_text_phone.userData.totalHeight += me._info_popup_text_phone.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._info_popup_text_phone.userData.textLines.push(line);
			me._info_popup_text_phone.userData.totalHeight += me._info_popup_text_phone.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._info_popup_text_phone.userData.textCanvas;
			var ctx = me._info_popup_text_phone.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._info_popup_text_phone.userData.textColor.r * 255 + ', ' + me._info_popup_text_phone.userData.textColor.g * 255 + ', ' + me._info_popup_text_phone.userData.textColor.b * 255 + ', ' + me._info_popup_text_phone.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 0;
			ctx.textAlign = 'left';
			var y = 3;
			y -= me._info_popup_text_phone.userData.scrollPosPercent * me._info_popup_text_phone.userData.totalHeight;
			for (var i = 0; i < me._info_popup_text_phone.userData.textLines.length; i++) {
				ctx.fillText(me._info_popup_text_phone.userData.textLines[i], x, y);
				y += me._info_popup_text_phone.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'info_popup_text_phone_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._info_popup_text_phone.material.map) {
				me._info_popup_text_phone.material.map.dispose();
			}
			me._info_popup_text_phone.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._info_popup_text_phone.remove(...me._info_popup_text_phone.children);
			var canv = me._info_popup_text_phone.userData.textCanvas;
			var ctx = me._info_popup_text_phone.userData.textCanvasContext;
			ctx.font = '14px Verdana';
			me._info_popup_text_phone.userData.lineHeight = 16.8;
			me._info_popup_text_phone.userData.ggWrapText(false);
			me._info_popup_text_phone.userData.boxWidth = me._info_popup_text_phone.userData.width;
			me._info_popup_text_phone.userData.boxHeight = me._info_popup_text_phone.userData.height;
			me._info_popup_text_phone.userData.scrollPosPercent = 0.0
			if (me._info_popup_text_phone.userData.totalHeight > me._info_popup_text_phone.userData.height) {
				me._info_popup_text_phone.userData.ggWrapText(true);
				me._info_popup_text_phone.userData.pagePercent = me._info_popup_text_phone.userData.height / me._info_popup_text_phone.userData.totalHeight;
				me._info_popup_text_phone.userData.maxScrollPercent = (me._info_popup_text_phone.userData.totalHeight - me._info_popup_text_phone.userData.height) / me._info_popup_text_phone.userData.totalHeight;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_popup_text_phone.userData.height / 100.0, 5, 5 );
				geometry.name = 'info_popup_text_phone_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_popup_text_phone_scrollbarBgMaterial';
				me._info_popup_text_phone.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._info_popup_text_phone.userData.scrollbarBg.name = 'info_popup_text_phone_scrollbarBg';
				me._info_popup_text_phone.add(me._info_popup_text_phone.userData.scrollbarBg);
				me._info_popup_text_phone.userData.scrollbarXPos = (me._info_popup_text_phone.userData.width - 25) / 200.0;
				me._info_popup_text_phone.userData.scrollbarBg.position.x = me._info_popup_text_phone.userData.scrollbarXPos;
				me._info_popup_text_phone.userData.scrollbarBg.position.z = me._info_popup_text_phone.position.z + 0.01;
				me._info_popup_text_phone.userData.scrollbarBg.userData.stopPropagation = true;
				me._info_popup_text_phone.userData.scrollbarHeight = (me._info_popup_text_phone.userData.height / me._info_popup_text_phone.userData.totalHeight) * me._info_popup_text_phone.userData.height;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_popup_text_phone.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'info_popup_text_phone_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_popup_text_phone_scrollbarMaterial';
				me._info_popup_text_phone.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._info_popup_text_phone.userData.scrollbar.name = 'info_popup_text_phone_scrollbar';
				me._info_popup_text_phone.add(me._info_popup_text_phone.userData.scrollbar);
				me._info_popup_text_phone.userData.scrollbar.position.x = me._info_popup_text_phone.userData.scrollbarXPos;
				me._info_popup_text_phone.userData.scrollbar.position.z = me._info_popup_text_phone.position.z + 0.02;
				me._info_popup_text_phone.userData.scrollbarYPosMin = (me._info_popup_text_phone.userData.height - me._info_popup_text_phone.userData.scrollbarHeight) / 200.0;
				me._info_popup_text_phone.userData.scrollbarYPosMax = me._info_popup_text_phone.userData.scrollbarYPosMin - (me._info_popup_text_phone.userData.height - me._info_popup_text_phone.userData.scrollbarHeight) / 100.0;
				me._info_popup_text_phone.userData.scrollbar.position.y = me._info_popup_text_phone.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_popup_text_phone.userData.height / 200.0, 5, 5 );
				geometry.name = 'info_popup_text_phone_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_popup_text_phone_scrollbarPageDownMaterial';
				me._info_popup_text_phone.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._info_popup_text_phone.userData.scrollbarPageDown.name = 'info_popup_text_phone_scrollbarPageDown';
				me._info_popup_text_phone.userData.scrollbarPageDown.userData.onclick = function() {
					me._info_popup_text_phone.userData.scrollPosPercent -= me._info_popup_text_phone.userData.pagePercent;
					me._info_popup_text_phone.userData.scrollPosPercent = Math.max(me._info_popup_text_phone.userData.scrollPosPercent, 0);
					me._info_popup_text_phone.userData.ggPaintCanvasText();
					me._info_popup_text_phone.userData.scrollbar.position.y += (me._info_popup_text_phone.userData.height * me._info_popup_text_phone.userData.pagePercent) / 100.0;
					me._info_popup_text_phone.userData.scrollbar.position.y = Math.min(me._info_popup_text_phone.userData.scrollbar.position.y, me._info_popup_text_phone.userData.scrollbarYPosMin);
				}
				me._info_popup_text_phone.userData.scrollbarPageDown.position.x = me._info_popup_text_phone.userData.scrollbarXPos;
				me._info_popup_text_phone.userData.scrollbarPageDown.position.y = me._info_popup_text_phone.userData.height / 400.0;
				me._info_popup_text_phone.userData.scrollbarPageDown.position.z = me._info_popup_text_phone.position.z + 0.05;
				me._info_popup_text_phone.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._info_popup_text_phone.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._info_popup_text_phone.userData.scrollbarPageDown.visible = false;
				me._info_popup_text_phone.add(me._info_popup_text_phone.userData.scrollbarPageDown);
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_popup_text_phone.userData.height / 200.0, 5, 5 );
				geometry.name = 'info_popup_text_phone_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_popup_text_phone_scrollbarPageUpMaterial';
				me._info_popup_text_phone.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._info_popup_text_phone.userData.scrollbarPageUp.name = 'info_popup_text_phone_scrollbarPageUp';
				me._info_popup_text_phone.userData.scrollbarPageUp.userData.onclick = function() {
					me._info_popup_text_phone.userData.scrollPosPercent += me._info_popup_text_phone.userData.pagePercent;
					me._info_popup_text_phone.userData.scrollPosPercent = Math.min(me._info_popup_text_phone.userData.scrollPosPercent, me._info_popup_text_phone.userData.maxScrollPercent);
					me._info_popup_text_phone.userData.ggPaintCanvasText();
					me._info_popup_text_phone.userData.scrollbar.position.y -= (me._info_popup_text_phone.userData.height * me._info_popup_text_phone.userData.pagePercent) / 100.0;
					me._info_popup_text_phone.userData.scrollbar.position.y = Math.max(me._info_popup_text_phone.userData.scrollbar.position.y, me._info_popup_text_phone.userData.scrollbarYPosMax);
				}
				me._info_popup_text_phone.userData.scrollbarPageUp.position.x = me._info_popup_text_phone.userData.scrollbarXPos;
				me._info_popup_text_phone.userData.scrollbarPageUp.position.y = -me._info_popup_text_phone.userData.height / 400.0;
				me._info_popup_text_phone.userData.scrollbarPageUp.position.z = me._info_popup_text_phone.position.z + 0.05;
				me._info_popup_text_phone.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._info_popup_text_phone.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._info_popup_text_phone.userData.scrollbarPageUp.visible = false;
				me._info_popup_text_phone.add(me._info_popup_text_phone.userData.scrollbarPageUp);
				me._info_popup_text_phone.userData.hasScrollbar = true;
			} else {
				me._info_popup_text_phone.userData.hasScrollbar = false;
			}
			canv.width = me._info_popup_text_phone.userData.boxWidth;
			canv.height = me._info_popup_text_phone.userData.boxHeight;
			ctx.font = '14px Verdana';
			me._info_popup_text_phone.userData.ggPaintCanvasText();
		}
		me._info_popup_text_phone.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._info_popup_text_phone.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._info_popup_text_phone.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._info_popup_text_phone.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_popup_text_phone.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._info_popup_text_phone.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._info_popup_text_phone.userData.textColorAlpha = v;
		}
		el.userData.ggId="info_popup_text_phone";
		me._info_popup_text_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._info_popup_phone.add(me._info_popup_text_phone);
		geometry = new THREE.PlaneBufferGeometry(6.98946, 0.4, 5, 5 );
		geometry.name = 'info_popup_title_phone_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'info_popup_title_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._info_popup_title_phone.material.opacity = v;
			if (me._info_popup_title_phone.userData.hasScrollbar) {
				me._info_popup_title_phone.userData.scrollbar.material.opacity = v;
				me._info_popup_title_phone.userData.scrollbarBg.material.opacity = v;
			}
			if (me._info_popup_title_phone.userData.ggSubElement) {
				me._info_popup_title_phone.userData.ggSubElement.material.opacity = v
				me._info_popup_title_phone.userData.ggSubElement.visible = (v>0 && me._info_popup_title_phone.userData.visible);
			}
			me._info_popup_title_phone.visible = (v>0 && me._info_popup_title_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._info_popup_title_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_popup_title_phone.userData.backgroundColorAlpha = v;
			me._info_popup_title_phone.userData.setOpacity(me._info_popup_title_phone.userData.opacity);
		}
		el.translateX(-0.0781271);
		el.translateY(2.28709);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 698.946;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_popup_title_phone';
		el.userData.x = -0.0781271;
		el.userData.y = 2.28709;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._info_popup_title_phone.visible
			let parentEl = me._info_popup_title_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_popup_title_phone.userData.opacity = v;
			v = v * me._info_popup_title_phone.userData.parentOpacity;
			me._info_popup_title_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_title_phone.children.length; i++) {
				let child = me._info_popup_title_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_popup_title_phone.userData.parentOpacity = v;
			v = v * me._info_popup_title_phone.userData.opacity
			me._info_popup_title_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_popup_title_phone.children.length; i++) {
				let child = me._info_popup_title_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_popup_title_phone = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 699;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._info_popup_title_phone.userData.totalHeight = 3;
			me._info_popup_title_phone.userData.textLines = [];
			var ctx = me._info_popup_title_phone.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._info_popup_title_phone.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._info_popup_title_phone.userData.textLines.push(line);
					line = '';
					me._info_popup_title_phone.userData.totalHeight += me._info_popup_title_phone.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._info_popup_title_phone.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._info_popup_title_phone.userData.textLines.push(line);
					line = words[i];
					me._info_popup_title_phone.userData.totalHeight += me._info_popup_title_phone.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._info_popup_title_phone.userData.textLines.push(line);
			me._info_popup_title_phone.userData.totalHeight += me._info_popup_title_phone.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._info_popup_title_phone.userData.textCanvas;
			var ctx = me._info_popup_title_phone.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._info_popup_title_phone.userData.textColor.r * 255 + ', ' + me._info_popup_title_phone.userData.textColor.g * 255 + ', ' + me._info_popup_title_phone.userData.textColor.b * 255 + ', ' + me._info_popup_title_phone.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 0;
			ctx.textAlign = 'left';
			var y = 3;
			y += (canv.height - me._info_popup_title_phone.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._info_popup_title_phone.userData.textLines.length; i++) {
				var curTextLine = me._info_popup_title_phone.userData.textLines[i];
				var curTextLineBase = me._info_popup_title_phone.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + x + 0) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + x + 0) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._info_popup_title_phone.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'info_popup_title_phone_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._info_popup_title_phone.material.map) {
				me._info_popup_title_phone.material.map.dispose();
			}
			me._info_popup_title_phone.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._info_popup_title_phone.remove(...me._info_popup_title_phone.children);
			var canv = me._info_popup_title_phone.userData.textCanvas;
			var ctx = me._info_popup_title_phone.userData.textCanvasContext;
			ctx.font = '22px Verdana';
			me._info_popup_title_phone.userData.lineHeight = 22 * 1.2;
			me._info_popup_title_phone.userData.textLines = [];
			me._info_popup_title_phone.userData.textLines.push(me._info_popup_title_phone.userData.ggText);
			me._info_popup_title_phone.userData.totalHeight = 3;
			me._info_popup_title_phone.userData.totalHeight += me._info_popup_title_phone.userData.lineHeight;
			me._info_popup_title_phone.userData.boxWidth = me._info_popup_title_phone.userData.width;
			me._info_popup_title_phone.userData.boxHeight = me._info_popup_title_phone.userData.height;
			me._info_popup_title_phone.userData.hasScrollbar = false;
			canv.width = me._info_popup_title_phone.userData.boxWidth;
			canv.height = me._info_popup_title_phone.userData.boxHeight;
			ctx.font = '22px Verdana';
			me._info_popup_title_phone.userData.ggPaintCanvasText();
		}
		me._info_popup_title_phone.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._info_popup_title_phone.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._info_popup_title_phone.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._info_popup_title_phone.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_popup_title_phone.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._info_popup_title_phone.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._info_popup_title_phone.userData.textColorAlpha = v;
		}
		el.userData.ggId="info_popup_title_phone";
		me._info_popup_title_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._info_popup_phone.add(me._info_popup_title_phone);
		me._popup_phone.add(me._info_popup_phone);
		el.translateX(0.2);
		el.translateY(-1.31);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 764.571;
		el.userData.height = 717;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_scroller_phone';
		el.userData.x = 0.2;
		el.userData.y = -1.31;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_scroller_phone.material) me._thumbnail_scroller_phone.material.opacity = v;
			me._thumbnail_scroller_phone.visible = (v>0 && me._thumbnail_scroller_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_scroller_phone.visible
			let parentEl = me._thumbnail_scroller_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_scroller_phone.userData.opacity = v;
			v = v * me._thumbnail_scroller_phone.userData.parentOpacity;
			me._thumbnail_scroller_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_scroller_phone.children.length; i++) {
				let child = me._thumbnail_scroller_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_scroller_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_scroller_phone.userData.opacity
			me._thumbnail_scroller_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_scroller_phone.children.length; i++) {
				let child = me._thumbnail_scroller_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_scroller_phone = el;
		el.userData.ggId="thumbnail_scroller_phone";
		me._thumbnail_scroller_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_thumbs') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnail_scroller_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnail_scroller_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnail_scroller_phone.ggCurrentLogicStateVisible == 0) {
			me._thumbnail_scroller_phone.visible=((!me._thumbnail_scroller_phone.material && Number(me._thumbnail_scroller_phone.userData.opacity>0)) || Number(me._thumbnail_scroller_phone.material.opacity)>0)?true:false;
			me._thumbnail_scroller_phone.userData.visible=true;
				}
				else {
			me._thumbnail_scroller_phone.visible=false;
			me._thumbnail_scroller_phone.userData.visible=false;
				}
			}
		}
		me._thumbnail_scroller_phone.logicBlock_visible();
		me._thumbnail_scroller_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-3.18286);
		el.translateY(2.945);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 128;
		el.userData.height = 128;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'node_cloner_phone';
		el.userData.x = -3.18286;
		el.userData.y = 2.945;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._node_cloner_phone.material) me._node_cloner_phone.material.opacity = v;
			me._node_cloner_phone.visible = (v>0 && me._node_cloner_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._node_cloner_phone.visible
			let parentEl = me._node_cloner_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._node_cloner_phone.userData.opacity = v;
			v = v * me._node_cloner_phone.userData.parentOpacity;
			me._node_cloner_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_cloner_phone.children.length; i++) {
				let child = me._node_cloner_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._node_cloner_phone.userData.parentOpacity = v;
			v = v * me._node_cloner_phone.userData.opacity
			me._node_cloner_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._node_cloner_phone.children.length; i++) {
				let child = me._node_cloner_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._node_cloner_phone = el;
		el.userData.ggNumRepeat = 100;
		el.userData.ggNumRows = 0;
		el.userData.ggNumCols = 0;
		el.userData.ggUpdating = false;
		el.userData.ggFilter = [];
		el.userData.ggInstances = [];
		el.getFilteredNodes = function(tourNodes, filter) {
			var filteredNodes = [];
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var passed = true;
				var nodeData = player.getNodeUserdata(nodeId);
				if (filter.length > 0) {
					for (var j=0; j < filter.length; j++) {
						if (nodeData['tags'].indexOf(filter[j].trim()) == -1) passed = false;
					}
				}
				if (passed) {
					filteredNodes.push(nodeId);
				}
			}
			return filteredNodes;
		}
		el.userData.ggUpdate = function(filter) {
			if(me._node_cloner_phone.userData.ggUpdating == true) return;
			me._node_cloner_phone.userData.ggUpdating = true;
			var el=me._node_cloner_phone;
			var curNumCols = 0;
			var parentWidth = me._node_cloner_phone.parent.userData.width;
			me._node_cloner_phone.userData.offsetLeft = (me._node_cloner_phone.parent.userData.width / 200.0) + me._node_cloner_phone.userData.x - (me._node_cloner_phone.userData.width / 200.0);
			curNumCols = Math.floor(((parentWidth - me._node_cloner_phone.userData.offsetLeft) * me._node_cloner_phone.userData.ggNumRepeat / 100.0) / me._node_cloner_phone.userData.width);
			if (curNumCols < 1) curNumCols = 1;
			if (typeof filter=='object') {
				el.userData.ggFilter = filter;
			} else {
				filter = el.userData.ggFilter;
			};
			if (me.ggTag) filter.push(me.ggTag);
			filter=filter.sort();
			if ((el.userData.ggNumCols == curNumCols) && (el.userData.ggInstances.length > 0) && (filter.length === el.userData.ggCurrentFilter.length) && (filter.every(function(value, index) { return value === el.userData.ggCurrentFilter[index] }) )) {
				me._node_cloner_phone.userData.ggUpdating = false;
				return;
			} else {
				el.userData.ggNumRows = 1;
				el.userData.ggNumCols = curNumCols;
			var centerOffsetHor = 0;
			var centerOffsetVert = 0;
				me._node_cloner_phone.userData.ggCloneOffsetChanged = false;
			}
			el.userData.ggCurrentFilter = filter;
			el.userData.ggInstances = [];
			el.remove(...el.children);
			var tourNodes = player.getNodeIds();
			var row = 0;
			var column = 0;
			var currentIndex = 0;
			var keepCloning = true;
			me._node_cloner_phone.userData.ggNumFilterPassed = 0;
			tourNodes = me._node_cloner_phone.getFilteredNodes(tourNodes, filter);
			me._node_cloner_phone.userData.ggNumFilterPassed = tourNodes.length;
			for (var i = 0; i < tourNodes.length; i++) {
				var nodeId = tourNodes[i];
				var nodeData = player.getNodeUserdata(nodeId);
				if (!keepCloning || i < me._node_cloner_phone.userData.ggCloneOffset) continue;
				var parameter={};
				parameter.top = -(centerOffsetVert / 100.0) - (row * me._node_cloner_phone.userData.height) / 100.0;
				parameter.left = (centerOffsetHor / 100.0) + (column * me._node_cloner_phone.userData.width) / 100.0;
				parameter.index=currentIndex;
				parameter.title=nodeData['title'];
				var inst = new SkinCloner_node_cloner_phone_Class(nodeId, me, el, parameter);
				currentIndex++;
				el.userData.ggInstances.push(inst);
				var bbox = new THREE.Box3().setFromObject(inst.__obj);
				var clonerPosInSkin = skin.posInSkin(me._node_cloner_phone, me.ggParent);
				if (bbox.min.x + clonerPosInSkin.x >= -4 && bbox.max.x + clonerPosInSkin.x <= 4 && bbox.min.y + clonerPosInSkin.y >= -3 && bbox.max.y + clonerPosInSkin.y <= 3) el.add(inst.__obj);
				column++;
				if (column >= el.userData.ggNumCols) {
					column = 0;
					row++;
					el.userData.ggNumRows++;
				}
			}
			me._node_cloner_phone.userData.ggNodeCount = me._node_cloner_phone.userData.ggNumFilterPassed;
			me._node_cloner_phone.userData.ggUpdating = false;
			player.triggerEvent('clonerchanged');
		}
		el.userData.ggFilter = [];
		el.userData.ggFilter[0] = "_nope";
		el.userData.ggId="node_cloner_phone";
		me._node_cloner_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_scroller_phone.add(me._node_cloner_phone);
		me._popup_phone.add(me._thumbnail_scroller_phone);
		el = new THREE.Group();
		el.translateX(2.08714);
		el.translateY(-0.95);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1132;
		el.userData.height = 675;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_el_phone';
		el.userData.x = 2.08714;
		el.userData.y = -0.95;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._map_el_phone.visible
			let parentEl = me._map_el_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_el_phone.userData.opacity = v;
			v = v * me._map_el_phone.userData.parentOpacity;
			me._map_el_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_el_phone.children.length; i++) {
				let child = me._map_el_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_el_phone.userData.parentOpacity = v;
			v = v * me._map_el_phone.userData.opacity
			me._map_el_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_el_phone.children.length; i++) {
				let child = me._map_el_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_el_phone = el;
		el.userData.ggId="map_el_phone";
		me._map_el_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_map') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map_el_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map_el_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map_el_phone.ggCurrentLogicStateVisible == 0) {
			me._map_el_phone.visible=((!me._map_el_phone.material && Number(me._map_el_phone.userData.opacity>0)) || Number(me._map_el_phone.material.opacity)>0)?true:false;
			me._map_el_phone.userData.visible=true;
				}
				else {
			me._map_el_phone.visible=false;
			me._map_el_phone.userData.visible=false;
				}
			}
		}
		me._map_el_phone.logicBlock_visible();
		me._map_el_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._map_el_phone);
		el = new THREE.Group();
		el.translateX(2.08714);
		el.translateY(-0.95);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1132;
		el.userData.height = 675;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'floorplan_el_phone';
		el.userData.x = 2.08714;
		el.userData.y = -0.95;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._floorplan_el_phone.visible
			let parentEl = me._floorplan_el_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._floorplan_el_phone.userData.opacity = v;
			v = v * me._floorplan_el_phone.userData.parentOpacity;
			me._floorplan_el_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floorplan_el_phone.children.length; i++) {
				let child = me._floorplan_el_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._floorplan_el_phone.userData.parentOpacity = v;
			v = v * me._floorplan_el_phone.userData.opacity
			me._floorplan_el_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floorplan_el_phone.children.length; i++) {
				let child = me._floorplan_el_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._floorplan_el_phone = el;
		el.userData.ggId="floorplan_el_phone";
		me._floorplan_el_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_floorplan') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._floorplan_el_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._floorplan_el_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._floorplan_el_phone.ggCurrentLogicStateVisible == 0) {
			me._floorplan_el_phone.visible=((!me._floorplan_el_phone.material && Number(me._floorplan_el_phone.userData.opacity>0)) || Number(me._floorplan_el_phone.material.opacity)>0)?true:false;
			me._floorplan_el_phone.userData.visible=true;
				}
				else {
			me._floorplan_el_phone.visible=false;
			me._floorplan_el_phone.userData.visible=false;
				}
			}
		}
		me._floorplan_el_phone.logicBlock_visible();
		me._floorplan_el_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._floorplan_el_phone);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_popup_phone.userData.ggSubElement) {
				me._image_popup_phone.userData.ggSubElement.material.opacity = v
				me._image_popup_phone.userData.ggSubElement.visible = (v>0 && me._image_popup_phone.userData.visible);
			}
			me._image_popup_phone.visible = (v>0 && me._image_popup_phone.userData.visible);
		}
		el.translateX(2.07714);
		el.translateY(-0.915);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1130;
		el.userData.height = 668;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_popup_phone';
		el.userData.x = 2.07714;
		el.userData.y = -0.915;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_popup_phone.visible
			let parentEl = me._image_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_popup_phone.userData.opacity = v;
			v = v * me._image_popup_phone.userData.parentOpacity;
			me._image_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup_phone.children.length; i++) {
				let child = me._image_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_popup_phone.userData.parentOpacity = v;
			v = v * me._image_popup_phone.userData.opacity
			me._image_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_popup_phone.children.length; i++) {
				let child = me._image_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_popup_phone = el;
		currentWidth = 1130;
		currentHeight = 668;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'image_popup_phone_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'image_popup_phone_subElementMaterial';
				me._image_popup_phone.userData.ggSubElement.material = loadedMaterial;
				me._image_popup_phone.userData.ggUpdatePosition();
				me._image_popup_phone.userData.ggText = extUrl;
				me._image_popup_phone.userData.setOpacity(me._image_popup_phone.userData.opacity);
			});
		};
		var extUrl=basePath + "";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'image_popup_phone_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'image_popup_phone_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 1130;
		el.userData.clientHeight = 668;
		el.userData.ggId="image_popup_phone";
		me._image_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_image') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._image_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._image_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._image_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._image_popup_phone.visible=((!me._image_popup_phone.material && Number(me._image_popup_phone.userData.opacity>0)) || Number(me._image_popup_phone.material.opacity)>0)?true:false;
			me._image_popup_phone.userData.visible=true;
				}
				else {
			me._image_popup_phone.visible=false;
			me._image_popup_phone.userData.visible=false;
				}
			}
		}
		me._image_popup_phone.logicBlock_visible();
		me._image_popup_phone.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._image_popup_phone.userData.clientWidth;
			var parentHeight = me._image_popup_phone.userData.clientHeight;
			var img = me._image_popup_phone.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if (aspectRatioDiv > aspectRatioImg) {
				currentHeight = parentHeight;
				currentWidth = parentHeight * aspectRatioImg;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_popup_phone_imgGeometry';
			} else {
				currentWidth = parentWidth;
				currentHeight = parentWidth / aspectRatioImg;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_popup_phone_imgGeometry';
			};
		}
		me._popup_phone.add(me._image_popup_phone);
		el.userData.ggId="pdf_popup_phone";
		me._pdf_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_pdf') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._pdf_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._pdf_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._pdf_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._pdf_popup_phone.visible=((!me._pdf_popup_phone.material && Number(me._pdf_popup_phone.userData.opacity>0)) || Number(me._pdf_popup_phone.material.opacity)>0)?true:false;
			me._pdf_popup_phone.userData.visible=true;
				}
				else {
			me._pdf_popup_phone.visible=false;
			me._pdf_popup_phone.userData.visible=false;
				}
			}
		}
		me._pdf_popup_phone.logicBlock_visible();
		me._pdf_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._pdf_popup_phone);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-2.375);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 350;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_controller_phone';
		el.userData.x = 0;
		el.userData.y = -2.375;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_controller_phone.material) me._video_controller_phone.material.opacity = v;
			me._video_controller_phone.visible = (v>0 && me._video_controller_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_controller_phone.visible
			let parentEl = me._video_controller_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_controller_phone.userData.opacity = v;
			v = v * me._video_controller_phone.userData.parentOpacity;
			me._video_controller_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_phone.children.length; i++) {
				let child = me._video_controller_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_controller_phone.userData.parentOpacity = v;
			v = v * me._video_controller_phone.userData.opacity
			me._video_controller_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_controller_phone.children.length; i++) {
				let child = me._video_controller_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_controller_phone = el;
		el.userData.ggId="video_controller_phone";
		me._video_controller_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_video_file') == true)) || 
				((player.getVariableValue('vis_phone_video_url') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_controller_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_controller_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_controller_phone.ggCurrentLogicStateVisible == 0) {
			me._video_controller_phone.visible=((!me._video_controller_phone.material && Number(me._video_controller_phone.userData.opacity>0)) || Number(me._video_controller_phone.material.opacity)>0)?true:false;
			me._video_controller_phone.userData.visible=true;
				}
				else {
			me._video_controller_phone.visible=false;
			me._video_controller_phone.userData.visible=false;
				}
			}
		}
		me._video_controller_phone.logicBlock_visible();
		me._video_controller_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_seekbar_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._video_controller_phone.add(me._video_controller_seekbar_phone);
		me._popup_phone.add(me._video_controller_phone);
		el.userData.ggId="youtube_popup_phone";
		me._youtube_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_youtube') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._youtube_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._youtube_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._youtube_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._youtube_popup_phone.visible=((!me._youtube_popup_phone.material && Number(me._youtube_popup_phone.userData.opacity>0)) || Number(me._youtube_popup_phone.material.opacity)>0)?true:false;
			me._youtube_popup_phone.userData.visible=true;
					if (me._youtube_popup_phone.userData.ggVideoNotLoaded) {
						me._youtube_popup_phone.userData.ggInitMedia(me._youtube_popup_phone.ggVideoSource);
					}
				}
				else {
			me._youtube_popup_phone.visible=false;
			me._youtube_popup_phone.userData.visible=false;
					me._youtube_popup_phone.userData.ggInitMedia('');
				}
			}
		}
		me._youtube_popup_phone.logicBlock_visible();
		me._youtube_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._youtube_popup_phone);
		el.userData.ggId="vimeo_popup_phone";
		me._vimeo_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_vimeo') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._vimeo_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._vimeo_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._vimeo_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._vimeo_popup_phone.visible=((!me._vimeo_popup_phone.material && Number(me._vimeo_popup_phone.userData.opacity>0)) || Number(me._vimeo_popup_phone.material.opacity)>0)?true:false;
			me._vimeo_popup_phone.userData.visible=true;
					if (me._vimeo_popup_phone.userData.ggVideoNotLoaded) {
						me._vimeo_popup_phone.userData.ggInitMedia(me._vimeo_popup_phone.ggVideoSource);
					}
				}
				else {
			me._vimeo_popup_phone.visible=false;
			me._vimeo_popup_phone.userData.visible=false;
					me._vimeo_popup_phone.userData.ggInitMedia('');
				}
			}
		}
		me._vimeo_popup_phone.logicBlock_visible();
		me._vimeo_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._vimeo_popup_phone);
		geometry = new THREE.PlaneBufferGeometry(11.29, 5.83, 5, 5 );
		geometry.name = 'video_file_popup_phone_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_file_popup_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(2.07214);
		el.translateY(-0.49);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1129;
		el.userData.height = 583;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_popup_phone';
		el.userData.x = 2.07214;
		el.userData.y = -0.49;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.230);
		el.renderOrder = 23;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_file_popup_phone.material) me._video_file_popup_phone.material.opacity = v;
			me._video_file_popup_phone.visible = (v>0 && me._video_file_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_file_popup_phone.visible
			let parentEl = me._video_file_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_popup_phone.userData.opacity = v;
			v = v * me._video_file_popup_phone.userData.parentOpacity;
			me._video_file_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_phone.children.length; i++) {
				let child = me._video_file_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_popup_phone.userData.parentOpacity = v;
			v = v * me._video_file_popup_phone.userData.opacity
			me._video_file_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_phone.children.length; i++) {
				let child = me._video_file_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_popup_phone = el;
		me._video_file_popup_phone.userData.seekbars = [];
		me._video_file_popup_phone.userData.ggInitMedia = function(media) {
			if (me._video_file_popup_phone__vid) me._video_file_popup_phone__vid.pause();
			me._video_file_popup_phone__vid = document.createElement('video');
			player.registerVideoElement('video_file_popup_phone', me._video_file_popup_phone__vid);
			me._video_file_popup_phone__vid.setAttribute('autoplay', '');
			me._video_file_popup_phone__vid.setAttribute('crossOrigin', 'anonymous');
			me._video_file_popup_phone__source = document.createElement('source');
			me._video_file_popup_phone__source.setAttribute('src', media);
			me._video_file_popup_phone__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._video_file_popup_phone__vid.videoWidth / me._video_file_popup_phone__vid.videoHeight;
				let elAR = me._video_file_popup_phone.userData.width / me._video_file_popup_phone.userData.height;
				if (videoAR > elAR) {
					me._video_file_popup_phone.scale.set(1, (me._video_file_popup_phone.userData.width / videoAR) / me._video_file_popup_phone.userData.height, 1);
				} else {
					me._video_file_popup_phone.scale.set((me._video_file_popup_phone.userData.height * videoAR) / me._video_file_popup_phone.userData.width, 1, 1);
				}
			}, false);
			me._video_file_popup_phone__vid.appendChild(me._video_file_popup_phone__source);
			videoTexture = new THREE.VideoTexture( me._video_file_popup_phone__vid );
			videoTexture.name = 'video_file_popup_phone_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'video_file_popup_phone_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._video_file_popup_phone.material = videoMaterial;
		}
		el.userData.ggId="video_file_popup_phone";
		me._video_file_popup_phone.userData.ggIsActive=function() {
			if (me._video_file_popup_phone__vid != null) {
				return (me._video_file_popup_phone__vid.paused == false && me._video_file_popup_phone__vid.ended == false);
			} else {
				return false;
			}
		}
		me._video_file_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_video_file') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_file_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_file_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_file_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._video_file_popup_phone.visible=((!me._video_file_popup_phone.material && Number(me._video_file_popup_phone.userData.opacity>0)) || Number(me._video_file_popup_phone.material.opacity)>0)?true:false;
			me._video_file_popup_phone.userData.visible=true;
					if (me._video_file_popup_phone.userData.ggVideoNotLoaded) {
						me._video_file_popup_phone.userData.ggInitMedia(me._video_file_popup_phone.ggVideoSource);
					}
				}
				else {
			me._video_file_popup_phone.visible=false;
			me._video_file_popup_phone.userData.visible=false;
					me._video_file_popup_phone.userData.ggInitMedia('');
				}
			}
		}
		me._video_file_popup_phone.logicBlock_visible();
		me._video_file_popup_phone.userData.onclick=function (e) {
			player.playPauseSound("video_file_popup_phone","1");
		}
		me._video_file_popup_phone.userData.ggActivate=function () {
			me._video_file_popup_phone_play.userData.setOpacity(0);
			me._video_file_popup_phone_play.visible=false;
		}
		me._video_file_popup_phone.userData.ggDeactivate=function () {
			me._video_file_popup_phone.userData.transitionValue_alpha = 1;
			for (var i = 0; i < me._video_file_popup_phone_play.userData.transitions.length; i++) {
				if (me._video_file_popup_phone_play.userData.transitions[i].property == 'alpha') {
					clearInterval(me._video_file_popup_phone_play.userData.transitions[i].interval);
					me._video_file_popup_phone_play.userData.transitions.splice(i, 1);
					break;
				}
			}
			let transition_alpha = {};
			transition_alpha.property = 'alpha';
			transition_alpha.startTime = Date.now();
			transition_alpha.startAlpha = me._video_file_popup_phone_play.material ? me._video_file_popup_phone_play.material.opacity : me._video_file_popup_phone_play.userData.opacity;
			transition_alpha.interval = setInterval(() => {
				let currentTime = Date.now() - 0;
				let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 200;
				percentDone = Math.max(percentDone, 0.0);
				percentDone = Math.min(percentDone, 1.0);
				let tfval = Math.sin((percentDone * Math.PI) / 2);
				me._video_file_popup_phone_play.userData.setOpacity(transition_alpha.startAlpha + (me._video_file_popup_phone.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
				if (percentDone >= 1.0) {
					clearInterval(transition_alpha.interval);
					me._video_file_popup_phone_play.userData.transitions.splice(me._video_file_popup_phone_play.userData.transitions.indexOf(transition_alpha), 1);
				}
			}, 20);
			me._video_file_popup_phone_play.userData.transitions.push(transition_alpha);
		}
		me._video_file_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._video_file_popup_phone);
		geometry = new THREE.PlaneBufferGeometry(0.64, 0.64, 5, 5 );
		geometry.name = 'video_file_popup_phone_play_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_file_popup_phone_play_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 64;
		el.userData.height = 64;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_file_popup_phone_play';
		el.userData.x = 0;
		el.userData.y = 0.08;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.240);
		el.renderOrder = 24;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_file_popup_phone_play.material) me._video_file_popup_phone_play.material.opacity = v;
			me._video_file_popup_phone_play.visible = (v>0 && me._video_file_popup_phone_play.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_file_popup_phone_play.visible
			let parentEl = me._video_file_popup_phone_play.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_file_popup_phone_play.userData.opacity = v;
			v = v * me._video_file_popup_phone_play.userData.parentOpacity;
			me._video_file_popup_phone_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_phone_play.children.length; i++) {
				let child = me._video_file_popup_phone_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_file_popup_phone_play.userData.parentOpacity = v;
			v = v * me._video_file_popup_phone_play.userData.opacity
			me._video_file_popup_phone_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_file_popup_phone_play.children.length; i++) {
				let child = me._video_file_popup_phone_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_file_popup_phone_play = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_file_popup_phone_play_materialOver';
		el.userData.ggId="video_file_popup_phone_play";
		me._video_file_popup_phone_play.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_video_file') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_file_popup_phone_play.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_file_popup_phone_play.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_file_popup_phone_play.ggCurrentLogicStateVisible == 0) {
			me._video_file_popup_phone_play.visible=((!me._video_file_popup_phone_play.material && Number(me._video_file_popup_phone_play.userData.opacity>0)) || Number(me._video_file_popup_phone_play.material.opacity)>0)?true:false;
			me._video_file_popup_phone_play.userData.visible=true;
				}
				else {
			me._video_file_popup_phone_play.visible=false;
			me._video_file_popup_phone_play.userData.visible=false;
				}
			}
		}
		me._video_file_popup_phone_play.logicBlock_visible();
		me._video_file_popup_phone_play.userData.onclick=function (e) {
			player.playSound("video_file_popup_phone","1");
		}
		me._video_file_popup_phone_play.userData.onmouseover=function (e) {
			me._video_file_popup_phone_play.material = me._video_file_popup_phone_play.userData.materialOver;
			me.elementMouseOver['video_file_popup_phone_play']=true;
		}
		me._video_file_popup_phone_play.userData.onmouseout=function (e) {
			me._video_file_popup_phone_play.material = me._video_file_popup_phone_play.userData.materialNormal;
			me.elementMouseOver['video_file_popup_phone_play']=false;
		}
		me._video_file_popup_phone_play.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._video_file_popup_phone_play);
		geometry = new THREE.PlaneBufferGeometry(11.29, 5.87, 5, 5 );
		geometry.name = 'video_url_popup_phone_geometry';
		material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_url_popup_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(2.07214);
		el.translateY(-0.51);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 1129;
		el.userData.height = 587;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_popup_phone';
		el.userData.x = 2.07214;
		el.userData.y = -0.51;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.250);
		el.renderOrder = 25;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_url_popup_phone.material) me._video_url_popup_phone.material.opacity = v;
			me._video_url_popup_phone.visible = (v>0 && me._video_url_popup_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_url_popup_phone.visible
			let parentEl = me._video_url_popup_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_popup_phone.userData.opacity = v;
			v = v * me._video_url_popup_phone.userData.parentOpacity;
			me._video_url_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_phone.children.length; i++) {
				let child = me._video_url_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_popup_phone.userData.parentOpacity = v;
			v = v * me._video_url_popup_phone.userData.opacity
			me._video_url_popup_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_phone.children.length; i++) {
				let child = me._video_url_popup_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_popup_phone = el;
		me._video_url_popup_phone.userData.seekbars = [];
		me._video_url_popup_phone.userData.ggInitMedia = function(media) {
			if (me._video_url_popup_phone__vid) me._video_url_popup_phone__vid.pause();
			me._video_url_popup_phone__vid = document.createElement('video');
			player.registerVideoElement('video_url_popup_phone', me._video_url_popup_phone__vid);
			me._video_url_popup_phone__vid.setAttribute('autoplay', '');
			me._video_url_popup_phone__vid.setAttribute('crossOrigin', 'anonymous');
			me._video_url_popup_phone__source = document.createElement('source');
			me._video_url_popup_phone__source.setAttribute('src', media);
			me._video_url_popup_phone__vid.addEventListener('loadedmetadata', function() {
				let videoAR = me._video_url_popup_phone__vid.videoWidth / me._video_url_popup_phone__vid.videoHeight;
				let elAR = me._video_url_popup_phone.userData.width / me._video_url_popup_phone.userData.height;
				if (videoAR > elAR) {
					me._video_url_popup_phone.scale.set(1, (me._video_url_popup_phone.userData.width / videoAR) / me._video_url_popup_phone.userData.height, 1);
				} else {
					me._video_url_popup_phone.scale.set((me._video_url_popup_phone.userData.height * videoAR) / me._video_url_popup_phone.userData.width, 1, 1);
				}
			}, false);
			me._video_url_popup_phone__vid.appendChild(me._video_url_popup_phone__source);
			videoTexture = new THREE.VideoTexture( me._video_url_popup_phone__vid );
			videoTexture.name = 'video_url_popup_phone_videoTexture';
			videoTexture.minFilter = THREE.LinearFilter;
			videoTexture.magFilter = THREE.LinearFilter;
			videoTexture.format = THREE.RGBAFormat;
			videoMaterial = new THREE.MeshBasicMaterial( {map: videoTexture, side: THREE.DoubleSide, transparent: true} );
			videoMaterial.name = 'video_url_popup_phone_videoMaterial';
			videoMaterial.alphaTest = 0.5;
			me._video_url_popup_phone.material = videoMaterial;
		}
		el.userData.ggId="video_url_popup_phone";
		me._video_url_popup_phone.userData.ggIsActive=function() {
			if (me._video_url_popup_phone__vid != null) {
				return (me._video_url_popup_phone__vid.paused == false && me._video_url_popup_phone__vid.ended == false);
			} else {
				return false;
			}
		}
		me._video_url_popup_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_video_url') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_url_popup_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_url_popup_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_url_popup_phone.ggCurrentLogicStateVisible == 0) {
			me._video_url_popup_phone.visible=((!me._video_url_popup_phone.material && Number(me._video_url_popup_phone.userData.opacity>0)) || Number(me._video_url_popup_phone.material.opacity)>0)?true:false;
			me._video_url_popup_phone.userData.visible=true;
					if (me._video_url_popup_phone.userData.ggVideoNotLoaded) {
						me._video_url_popup_phone.userData.ggInitMedia(me._video_url_popup_phone.ggVideoSource);
					}
				}
				else {
			me._video_url_popup_phone.visible=false;
			me._video_url_popup_phone.userData.visible=false;
					me._video_url_popup_phone.userData.ggInitMedia('');
				}
			}
		}
		me._video_url_popup_phone.logicBlock_visible();
		me._video_url_popup_phone.userData.onclick=function (e) {
			player.playPauseSound("video_url_popup_phone","1");
		}
		me._video_url_popup_phone.userData.ggActivate=function () {
			me._video_url_popup_phone_play.userData.setOpacity(0);
			me._video_url_popup_phone_play.visible=false;
		}
		me._video_url_popup_phone.userData.ggDeactivate=function () {
			me._video_url_popup_phone.userData.transitionValue_alpha = 1;
			for (var i = 0; i < me._video_url_popup_phone_play.userData.transitions.length; i++) {
				if (me._video_url_popup_phone_play.userData.transitions[i].property == 'alpha') {
					clearInterval(me._video_url_popup_phone_play.userData.transitions[i].interval);
					me._video_url_popup_phone_play.userData.transitions.splice(i, 1);
					break;
				}
			}
			let transition_alpha = {};
			transition_alpha.property = 'alpha';
			transition_alpha.startTime = Date.now();
			transition_alpha.startAlpha = me._video_url_popup_phone_play.material ? me._video_url_popup_phone_play.material.opacity : me._video_url_popup_phone_play.userData.opacity;
			transition_alpha.interval = setInterval(() => {
				let currentTime = Date.now() - 0;
				let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 200;
				percentDone = Math.max(percentDone, 0.0);
				percentDone = Math.min(percentDone, 1.0);
				let tfval = Math.sin((percentDone * Math.PI) / 2);
				me._video_url_popup_phone_play.userData.setOpacity(transition_alpha.startAlpha + (me._video_url_popup_phone.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
				if (percentDone >= 1.0) {
					clearInterval(transition_alpha.interval);
					me._video_url_popup_phone_play.userData.transitions.splice(me._video_url_popup_phone_play.userData.transitions.indexOf(transition_alpha), 1);
				}
			}, 20);
			me._video_url_popup_phone_play.userData.transitions.push(transition_alpha);
		}
		me._video_url_popup_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._video_url_popup_phone);
		geometry = new THREE.PlaneBufferGeometry(0.64, 0.64, 5, 5 );
		geometry.name = 'video_url_popup_phone_play_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'video_url_popup_phone_play_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 64;
		el.userData.height = 64;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'video_url_popup_phone_play';
		el.userData.x = 0;
		el.userData.y = 0.08;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.260);
		el.renderOrder = 26;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._video_url_popup_phone_play.material) me._video_url_popup_phone_play.material.opacity = v;
			me._video_url_popup_phone_play.visible = (v>0 && me._video_url_popup_phone_play.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._video_url_popup_phone_play.visible
			let parentEl = me._video_url_popup_phone_play.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._video_url_popup_phone_play.userData.opacity = v;
			v = v * me._video_url_popup_phone_play.userData.parentOpacity;
			me._video_url_popup_phone_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_phone_play.children.length; i++) {
				let child = me._video_url_popup_phone_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._video_url_popup_phone_play.userData.parentOpacity = v;
			v = v * me._video_url_popup_phone_play.userData.opacity
			me._video_url_popup_phone_play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._video_url_popup_phone_play.children.length; i++) {
				let child = me._video_url_popup_phone_play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._video_url_popup_phone_play = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'video_url_popup_phone_play_materialOver';
		el.userData.ggId="video_url_popup_phone_play";
		me._video_url_popup_phone_play.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_phone_video_url') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._video_url_popup_phone_play.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._video_url_popup_phone_play.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._video_url_popup_phone_play.ggCurrentLogicStateVisible == 0) {
			me._video_url_popup_phone_play.visible=((!me._video_url_popup_phone_play.material && Number(me._video_url_popup_phone_play.userData.opacity>0)) || Number(me._video_url_popup_phone_play.material.opacity)>0)?true:false;
			me._video_url_popup_phone_play.userData.visible=true;
				}
				else {
			me._video_url_popup_phone_play.visible=false;
			me._video_url_popup_phone_play.userData.visible=false;
				}
			}
		}
		me._video_url_popup_phone_play.logicBlock_visible();
		me._video_url_popup_phone_play.userData.onclick=function (e) {
			player.playSound("video_url_popup_phone","1");
		}
		me._video_url_popup_phone_play.userData.onmouseover=function (e) {
			me._video_url_popup_phone_play.material = me._video_url_popup_phone_play.userData.materialOver;
			me.elementMouseOver['video_url_popup_phone_play']=true;
		}
		me._video_url_popup_phone_play.userData.onmouseout=function (e) {
			me._video_url_popup_phone_play.material = me._video_url_popup_phone_play.userData.materialNormal;
			me.elementMouseOver['video_url_popup_phone_play']=false;
		}
		me._video_url_popup_phone_play.userData.ggUpdatePosition=function (useTransition) {
		}
		me._popup_phone.add(me._video_url_popup_phone_play);
		me.skinGroup.add(me._popup_phone);
		el.userData.ggId="local_fonts";
		me._local_fonts.userData.ggUpdatePosition=function (useTransition) {
		}
		me.skinGroup.add(me._local_fonts);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-2.825);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 170;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'controls_center';
		el.userData.x = 0;
		el.userData.y = -2.825;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.140);
		el.renderOrder = 14;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._controls_center.material) me._controls_center.material.opacity = v;
			me._controls_center.visible = (v>0 && me._controls_center.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._controls_center.visible
			let parentEl = me._controls_center.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._controls_center.userData.opacity = v;
			v = v * me._controls_center.userData.parentOpacity;
			me._controls_center.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_center.children.length; i++) {
				let child = me._controls_center.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._controls_center.userData.parentOpacity = v;
			v = v * me._controls_center.userData.opacity
			me._controls_center.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_center.children.length; i++) {
				let child = me._controls_center.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._controls_center = el;
		el.userData.ggId="controls_center";
		me._controls_center.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.7;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.175, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.175, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.175);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.175);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.175, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.175, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.175);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.175);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.175, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'controls_center_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'controls_center_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._controls_center_bg.material.opacity = v * me._controls_center_bg.userData.backgroundColorAlpha;
			if (me._controls_center_bg.userData.ggSubElement) {
				me._controls_center_bg.userData.ggSubElement.material.opacity = v
				me._controls_center_bg.userData.ggSubElement.visible = (v>0 && me._controls_center_bg.userData.visible);
			}
			me._controls_center_bg.visible = (v>0 && me._controls_center_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._controls_center_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._controls_center_bg.userData.backgroundColorAlpha = v;
			me._controls_center_bg.userData.setOpacity(me._controls_center_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.1);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 170;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'controls_center_bg';
		el.userData.x = 0;
		el.userData.y = 0.1;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._controls_center_bg.visible
			let parentEl = me._controls_center_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._controls_center_bg.userData.opacity = v;
			v = v * me._controls_center_bg.userData.parentOpacity;
			me._controls_center_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_center_bg.children.length; i++) {
				let child = me._controls_center_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._controls_center_bg.userData.parentOpacity = v;
			v = v * me._controls_center_bg.userData.opacity
			me._controls_center_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_center_bg.children.length; i++) {
				let child = me._controls_center_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._controls_center_bg = el;
		el.userData.ggId="controls_center_bg";
		me._controls_center_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.15, 0.15, 5, 5 );
		geometry.name = 'next_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAEoUlEQVRIicWWa2wUZRiFzzuzvUXDpQpY22kttERr25lta3cGMUJaEIQGDCmYaiqmRI3RCPGSkBATTTQxEklINEEQg0BqXCtUGiH0kmrF3Ro23V7SQNDa2SleijEKKLa7O68/aMnOt7vtwh+/n+ec733OO5lMBgDAgBTS9IOWZjQghfPTihWZIbf+pVmu16WST3QkBiRL1T8E8DSDj1qavm2mC0MlJenSn/+2gFFHElpDqr7llsCWZuwFoWlaYGB/SNV3JApzfb08J2NOMwGPTkkEQrPlNpoS5WcEA/ZwnEp4z3IbrzNADt3rtWGjT0wz8wFT87x0M2ACANNtNBLzx9eLOOzdStD3GgEcq5qasZ3AexLM26UE/W+L+aRgALDcnk3M1AwgzZngfUpf7/'+
	'ME2LGy5TaamHk/hKdChHfy+vw7Z4M7LlkVxhqO8jEQMmN1Bo7mz8vcSt3dkVg9pOpbQDgCwCXM/UAJ+l8UyyYFT23yMDO3Abjd6fDxiavZjxf/cHIiVjXL9TqS4AWQIYw6pMzL3CaWTQoGAEs1qpn4FID5gtWebv/z2F0DA3874G6jhphbAdzmqMpouRK+3FA6PDyZEhgArDKjjGVuB7BIsL4Ny+H1SwKBv2LFUc1YJoG/AjBXyJ+kLNqk+HzXUgIDwJhavdSWpA4wFIfBCMiu8JrcQOB3B1w13BLxaQB3CqO+zrom1y04f+ZKSmAAGHEvK3Cx3QGgSLCGbTlce08g8IsDXqHfJ9noAHC3kP+eJmmtMuz7IyUwAIxWVuZI0fR2gO8XrB+jQG1h0D8aK5plVYtJdnUAKHSkCYORMK9aPNT7W0pgABirrr7DnpRPAVwl'+
	'WrIt1+YOnDkfK1qqkQtwBxPuFfIX5Ei0JmXw9DAmHktgDSnFikZeb9SRv/6CDohhIuqSRDEptMTIZuIvElg/2xI2i9CLlQ/ms8wtcVDGOdhoTGnjkVLPIlcatYNRJlijHI3UFAyeHXGUrDCK2OZOAPmxOoOD6ZS+Oqev59KsG18sfUBxuegbEUqMc8S0XISGypeVcpR7EkB9NrJW5vT1XAIAeSaoVWEUMVE3gCVi80mWawoHfL86oO7qKhA6QVgglOzMDGetyxvsvjytJd14ujkDBQ6D4beRtbJo4LtxZ776IWapC0C2I084EZmfuX7hcPdVp5zgmBWeSrLptDiEiLoyJjI2iENCqmc1iI4DyBJKfjruCjdWBQJhkRG3sal6lpNNcc0JaIvMzVgXB9WMjSA6IUIZOKAsVZ5MBJ2aFwPVPKsI1BrXHPhsXA7HDbE0/Q'+
	'kGDiH+XdmjBP0vz/QzcGPjkGZsJFBbHJT4oFKsNIhQUzWeZeCwCGXmN2eDAlMbJ2tOjL15/f4d4p9ESPO8AtC78eP41fxg7+6ZgNNHMlXPMwwcEaEA3srr92+PhTJApup5IwGUmem5VKEAIBHIHdebeGd+0L8r7nHV10tEJH70o8TcWNDv25cqFACIAcnS9I8AbJ3CvpAf7H0/2YWzlZVpC6PpXoA3AIgQ02al33fsZqA3DtfXy5ZqfGJq+lOp5C8Urc0wVf3zkGo8ckvA//P8B7LY2Np5osJ9AAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'next_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.575);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 15;
		el.userData.height = 15;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'next';
		el.userData.x = 0.575;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._next.material) me._next.material.opacity = v;
			me._next.visible = (v>0 && me._next.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._next.visible
			let parentEl = me._next.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._next.userData.opacity = v;
			v = v * me._next.userData.parentOpacity;
			me._next.userData.setOpacityInternal(v);
			for (let i = 0; i < me._next.children.length; i++) {
				let child = me._next.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._next.userData.parentOpacity = v;
			v = v * me._next.userData.opacity
			me._next.userData.setOpacityInternal(v);
			for (let i = 0; i < me._next.children.length; i++) {
				let child = me._next.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._next = el;
		el.userData.ggId="next";
		me._next.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((me.elementMouseOver['next'] == true))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._next.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._next.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._next.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._next, 15, 0);
					var deltaX = (newPos.x - me._next.position.x) * 100.0;
					me._next.userData.transitionValue_posx = deltaX;
					for (var i = 0; i < me._next.userData.transitions.length; i++) {
						if (me._next.userData.transitions[i].property == 'posx') {
							clearInterval(me._next.userData.transitions[i].interval);
							me._next.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_posx = {};
					transition_posx.property = 'posx';
					transition_posx.startTime = Date.now();
					transition_posx.startX = me._next.position.x;
					transition_posx.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_posx.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._next.position.x = transition_posx.startX + ((me._next.userData.transitionValue_posx / 100.0) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_posx.interval);
							me._next.userData.transitions.splice(me._next.userData.transitions.indexOf(transition_posx), 1);
						}
					}, 20);
					me._next.userData.transitions.push(transition_posx);
					var deltaY = (newPos.y - me._next.position.y) * 100.0;
					me._next.userData.transitionValue_posy = deltaY;
					for (var i = 0; i < me._next.userData.transitions.length; i++) {
						if (me._next.userData.transitions[i].property == 'posy') {
							clearInterval(me._next.userData.transitions[i].interval);
							me._next.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_posy = {};
					transition_posy.property = 'posy';
					transition_posy.startTime = Date.now();
					transition_posy.startY = me._next.position.y;
					transition_posy.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_posy.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._next.position.y = transition_posy.startY + ((me._next.userData.transitionValue_posy / 100.0) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_posy.interval);
							me._next.userData.transitions.splice(me._next.userData.transitions.indexOf(transition_posy), 1);
						}
					}, 20);
					me._next.userData.transitions.push(transition_posy);
				}
				else {
					var elPos = skin.getElementVrPosition(me._next, 20, 0);
					var deltaX = (elPos.x - me._next.position.x) * 100.0;
					me._next.userData.transitionValue_posx = deltaX;
					for (var i = 0; i < me._next.userData.transitions.length; i++) {
						if (me._next.userData.transitions[i].property == 'posx') {
							clearInterval(me._next.userData.transitions[i].interval);
							me._next.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_posx = {};
					transition_posx.property = 'posx';
					transition_posx.startTime = Date.now();
					transition_posx.startX = me._next.position.x;
					transition_posx.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_posx.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._next.position.x = transition_posx.startX + ((me._next.userData.transitionValue_posx / 100.0) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_posx.interval);
							me._next.userData.transitions.splice(me._next.userData.transitions.indexOf(transition_posx), 1);
						}
					}, 20);
					me._next.userData.transitions.push(transition_posx);
					var deltaY = (elPos.y - me._next.position.y) * 100.0;
					me._next.userData.transitionValue_posy = deltaY;
					for (var i = 0; i < me._next.userData.transitions.length; i++) {
						if (me._next.userData.transitions[i].property == 'posy') {
							clearInterval(me._next.userData.transitions[i].interval);
							me._next.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_posy = {};
					transition_posy.property = 'posy';
					transition_posy.startTime = Date.now();
					transition_posy.startY = me._next.position.y;
					transition_posy.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_posy.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._next.position.y = transition_posy.startY + ((me._next.userData.transitionValue_posy / 100.0) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_posy.interval);
							me._next.userData.transitions.splice(me._next.userData.transitions.indexOf(transition_posy), 1);
						}
					}, 20);
					me._next.userData.transitions.push(transition_posy);
				}
			}
		}
		me._next.logicBlock_position();
		me._next.userData.onclick=function (e) {
			player.openNext("{"+player.getNextNode()+"}","");
		}
		me._next.userData.onmouseover=function (e) {
			me.elementMouseOver['next']=true;
			me._next.logicBlock_position();
		}
		me._next.userData.ontouchend=function (e) {
			me._next.logicBlock_position();
		}
		me._next.userData.onmouseout=function (e) {
			me.elementMouseOver['next']=false;
			me._next.logicBlock_position();
		}
		me._next.userData.ggUpdatePosition=function (useTransition) {
		}
		me._controls_center_bg.add(me._next);
		width = 0.3;
		height = 0.3;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.14, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.14, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.14);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.14);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.14, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.14, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.14);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.14);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.14, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'Rectangle 1_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'Rectangle 1_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.3;
		height = 0.3;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.01 + 0.15, (height / 2.0) + 0.01);
		borderShape.lineTo((width / 2.0) + 0.01 - 0.15, (height / 2.0) + 0.01);
		borderShape.quadraticCurveTo((width / 2.0) + 0.01, (height / 2.0) + 0.01, (width / 2.0) + 0.01, (height / 2.0) + 0.01 - 0.15);
		borderShape.lineTo((width / 2.0) + 0.01, (-height / 2.0) - 0.01 + 0.15);
		borderShape.quadraticCurveTo((width / 2.0) + 0.01, (-height / 2.0) - 0.01, (width / 2.0) + 0.01 - 0.15, (-height / 2.0) - 0.01);
		borderShape.lineTo((-width / 2.0) - 0.01 + 0.15, (-height / 2.0) - 0.01);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.01, (-height / 2.0) - 0.01, (-width / 2.0) - 0.01, (-height / 2.0) - 0.01 + 0.15);
		borderShape.lineTo((-width / 2.0) - 0.01, (height / 2.0) + 0.01 - 0.15);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.01, (height / 2.0) + 0.01, (-width / 2.0) - 0.01 + 0.15, (height / 2.0) + 0.01);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.14, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.14, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.14);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.14);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.14, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.14, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.14);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.14);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.14, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'Rectangle 1_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(255,0,0,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'Rectangle 1_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'Rectangle 1_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._rectangle_1.material.opacity = v * me._rectangle_1.userData.backgroundColorAlpha;
			me._rectangle_1.userData.border.material.opacity = v * me._rectangle_1.userData.borderColorAlpha;
			if (me._rectangle_1.userData.ggSubElement) {
				me._rectangle_1.userData.ggSubElement.material.opacity = v
				me._rectangle_1.userData.ggSubElement.visible = (v>0 && me._rectangle_1.userData.visible);
			}
			me._rectangle_1.visible = (v>0 && me._rectangle_1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._rectangle_1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._rectangle_1.userData.backgroundColorAlpha = v;
			me._rectangle_1.userData.setOpacity(me._rectangle_1.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._rectangle_1.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._rectangle_1.userData.borderColorAlpha = v;
			me._rectangle_1.userData.setOpacity(me._rectangle_1.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 30;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Rectangle 1';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._rectangle_1.visible
			let parentEl = me._rectangle_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._rectangle_1.userData.opacity = v;
			v = v * me._rectangle_1.userData.parentOpacity;
			me._rectangle_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rectangle_1.children.length; i++) {
				let child = me._rectangle_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._rectangle_1.userData.parentOpacity = v;
			v = v * me._rectangle_1.userData.opacity
			me._rectangle_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rectangle_1.children.length; i++) {
				let child = me._rectangle_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._rectangle_1 = el;
		el.userData.ggId="Rectangle 1";
		me._rectangle_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'pause_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAA+0lEQVRYhe2YIQ7CQBBF/2xahwASJBJTAwTFAbhELwJHgIv0EhwARQCDQVaSUASuzQ4Ct+nAkjEV8+Tf9M/LTtUChg6SDq7D2Yo8Lb1jJ37sUaUNFZPX6d52fuvNR3XCOTsMpA7nybPjQ/Y476MFr4PpGqCtVBpUlGmNRSh5681HdYojwOO4Ht5k1WUXpsLt0CauFAB4XCech+kni5WTZ0rr68cXA20r/LbWf2aK/1dXMEEtJqjFBLWYoBYT1GKCWkxQiwlqMUEtJqjFBLWYoBYT1GKCWiTB5z8l5FHFZD9onSkIcuTjJQBQmTZUhOknozK+p31m55+ADS1vbcdVRpZ8EV0AAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'pause_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'pause';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._pause.material) me._pause.material.opacity = v;
			me._pause.visible = (v>0 && me._pause.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._pause.visible
			let parentEl = me._pause.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._pause.userData.opacity = v;
			v = v * me._pause.userData.parentOpacity;
			me._pause.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pause.children.length; i++) {
				let child = me._pause.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._pause.userData.parentOpacity = v;
			v = v * me._pause.userData.opacity
			me._pause.userData.setOpacityInternal(v);
			for (let i = 0; i < me._pause.children.length; i++) {
				let child = me._pause.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._pause = el;
		el.userData.ggId="pause";
		me._pause.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getIsAutorotating() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._pause.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._pause.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._pause.ggCurrentLogicStateVisible == 0) {
			me._pause.visible=((!me._pause.material && Number(me._pause.userData.opacity>0)) || Number(me._pause.material.opacity)>0)?true:false;
			me._pause.userData.visible=true;
				}
				else {
			me._pause.visible=false;
			me._pause.userData.visible=false;
				}
			}
		}
		me._pause.logicBlock_visible();
		me._pause.userData.onclick=function (e) {
			player.pauseAutorotate();
		}
		me._pause.userData.ggUpdatePosition=function (useTransition) {
		}
		me._rectangle_1.add(me._pause);
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'play_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAC1klEQVRYhc2XT0gUYRjGn/eblXQJ3VkjqSAKQtpxbGcVEjqEh65RF+nSISgt0EsQUoSXLtLFS/8kCE9dIpLoWJQoEaTrTuvuTJQgBBFB62wF/t95O0SWs6u5uzOz+xzfed9nfjzf8H3fEBya2a02iVVpjED7ATyxIV1XrfgnZ59fEs5CYCVwiUCHAQQBnBXIpU052scFev1Q3ksZaHGUdjLolilrEzONbRGfuNaVD0hUv0nvMcm2E0YoNjCF9hqPudZV7LLtAPGNoGzHU43Ro54QOVTid8WtwqY3RkgbmtrTHnQXaaPK+fAFCJeDS7mU0Rg74RpR3kvK10HY/Dwd1kaSDa2yC34b5NrWQYxzAZLMdFjrcssTcHtvIzQR45Eha6Pvd8X2umHp1eZ72s'+
	'6xYYa1bgaoHCMvT4cGZtw3Ze1lqr7tUKkmfhxfnUKyk4as9TO6pGKH/Tpf6wDcNOXZt6mQphUz6PMFgNsEYTItRwfnDnTWbmeiEjeUAIGuLmaz74xQ7Pj/mityhQIAEJpBPGbKseGP4Y7NLigVBPwtYvDFVV42TPnIyUINlQb8o30M8bTQklcLIAAQiHudxWoCLKhqAmSGfdtZrBbAzwT7VIuVnHA+qDQgAzxcQzuUiJV8Vqgh4DfRuhgfAOpWsvr4Vm2VSHCNgcG6UCiqZBNbwgG+J8hxm+mCmtV1WNub8CvBRQD9Eau5Q83qejGDnifIwCvOiR71x/QsUBQbAG8Bv4NwRZnXHxDApZp4A0gYhZB6lW/xL+VauQvI+GoL6lPnE4/dsnTvv5gwssa5iJtwgDsJzkFQTySTeOGCV57KSTDHTEMLtZKqeAQHlJwgzdiC'+
	'z6uZxCSy7gI5VWyCy2AeWLBEu5rRJz0hcigvQULhTBh4bQvR3ZqZNr3H+qsCS8xxAGf+KfwEcE2x9LvlbLilKm+J7cDKPQDjAC8R8NCGpCqWfqcScADwCyF53ulGjKEUAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'play_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.02);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'play';
		el.userData.x = 0.02;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._play.material) me._play.material.opacity = v;
			me._play.visible = (v>0 && me._play.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._play.visible
			let parentEl = me._play.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._play.userData.opacity = v;
			v = v * me._play.userData.parentOpacity;
			me._play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._play.children.length; i++) {
				let child = me._play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._play.userData.parentOpacity = v;
			v = v * me._play.userData.opacity
			me._play.userData.setOpacityInternal(v);
			for (let i = 0; i < me._play.children.length; i++) {
				let child = me._play.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._play = el;
		el.userData.ggId="play";
		me._play.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getIsAutorotating() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._play.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._play.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._play.ggCurrentLogicStateVisible == 0) {
			me._play.visible=false;
			me._play.userData.visible=false;
				}
				else {
			me._play.visible=((!me._play.material && Number(me._play.userData.opacity>0)) || Number(me._play.material.opacity)>0)?true:false;
			me._play.userData.visible=true;
				}
			}
		}
		me._play.logicBlock_visible();
		me._play.userData.onclick=function (e) {
			player.startAutorotate(0.05);
		}
		me._play.userData.ggUpdatePosition=function (useTransition) {
		}
		me._rectangle_1.add(me._play);
		me._controls_center_bg.add(me._rectangle_1);
		geometry = new THREE.PlaneBufferGeometry(0.15, 0.15, 5, 5 );
		geometry.name = 'prev_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAEpUlEQVRIia2Xb2xTZRTGn/PedWwRMFOYf0bbKRJII+utNeu9Q+fEAYqYkC0VRUE+SHT+yRKNRhP5IInEmKgYE2PmlASIhhUSCAE0A5VMXG+20XbiyNwia+/URNEwleG23nv8wMDb93asI56Pz3lyfue8b/PeU+AqIxPUV6WD2t6B2x6YVZBf1TaZQX0nR6MKAIirgZpBrQHEh4jQOGv2uT3d4bDnyn79OQA7mHiDOWB+xICgmULTocgGYtoBQHHIbd5F3vUUi1kuv6q/SuBtOSLjwxlNnAlpTcS0U4KCgdOIxWxJo4wa2eaCAmBwouCJTVV/icFvuRKMF32p+DsSVGSC2nYiPC+5LQJt9CY7P50WzACZIW0rGK/JKWZ+2p8yWnLEaFQxB8xWAJsk/z'+
	'jAD/uSxgEAuCKYARpW9XcZ3DxV507xVCBQPLd4zm6AopJ/lMFr/Umj/ZKgYIrgaFQxPXNbQGjK03nUl4zvdYqmrpeWcMk+AGsl/58M3O9PGl87xbwTd4fDnnLbswuMddN1DgC/LV42Z7TUOkDAvZL/d9vGysre+EmZ4QKfqasrKTr3T4yBNa7OmR/0p4xvnGJ66V1lpGSPAIhIpX9hzq7wp7q+zzdczlH/GqibzdmxgwyskjtnwSv8ScNwioNVNeVFinUMQFiaJg1F1PkTRn8+6KTH0bnIHgZBK6Tz4arIAkvgKIEWO3UG9ys26hf0GsNTQYHJJ3OwqqYcysSXMpSANAnUytBMuGahLahDhgLonbCV2umgAEBmUK8A+CgTlki5H5SsVV9xqst0iulQJEAsjgJ8k+Q3aJxWe/s6/5gOCgDCJt6VBwrYolGGcjSqEIu2'+
	'PFAQU2OhUAAQRVnrCQADrkJkxy6ehkOLxSzFFo0AXEfJhP3D1dXXFwyuONVlWh6rFoTvpEJLmLhjqKr6Fqde0Xui3wLuBuhHCX2nPa4cHwqHXaeRLy7/qs2Afh0X8xEA1ZLnZ1ugvvJk/LRTzISW3Qy22gEEJP9glkT9rYlv0wWBgYsv0IVS6yCAeyTfWZtpZWWqM+EUfwqH51m25wsw7pCqmsR8nzdpuK7wUuR8j+f3n/hLUSZWg/G55JsniL8aDtXoTrGip+fshJhYDuBEjpvhZVCHuVRfWhB4stjo2PmytczYJ6WutdluH6qqXu4UF/b0jBTbo6sAtEv+G1jh42ZQl68uPxgAFg0eGfOVlTwC8E4pdY0Q4nA6qOe84zf29p4f+7vsIYD3S/4yJj6WCdXUyozpvsfCVLX3ATwjpbJgPO5Lxfc4xe5w2DPf8uwg4D'+
	'HJf4EENXhPdl6+woI2kIyqvUnAy3KKiDZ7E50fu5oNRT4A01OSf4KIH/UmjH1AAestAexLxl8BXKsPMXNrWo00S37bmzCawHhb8nuYqS0d0jdO+gqPtBppJtB2V4KxxZuKv0EA/yeBhkP6FmZ+3V2Jn53ReutPGu8R0ZNwACYhKqLRnFoEsDfRuRWMF9yVRGDGCz0AZILaOhA+A0AEOjQyPtJwe1/f+FR+U9U2M9Ay2WSrLxmX77/wSAf1NRlVO3Cmrq6kEL+p6uszqvYJX+Xfpv8t/gUm1eeJ06pk4QAAAABJRU5ErkJggg==');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'prev_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.575);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 15;
		el.userData.height = 15;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'prev';
		el.userData.x = -0.575;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 1;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._prev.material) me._prev.material.opacity = v;
			me._prev.visible = (v>0 && me._prev.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._prev.visible
			let parentEl = me._prev.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._prev.userData.opacity = v;
			v = v * me._prev.userData.parentOpacity;
			me._prev.userData.setOpacityInternal(v);
			for (let i = 0; i < me._prev.children.length; i++) {
				let child = me._prev.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._prev.userData.parentOpacity = v;
			v = v * me._prev.userData.opacity
			me._prev.userData.setOpacityInternal(v);
			for (let i = 0; i < me._prev.children.length; i++) {
				let child = me._prev.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._prev = el;
		el.userData.ggId="prev";
		me._prev.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((me.elementMouseOver['prev'] == true))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._prev.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._prev.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._prev.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._prev, 15, 0);
					var deltaX = (newPos.x - me._prev.position.x) * 100.0;
					me._prev.userData.transitionValue_posx = deltaX;
					for (var i = 0; i < me._prev.userData.transitions.length; i++) {
						if (me._prev.userData.transitions[i].property == 'posx') {
							clearInterval(me._prev.userData.transitions[i].interval);
							me._prev.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_posx = {};
					transition_posx.property = 'posx';
					transition_posx.startTime = Date.now();
					transition_posx.startX = me._prev.position.x;
					transition_posx.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_posx.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._prev.position.x = transition_posx.startX + ((me._prev.userData.transitionValue_posx / 100.0) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_posx.interval);
							me._prev.userData.transitions.splice(me._prev.userData.transitions.indexOf(transition_posx), 1);
						}
					}, 20);
					me._prev.userData.transitions.push(transition_posx);
					var deltaY = (newPos.y - me._prev.position.y) * 100.0;
					me._prev.userData.transitionValue_posy = deltaY;
					for (var i = 0; i < me._prev.userData.transitions.length; i++) {
						if (me._prev.userData.transitions[i].property == 'posy') {
							clearInterval(me._prev.userData.transitions[i].interval);
							me._prev.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_posy = {};
					transition_posy.property = 'posy';
					transition_posy.startTime = Date.now();
					transition_posy.startY = me._prev.position.y;
					transition_posy.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_posy.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._prev.position.y = transition_posy.startY + ((me._prev.userData.transitionValue_posy / 100.0) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_posy.interval);
							me._prev.userData.transitions.splice(me._prev.userData.transitions.indexOf(transition_posy), 1);
						}
					}, 20);
					me._prev.userData.transitions.push(transition_posy);
				}
				else {
					var elPos = skin.getElementVrPosition(me._prev, 20, 0);
					var deltaX = (elPos.x - me._prev.position.x) * 100.0;
					me._prev.userData.transitionValue_posx = deltaX;
					for (var i = 0; i < me._prev.userData.transitions.length; i++) {
						if (me._prev.userData.transitions[i].property == 'posx') {
							clearInterval(me._prev.userData.transitions[i].interval);
							me._prev.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_posx = {};
					transition_posx.property = 'posx';
					transition_posx.startTime = Date.now();
					transition_posx.startX = me._prev.position.x;
					transition_posx.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_posx.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._prev.position.x = transition_posx.startX + ((me._prev.userData.transitionValue_posx / 100.0) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_posx.interval);
							me._prev.userData.transitions.splice(me._prev.userData.transitions.indexOf(transition_posx), 1);
						}
					}, 20);
					me._prev.userData.transitions.push(transition_posx);
					var deltaY = (elPos.y - me._prev.position.y) * 100.0;
					me._prev.userData.transitionValue_posy = deltaY;
					for (var i = 0; i < me._prev.userData.transitions.length; i++) {
						if (me._prev.userData.transitions[i].property == 'posy') {
							clearInterval(me._prev.userData.transitions[i].interval);
							me._prev.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_posy = {};
					transition_posy.property = 'posy';
					transition_posy.startTime = Date.now();
					transition_posy.startY = me._prev.position.y;
					transition_posy.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_posy.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._prev.position.y = transition_posy.startY + ((me._prev.userData.transitionValue_posy / 100.0) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_posy.interval);
							me._prev.userData.transitions.splice(me._prev.userData.transitions.indexOf(transition_posy), 1);
						}
					}, 20);
					me._prev.userData.transitions.push(transition_posy);
				}
			}
		}
		me._prev.logicBlock_position();
		me._prev.userData.onclick=function (e) {
			player.openNext("{"+player.getPrevNode()+"}","");
		}
		me._prev.userData.onmouseover=function (e) {
			me.elementMouseOver['prev']=true;
			me._prev.logicBlock_position();
		}
		me._prev.userData.ontouchend=function (e) {
			me._prev.logicBlock_position();
		}
		me._prev.userData.onmouseout=function (e) {
			me.elementMouseOver['prev']=false;
			me._prev.logicBlock_position();
		}
		me._prev.userData.ggUpdatePosition=function (useTransition) {
		}
		me._controls_center_bg.add(me._prev);
		me._controls_center.add(me._controls_center_bg);
		me.skinGroup.add(me._controls_center);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-3.5);
		el.translateY(-2.75);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'controls_left';
		el.userData.x = -3.5;
		el.userData.y = -2.75;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.150);
		el.renderOrder = 15;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._controls_left.material) me._controls_left.material.opacity = v;
			me._controls_left.visible = (v>0 && me._controls_left.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._controls_left.visible
			let parentEl = me._controls_left.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._controls_left.userData.opacity = v;
			v = v * me._controls_left.userData.parentOpacity;
			me._controls_left.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_left.children.length; i++) {
				let child = me._controls_left.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._controls_left.userData.parentOpacity = v;
			v = v * me._controls_left.userData.opacity
			me._controls_left.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_left.children.length; i++) {
				let child = me._controls_left.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._controls_left = el;
		el.userData.ggId="controls_left";
		me._controls_left.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.3;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.15, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.15, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.15);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.15);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.15, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.15, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.15);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.15);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.15, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'controls_left_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'controls_left_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._controls_left_bg.material.opacity = v * me._controls_left_bg.userData.backgroundColorAlpha;
			if (me._controls_left_bg.userData.ggSubElement) {
				me._controls_left_bg.userData.ggSubElement.material.opacity = v
				me._controls_left_bg.userData.ggSubElement.visible = (v>0 && me._controls_left_bg.userData.visible);
			}
			me._controls_left_bg.visible = (v>0 && me._controls_left_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._controls_left_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._controls_left_bg.userData.backgroundColorAlpha = v;
			me._controls_left_bg.userData.setOpacity(me._controls_left_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'controls_left_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._controls_left_bg.visible
			let parentEl = me._controls_left_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._controls_left_bg.userData.opacity = v;
			v = v * me._controls_left_bg.userData.parentOpacity;
			me._controls_left_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_left_bg.children.length; i++) {
				let child = me._controls_left_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._controls_left_bg.userData.parentOpacity = v;
			v = v * me._controls_left_bg.userData.opacity
			me._controls_left_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_left_bg.children.length; i++) {
				let child = me._controls_left_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._controls_left_bg = el;
		el.userData.ggId="controls_left_bg";
		me._controls_left_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0.14);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'toggle_audio';
		el.userData.x = 0.14;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._toggle_audio.material) me._toggle_audio.material.opacity = v;
			me._toggle_audio.visible = (v>0 && me._toggle_audio.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._toggle_audio.visible
			let parentEl = me._toggle_audio.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._toggle_audio.userData.opacity = v;
			v = v * me._toggle_audio.userData.parentOpacity;
			me._toggle_audio.userData.setOpacityInternal(v);
			for (let i = 0; i < me._toggle_audio.children.length; i++) {
				let child = me._toggle_audio.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._toggle_audio.userData.parentOpacity = v;
			v = v * me._toggle_audio.userData.opacity
			me._toggle_audio.userData.setOpacityInternal(v);
			for (let i = 0; i < me._toggle_audio.children.length; i++) {
				let child = me._toggle_audio.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._toggle_audio = el;
		el.userData.ggId="toggle_audio";
		me._toggle_audio.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getHasSounds() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._toggle_audio.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._toggle_audio.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._toggle_audio.ggCurrentLogicStateVisible == 0) {
			me._toggle_audio.visible=((!me._toggle_audio.material && Number(me._toggle_audio.userData.opacity>0)) || Number(me._toggle_audio.material.opacity)>0)?true:false;
			me._toggle_audio.userData.visible=true;
				}
				else {
			me._toggle_audio.visible=false;
			me._toggle_audio.userData.visible=false;
				}
			}
		}
		me._toggle_audio.logicBlock_visible();
		me._toggle_audio.userData.onclick=function (e) {
			player.setVariableValue('toggle_audio', !player.getVariableValue('toggle_audio'));
			player.playPauseSound("_background","1");
		}
		me._toggle_audio.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'audio_off_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAG8ElEQVRYhe2Ye4xUVx3HP79zZxcqm1qgWwTbnbswzMxWipadfYBKd4vQ0qSpNWnqIxWTRg0IhsSSGKtJa/CPKvaRglCN2j+soTFGk9oiVh4+KsPODC0Ul50Bd2Y3WxBaHtIldnfm3p9/zOzuvTuzu7PEYGL6S24y53t+v9/53HPueQ28b//nJgCpYOROFcKFgPPL9lOnLl+Lho+EQvVOwbwAcocq32/tS3+nkp9JBSN3usI+hZ1WwYonbwktuhaAhULgfpDVKMMifDtphz9dEdCFRk+5SS2rK2FHO6ptKBlsWpawIy8n7Mj+ZLBpfrVxRnUxAEIdgCI/Prpo0U1lfrXvzditsN+jzUH11S47+pUp4RqjaxT3T8A9QCfo49UCOkZ/gVLwSPV5p2aXlj'+
	'67UcCPnj12xcytu1th56gqBAR9rsuOPHOgoyNQEc6OrlNXXx7pAQAVllYL2JbNHAUe82qK3p9sjNzrAwSIpVL51lx6A6obAWeMk6/Pyp353eu2fcNYEiQRjDyq6PMIAaBHhBeqBfPaYOP8JxSN+0SXLWWAI9bSl9mBmLXAJQ/kXQVmHEotujV0oKMjkLQjOxG2lipfyxesjyvkJgPpWhhu6bLDz8cbQrd69c6DBwtqzDo8nYLwiZTd1F4REKAle+JVhHaBkx456jqFRF32zJ+BrxbzyG/y+SurVwx0X5gMLhEMrxVXugRZZxnr+PhvrK23J6PwoldzxX1kQsAiZDpd69a2IewbU+UGhOUAqD7bm+t5YMXAwL8ngyu2IA97SpKyo18sd3J/4CsqnxmZ0RUBAZb2v3lR5tStnej7qu/okEr6VKbok/FQ6Hqv1po7+Ya/'+
	'M5Ahx+oECCTsyGbgIWCux6EGpVbPD95YsRWRTXW5M5HXbfvB23O5SxV9SlZQeSSArgU+UJLmBJzAOuDZcUl/C7pqpGTUrAJeNMBTwDIg6HkWIHjhLou4W/BMHmBNgRnx+MKmxZMBLs/15ADf+qiqG8d/i45T2O/zkSLshEPssdNG+GQse3Kba6QNyHjqIsZ1DwvYkyVwAs4u4F2PFD4SXBz1+rT1nzoBetYjLYyHQjePARb34ydQkh6nI2Ks5c3Z9DEozrgZbm07Kn8cC2M2rn5uMsDSAeRXXk3F3OEtS3GJ7fJp+cAto4BG5OnWXPqbCO+UAo7GculYrLe73xu0tP/Ni3LjrHsQ2THWmBgAxbUn2nkQPegtumj7eBdVvD2IEb3JN8SJRU1LgLsBXGFb8a3KLZZK5VuyPRsFNuDbeWReXe70K8cabptdFuS6x8cRf6'+
	'jsHYye8wEj83yA4jjfKNUMmDl1vsWzImguvVNdvUvR9zxZVg+Z4bLJI1bteV8Z6ssSqrztLfp60HFZoMgXisHydCyVyk8FCNDan9mHkZ+Pk8PGdQ93NYRHlw1XhsaPRtkE1XEj5qqaUSdR3QTUAJcLNYWfVAM3Fktpu9N/jWowW4zsTdqR9QA4Zq4vSOWdsjzi71WDnPPO4iWl13juqo/9YqVR3e5RLIUfJRqj27Gsj/md9UxZuCu+A6uqvF0240S0PtEY2TpSzud154qBzFtVAapqS19mU9KO/F1hO2CV9K9JgdP+pVkPl4WL+iaOMe65Ct+BfAnl0ZGnxpJ4aXZXbbFcepdR1ihcHBWFBX4v92/+dhGFNj9woG/qnUS4Gcf963TuKQDNfen9rjFtQLo8pb4V6zv1hlc7ElwcFfAOcTbW291vVGQLE5p0AueBD4Lu'+
	'7bLDD04Hsr33xMla4b4KeecnguH1XmX8zgIcAAi0Znu2AdsmauTwwugK4+rvgUZBdieD4Q/H+jJPVgs5DLeN1xSMiOxINkY+wpy6zbFUKq/ge3nV4kVuyiFu6+3JOFKzfGSPVpEfJuzIU1rdQQOjZsBPpzr2kw16YXBPV2PTSqDD4+Ug1r6qAAHas8fPXjfL6gReKUmbE8HI7gO2PXOq2GW5E/7ZKnJR0bGTuLJK1HnJ5wK/bs11/7NqQIAl3d2Dg/b8+xB+WmyHB+qYubfivutvTFtyafE8cy0rsBTo8Xj5TtiuyjMjv6sGhOItLJZNfxn0saKiK4fM8Gu4NEwnT/M/uk8FGFoO/KFCdX9LX8+hqwKEkR7JPI7yMMWTTBPCQ9PNc3sud0mM7K1Q1ZCwIzuSzc01VwU4Yi196Z+hei9wZVQUPT5xhN+OhEL16urWSn'+
	'UC6/XC4J6j85bOumrAImRmj8F8SuEvwCE1har/m9HhQANwnUd6F3TszqOsGp459NnKp99pWHPuRBxYOd0413IttLg5C5x0he9aJhB3HeclIApgIHtVd9v/liWC0W8h+j2EaCybzghoPBS6PlCwPo+SjvWlD/wv+d63a2L/AZQfpsg/THiAAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'audio_off_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.06);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'audio_off';
		el.userData.x = 0.06;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._audio_off.material) me._audio_off.material.opacity = v;
			me._audio_off.visible = (v>0 && me._audio_off.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._audio_off.visible
			let parentEl = me._audio_off.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._audio_off.userData.opacity = v;
			v = v * me._audio_off.userData.parentOpacity;
			me._audio_off.userData.setOpacityInternal(v);
			for (let i = 0; i < me._audio_off.children.length; i++) {
				let child = me._audio_off.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._audio_off.userData.parentOpacity = v;
			v = v * me._audio_off.userData.opacity
			me._audio_off.userData.setOpacityInternal(v);
			for (let i = 0; i < me._audio_off.children.length; i++) {
				let child = me._audio_off.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._audio_off = el;
		el.userData.ggId="audio_off";
		me._audio_off.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['audio_off'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._audio_off.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._audio_off.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._audio_off.ggCurrentLogicStateScaling == 0) {
					me._audio_off.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._audio_off.position.x = (me._audio_off.position.x - me._audio_off.userData.curScaleOffX) + scaleOffX;
					me._audio_off.userData.curScaleOffX = scaleOffX;
					me._audio_off.position.y = (me._audio_off.position.y - me._audio_off.userData.curScaleOffY) + scaleOffY;
					me._audio_off.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._audio_off.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._audio_off.position.x = (me._audio_off.position.x - me._audio_off.userData.curScaleOffX) + scaleOffX;
					me._audio_off.userData.curScaleOffX = scaleOffX;
					me._audio_off.position.y = (me._audio_off.position.y - me._audio_off.userData.curScaleOffY) + scaleOffY;
					me._audio_off.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._audio_off.logicBlock_scaling();
		me._audio_off.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('toggle_audio') == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._audio_off.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._audio_off.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._audio_off.ggCurrentLogicStateVisible == 0) {
			me._audio_off.visible=((!me._audio_off.material && Number(me._audio_off.userData.opacity>0)) || Number(me._audio_off.material.opacity)>0)?true:false;
			me._audio_off.userData.visible=true;
				}
				else {
			me._audio_off.visible=false;
			me._audio_off.userData.visible=false;
				}
			}
		}
		me._audio_off.logicBlock_visible();
		me._audio_off.userData.onmouseover=function (e) {
			me.elementMouseOver['audio_off']=true;
			me._audio_off.logicBlock_scaling();
		}
		me._audio_off.userData.ontouchend=function (e) {
			me._audio_off.logicBlock_scaling();
		}
		me._audio_off.userData.onmouseout=function (e) {
			me.elementMouseOver['audio_off']=false;
			me._audio_off.logicBlock_scaling();
		}
		me._audio_off.userData.ggUpdatePosition=function (useTransition) {
		}
		me._toggle_audio.add(me._audio_off);
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'audio_on_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'audio_on_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.06);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'audio_on';
		el.userData.x = 0.06;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._audio_on.material) me._audio_on.material.opacity = v;
			me._audio_on.visible = (v>0 && me._audio_on.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._audio_on.visible
			let parentEl = me._audio_on.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._audio_on.userData.opacity = v;
			v = v * me._audio_on.userData.parentOpacity;
			me._audio_on.userData.setOpacityInternal(v);
			for (let i = 0; i < me._audio_on.children.length; i++) {
				let child = me._audio_on.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._audio_on.userData.parentOpacity = v;
			v = v * me._audio_on.userData.opacity
			me._audio_on.userData.setOpacityInternal(v);
			for (let i = 0; i < me._audio_on.children.length; i++) {
				let child = me._audio_on.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._audio_on = el;
		el.userData.ggId="audio_on";
		me._audio_on.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['audio_on'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._audio_on.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._audio_on.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._audio_on.ggCurrentLogicStateScaling == 0) {
					me._audio_on.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._audio_on.position.x = (me._audio_on.position.x - me._audio_on.userData.curScaleOffX) + scaleOffX;
					me._audio_on.userData.curScaleOffX = scaleOffX;
					me._audio_on.position.y = (me._audio_on.position.y - me._audio_on.userData.curScaleOffY) + scaleOffY;
					me._audio_on.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._audio_on.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._audio_on.position.x = (me._audio_on.position.x - me._audio_on.userData.curScaleOffX) + scaleOffX;
					me._audio_on.userData.curScaleOffX = scaleOffX;
					me._audio_on.position.y = (me._audio_on.position.y - me._audio_on.userData.curScaleOffY) + scaleOffY;
					me._audio_on.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._audio_on.logicBlock_scaling();
		me._audio_on.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('toggle_audio') == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._audio_on.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._audio_on.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._audio_on.ggCurrentLogicStateVisible == 0) {
			me._audio_on.visible=false;
			me._audio_on.userData.visible=false;
				}
				else {
			me._audio_on.visible=((!me._audio_on.material && Number(me._audio_on.userData.opacity>0)) || Number(me._audio_on.material.opacity)>0)?true:false;
			me._audio_on.userData.visible=true;
				}
			}
		}
		me._audio_on.logicBlock_visible();
		me._audio_on.userData.onmouseover=function (e) {
			me.elementMouseOver['audio_on']=true;
			me._audio_on.logicBlock_scaling();
		}
		me._audio_on.userData.ontouchend=function (e) {
			me._audio_on.logicBlock_scaling();
		}
		me._audio_on.userData.onmouseout=function (e) {
			me.elementMouseOver['audio_on']=false;
			me._audio_on.logicBlock_scaling();
		}
		me._audio_on.userData.ggUpdatePosition=function (useTransition) {
		}
		me._toggle_audio.add(me._audio_on);
		me._controls_left_bg.add(me._toggle_audio);
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'setting_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'setting_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-0.2);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'setting';
		el.userData.x = -0.2;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 1;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._setting.material) me._setting.material.opacity = v;
			me._setting.visible = (v>0 && me._setting.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._setting.visible
			let parentEl = me._setting.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._setting.userData.opacity = v;
			v = v * me._setting.userData.parentOpacity;
			me._setting.userData.setOpacityInternal(v);
			for (let i = 0; i < me._setting.children.length; i++) {
				let child = me._setting.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._setting.userData.parentOpacity = v;
			v = v * me._setting.userData.opacity
			me._setting.userData.setOpacityInternal(v);
			for (let i = 0; i < me._setting.children.length; i++) {
				let child = me._setting.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._setting = el;
		el.userData.ggId="setting";
		me._setting.logicBlock_angle = function() {
			var newLogicStateAngle;
			if (
				((me.elementMouseOver['setting'] == true))
			)
			{
				newLogicStateAngle = 0;
			}
			else {
				newLogicStateAngle = -1;
			}
			if (me._setting.ggCurrentLogicStateAngle != newLogicStateAngle) {
				me._setting.ggCurrentLogicStateAngle = newLogicStateAngle;
				if (me._setting.ggCurrentLogicStateAngle == 0) {
					me._setting.userData.transitionValue_angle = 360;
					for (var i = 0; i < me._setting.userData.transitions.length; i++) {
						if (me._setting.userData.transitions[i].property == 'angle') {
							clearInterval(me._setting.userData.transitions[i].interval);
							me._setting.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_angle = {};
					transition_angle.property = 'angle';
					transition_angle.startTime = Date.now();
					transition_angle.startAngle = me._setting.rotation.z;
					transition_angle.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_angle.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._setting.rotation.z = transition_angle.startAngle + (-THREE.Math.degToRad(me._setting.userData.transitionValue_angle) - transition_angle.startAngle) * tfval;
						if (percentDone >= 1.0) {
							clearInterval(transition_angle.interval);
							me._setting.userData.transitions.splice(me._setting.userData.transitions.indexOf(transition_angle), 1);
						}
					}, 20);
					me._setting.userData.transitions.push(transition_angle);
				}
				else {
					me._setting.userData.transitionValue_angle = 0;
					for (var i = 0; i < me._setting.userData.transitions.length; i++) {
						if (me._setting.userData.transitions[i].property == 'angle') {
							clearInterval(me._setting.userData.transitions[i].interval);
							me._setting.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_angle = {};
					transition_angle.property = 'angle';
					transition_angle.startTime = Date.now();
					transition_angle.startAngle = me._setting.rotation.z;
					transition_angle.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_angle.startTime) / 100;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._setting.rotation.z = transition_angle.startAngle + (-THREE.Math.degToRad(me._setting.userData.transitionValue_angle) - transition_angle.startAngle) * tfval;
						if (percentDone >= 1.0) {
							clearInterval(transition_angle.interval);
							me._setting.userData.transitions.splice(me._setting.userData.transitions.indexOf(transition_angle), 1);
						}
					}, 20);
					me._setting.userData.transitions.push(transition_angle);
				}
			}
		}
		me._setting.logicBlock_angle();
		me._setting.userData.onclick=function (e) {
			player.setVariableValue('vis_control_left_vertical', !player.getVariableValue('vis_control_left_vertical'));
		}
		me._setting.userData.onmouseover=function (e) {
			me.elementMouseOver['setting']=true;
			me._setting.logicBlock_angle();
		}
		me._setting.userData.ontouchend=function (e) {
			me._setting.logicBlock_angle();
		}
		me._setting.userData.onmouseout=function (e) {
			me.elementMouseOver['setting']=false;
			me._setting.logicBlock_angle();
		}
		me._setting.userData.ggUpdatePosition=function (useTransition) {
		}
		me._controls_left_bg.add(me._setting);
		me._controls_left.add(me._controls_left_bg);
		me.skinGroup.add(me._controls_left);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-3.725);
		el.translateY(-1.75);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 35;
		el.userData.height = 134;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'control_left_vertical';
		el.userData.x = -3.725;
		el.userData.y = -1.75;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.160);
		el.renderOrder = 16;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._control_left_vertical.material) me._control_left_vertical.material.opacity = v;
			me._control_left_vertical.visible = (v>0 && me._control_left_vertical.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._control_left_vertical.visible
			let parentEl = me._control_left_vertical.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._control_left_vertical.userData.opacity = v;
			v = v * me._control_left_vertical.userData.parentOpacity;
			me._control_left_vertical.userData.setOpacityInternal(v);
			for (let i = 0; i < me._control_left_vertical.children.length; i++) {
				let child = me._control_left_vertical.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._control_left_vertical.userData.parentOpacity = v;
			v = v * me._control_left_vertical.userData.opacity
			me._control_left_vertical.userData.setOpacityInternal(v);
			for (let i = 0; i < me._control_left_vertical.children.length; i++) {
				let child = me._control_left_vertical.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._control_left_vertical = el;
		el.userData.ggId="control_left_vertical";
		me._control_left_vertical.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_control_left_vertical') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._control_left_vertical.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._control_left_vertical.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._control_left_vertical.ggCurrentLogicStateVisible == 0) {
			me._control_left_vertical.visible=((!me._control_left_vertical.material && Number(me._control_left_vertical.userData.opacity>0)) || Number(me._control_left_vertical.material.opacity)>0)?true:false;
			me._control_left_vertical.userData.visible=true;
				}
				else {
			me._control_left_vertical.visible=false;
			me._control_left_vertical.userData.visible=false;
				}
			}
		}
		me._control_left_vertical.logicBlock_visible();
		me._control_left_vertical.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.35;
		height = 1.34;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.175, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.175, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.175);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.175);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.175, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.175, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.175);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.175);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.175, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'Rectangle 2_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'Rectangle 2_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._rectangle_2.material.opacity = v * me._rectangle_2.userData.backgroundColorAlpha;
			if (me._rectangle_2.userData.ggSubElement) {
				me._rectangle_2.userData.ggSubElement.material.opacity = v
				me._rectangle_2.userData.ggSubElement.visible = (v>0 && me._rectangle_2.userData.visible);
			}
			me._rectangle_2.visible = (v>0 && me._rectangle_2.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._rectangle_2.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._rectangle_2.userData.backgroundColorAlpha = v;
			me._rectangle_2.userData.setOpacity(me._rectangle_2.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 35;
		el.userData.height = 134;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Rectangle 2';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._rectangle_2.visible
			let parentEl = me._rectangle_2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._rectangle_2.userData.opacity = v;
			v = v * me._rectangle_2.userData.parentOpacity;
			me._rectangle_2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rectangle_2.children.length; i++) {
				let child = me._rectangle_2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._rectangle_2.userData.parentOpacity = v;
			v = v * me._rectangle_2.userData.opacity
			me._rectangle_2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rectangle_2.children.length; i++) {
				let child = me._rectangle_2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._rectangle_2 = el;
		el.userData.ggId="Rectangle 2";
		me._rectangle_2.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-0.49);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'toggle_grypo';
		el.userData.x = 0;
		el.userData.y = -0.49;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._toggle_grypo.material) me._toggle_grypo.material.opacity = v;
			me._toggle_grypo.visible = (v>0 && me._toggle_grypo.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._toggle_grypo.visible
			let parentEl = me._toggle_grypo.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._toggle_grypo.userData.opacity = v;
			v = v * me._toggle_grypo.userData.parentOpacity;
			me._toggle_grypo.userData.setOpacityInternal(v);
			for (let i = 0; i < me._toggle_grypo.children.length; i++) {
				let child = me._toggle_grypo.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._toggle_grypo.userData.parentOpacity = v;
			v = v * me._toggle_grypo.userData.opacity
			me._toggle_grypo.userData.setOpacityInternal(v);
			for (let i = 0; i < me._toggle_grypo.children.length; i++) {
				let child = me._toggle_grypo.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._toggle_grypo = el;
		el.userData.ggId="toggle_grypo";
		me._toggle_grypo.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getHasSounds() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._toggle_grypo.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._toggle_grypo.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._toggle_grypo.ggCurrentLogicStateVisible == 0) {
			me._toggle_grypo.visible=((!me._toggle_grypo.material && Number(me._toggle_grypo.userData.opacity>0)) || Number(me._toggle_grypo.material.opacity)>0)?true:false;
			me._toggle_grypo.userData.visible=true;
				}
				else {
			me._toggle_grypo.visible=false;
			me._toggle_grypo.userData.visible=false;
				}
			}
		}
		me._toggle_grypo.logicBlock_visible();
		me._toggle_grypo.userData.onclick=function (e) {
			player.setUseGyro(!(player.getUseGyro()));
			player.setVariableValue('toggle_grypo', !player.getVariableValue('toggle_grypo'));
		}
		me._toggle_grypo.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'grypo_off_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'grypo_off_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'grypo_off';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._grypo_off.material) me._grypo_off.material.opacity = v;
			me._grypo_off.visible = (v>0 && me._grypo_off.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._grypo_off.visible
			let parentEl = me._grypo_off.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._grypo_off.userData.opacity = v;
			v = v * me._grypo_off.userData.parentOpacity;
			me._grypo_off.userData.setOpacityInternal(v);
			for (let i = 0; i < me._grypo_off.children.length; i++) {
				let child = me._grypo_off.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._grypo_off.userData.parentOpacity = v;
			v = v * me._grypo_off.userData.opacity
			me._grypo_off.userData.setOpacityInternal(v);
			for (let i = 0; i < me._grypo_off.children.length; i++) {
				let child = me._grypo_off.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._grypo_off = el;
		el.userData.ggId="grypo_off";
		me._grypo_off.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['grypo_off'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._grypo_off.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._grypo_off.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._grypo_off.ggCurrentLogicStateScaling == 0) {
					me._grypo_off.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._grypo_off.position.x = (me._grypo_off.position.x - me._grypo_off.userData.curScaleOffX) + scaleOffX;
					me._grypo_off.userData.curScaleOffX = scaleOffX;
					me._grypo_off.position.y = (me._grypo_off.position.y - me._grypo_off.userData.curScaleOffY) + scaleOffY;
					me._grypo_off.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._grypo_off.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._grypo_off.position.x = (me._grypo_off.position.x - me._grypo_off.userData.curScaleOffX) + scaleOffX;
					me._grypo_off.userData.curScaleOffX = scaleOffX;
					me._grypo_off.position.y = (me._grypo_off.position.y - me._grypo_off.userData.curScaleOffY) + scaleOffY;
					me._grypo_off.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._grypo_off.logicBlock_scaling();
		me._grypo_off.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('toggle_grypo') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._grypo_off.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._grypo_off.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._grypo_off.ggCurrentLogicStateVisible == 0) {
			me._grypo_off.visible=false;
			me._grypo_off.userData.visible=false;
				}
				else {
			me._grypo_off.visible=((!me._grypo_off.material && Number(me._grypo_off.userData.opacity>0)) || Number(me._grypo_off.material.opacity)>0)?true:false;
			me._grypo_off.userData.visible=true;
				}
			}
		}
		me._grypo_off.logicBlock_visible();
		me._grypo_off.userData.onmouseover=function (e) {
			me.elementMouseOver['grypo_off']=true;
			me._grypo_off.logicBlock_scaling();
		}
		me._grypo_off.userData.ontouchend=function (e) {
			me._grypo_off.logicBlock_scaling();
		}
		me._grypo_off.userData.onmouseout=function (e) {
			me.elementMouseOver['grypo_off']=false;
			me._grypo_off.logicBlock_scaling();
		}
		me._grypo_off.userData.ggUpdatePosition=function (useTransition) {
		}
		me._toggle_grypo.add(me._grypo_off);
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'grypo_on_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'grypo_on_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'grypo_on';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._grypo_on.material) me._grypo_on.material.opacity = v;
			me._grypo_on.visible = (v>0 && me._grypo_on.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._grypo_on.visible
			let parentEl = me._grypo_on.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._grypo_on.userData.opacity = v;
			v = v * me._grypo_on.userData.parentOpacity;
			me._grypo_on.userData.setOpacityInternal(v);
			for (let i = 0; i < me._grypo_on.children.length; i++) {
				let child = me._grypo_on.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._grypo_on.userData.parentOpacity = v;
			v = v * me._grypo_on.userData.opacity
			me._grypo_on.userData.setOpacityInternal(v);
			for (let i = 0; i < me._grypo_on.children.length; i++) {
				let child = me._grypo_on.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._grypo_on = el;
		el.userData.ggId="grypo_on";
		me._grypo_on.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['grypo_on'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._grypo_on.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._grypo_on.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._grypo_on.ggCurrentLogicStateScaling == 0) {
					me._grypo_on.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._grypo_on.position.x = (me._grypo_on.position.x - me._grypo_on.userData.curScaleOffX) + scaleOffX;
					me._grypo_on.userData.curScaleOffX = scaleOffX;
					me._grypo_on.position.y = (me._grypo_on.position.y - me._grypo_on.userData.curScaleOffY) + scaleOffY;
					me._grypo_on.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._grypo_on.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._grypo_on.position.x = (me._grypo_on.position.x - me._grypo_on.userData.curScaleOffX) + scaleOffX;
					me._grypo_on.userData.curScaleOffX = scaleOffX;
					me._grypo_on.position.y = (me._grypo_on.position.y - me._grypo_on.userData.curScaleOffY) + scaleOffY;
					me._grypo_on.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._grypo_on.logicBlock_scaling();
		me._grypo_on.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('toggle_grypo') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._grypo_on.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._grypo_on.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._grypo_on.ggCurrentLogicStateVisible == 0) {
			me._grypo_on.visible=((!me._grypo_on.material && Number(me._grypo_on.userData.opacity>0)) || Number(me._grypo_on.material.opacity)>0)?true:false;
			me._grypo_on.userData.visible=true;
				}
				else {
			me._grypo_on.visible=false;
			me._grypo_on.userData.visible=false;
				}
			}
		}
		me._grypo_on.logicBlock_visible();
		me._grypo_on.userData.onmouseover=function (e) {
			me.elementMouseOver['grypo_on']=true;
			me._grypo_on.logicBlock_scaling();
		}
		me._grypo_on.userData.ontouchend=function (e) {
			me._grypo_on.logicBlock_scaling();
		}
		me._grypo_on.userData.onmouseout=function (e) {
			me.elementMouseOver['grypo_on']=false;
			me._grypo_on.logicBlock_scaling();
		}
		me._grypo_on.userData.ggUpdatePosition=function (useTransition) {
		}
		me._toggle_grypo.add(me._grypo_on);
		me._rectangle_2.add(me._toggle_grypo);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(-0.18);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'toggle_rotate';
		el.userData.x = 0;
		el.userData.y = -0.18;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._toggle_rotate.material) me._toggle_rotate.material.opacity = v;
			me._toggle_rotate.visible = (v>0 && me._toggle_rotate.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._toggle_rotate.visible
			let parentEl = me._toggle_rotate.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._toggle_rotate.userData.opacity = v;
			v = v * me._toggle_rotate.userData.parentOpacity;
			me._toggle_rotate.userData.setOpacityInternal(v);
			for (let i = 0; i < me._toggle_rotate.children.length; i++) {
				let child = me._toggle_rotate.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._toggle_rotate.userData.parentOpacity = v;
			v = v * me._toggle_rotate.userData.opacity
			me._toggle_rotate.userData.setOpacityInternal(v);
			for (let i = 0; i < me._toggle_rotate.children.length; i++) {
				let child = me._toggle_rotate.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._toggle_rotate = el;
		el.userData.ggId="toggle_rotate";
		me._toggle_rotate.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getHasSounds() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._toggle_rotate.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._toggle_rotate.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._toggle_rotate.ggCurrentLogicStateVisible == 0) {
			me._toggle_rotate.visible=((!me._toggle_rotate.material && Number(me._toggle_rotate.userData.opacity>0)) || Number(me._toggle_rotate.material.opacity)>0)?true:false;
			me._toggle_rotate.userData.visible=true;
				}
				else {
			me._toggle_rotate.visible=false;
			me._toggle_rotate.userData.visible=false;
				}
			}
		}
		me._toggle_rotate.logicBlock_visible();
		me._toggle_rotate.userData.onclick=function (e) {
			player.toggleAutorotate();
			player.setVariableValue('toggle_rotate', !player.getVariableValue('toggle_rotate'));
		}
		me._toggle_rotate.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'rotate_off_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAFjUlEQVRYhc2YX2zTVRTHP+e2Y2wWIolC0Lq2MtqtoChbkWEgDJHxxz8QYtQHE0Gi0cQYfTPyhtGEB96BF41PEhMJBjYxMpw4/rQDI1u3lTG6AUH+JAhMYKz9HR/6h9L1D2N/5PvUe+69535y+7vnnnMFIOjyrlIxT8ViA98tOnfuFkWkIMcrquZbQoOizxmROao6HWEqoArXDFywoMOoHLfUNC3oD3ek5h/1eOfZhCm1vZFDxdaSoMu7CpF9yWZLWblZMzccHsg1+Ihn7gy7xj4CfU/hyWLOs9Qr6M6YZe2xGds+4Ewg2l1fFPCYu+p9QbdnmHJCKkjI7esCvDn8WMB5hH4UAzhQPAiOgosbXVxsF6XV6SwrsTuaQJcUgwx5vJtUZSeJv7FZRL81lg'+
	'anlmjv7J6ewWznbbP8lXHLWiuq64A6QO4dob8EopEVBQEB2v1+x62b1t5ikM1Ll9od0QufxZBdddGuaCHH2Qp6fF+ifJFtN5i6mmjnkYKAhSBlkrW+NhK5MhKYbIU8VStUtREwObobA9Hu1UUB80MSLCu3Lct3cO5HCua4u3qBRbxBYaUgAcCW6rcMgRd6u0NFARUk9PTstyRu26GiGR944dM9Uv1V8cy0O7Y7y1VZKdCg0BaIdr+eF1DBtHl861XZDDyb2+3YQmbqWIV/TqA/3CmJaHDvqiHX7DWIbaui/mEzVToQnTMRkPlkhsTWoarDyIGhskfMcpCWuyZdcuumtbfd7y8Y30Yrzfj0TF20Kyqib+QY1zo3HP67rNysmSjIZrd7ctDt/TTk9nWEZtaUQ/rYm7ezBwvaBDA3HB6YKEgHpV+DbAOqddKNDQBGQRTd'+
	'lBwTR+RjYFDV+jk1caIgDeb7dENkI4CEXNXzVay2pLk5EO1e1lZRVTO/v+u4gGY6uN8bZzQKun1hoBpAbbEKg8TTd6GI/AhQ09/Vlg0HE7aT36R5YvaXDcjzKYNB9hSbPd6QRknfKCrMM6qk4t+1+Wc6++7HyXhCqs3Wk/otwhyDMBNAIDoSR+MFWdMbPgckUjfl8URyCSj8O1Jn4wEpqeQ3oWmGYUnkQwGZSstiBvRqsuF+WCBV06XCgAG5mGzMbHU6y/5vyHa/34HwWLJ53oCmykEpKZ0y60EBxwpy8FYsHfYQCRtETqRdxXXRaADHAtLCrE3zWbQZjGnM6N4wWsAHgTzk80056qqqSwzTdWnWUmu/CZzubEe1B0CQhSG3t2qiIScP6ktGtDnk9n4FeJLmo7WRyJXEcRbZedcHeSus8YJUpAEoVeTzlE2Q7ZCMN3'+
	'YGdyj8Lmq9UtsX2TZWgCOAbMiaFi+xDTUmQCdI+VI1e4n5JDYUPzF8hnaopa/lKqTHRfl2MnYn/kPuGdKLYWrOHWx1OstKS8prr7ueOFx/8GBsLEHzPA6kpILsVo1tCfT1nIACf3HQ7TsA1AjyqwVNxpim2t5w/3hBClymxPZq7anw0cyxeQFDLl+9CgeyzJ0gTSI03dDbLfXR6O3RQN6+Gf9D73koGF4+FDwkx9y+FoHFObpuiJEXa3u7Tj4oIMCpysqp/8TsPxWqcQoeEhGzJacdNo8ETkFCLl990OXbmlmUz+7puV4sBBUNM8fc3sOCLMyxbAciu0H3DA3dPJn5tr0LbC6Xr8IYU6karxPkXZI3hApvLjjTvSvTU74QNBQbWFkUMOjyrkZkb7IZJ+PZLJNW4bLczcqdQEkel78Fot1Ls425IBX5oGgcDPRF9pGo'+
	'tFqtIZkh8CFIdmAVgekkdsmTA84CDitsfNQez741gNxxUtQ6e183SZvHu9hu4t3zTp++lLIdqax02uNmpVrMw0g1FjNEcCS/savAJUTawfozzqT9C8+0X8y/wl21Op1ldrvjHVHrbKAv0vgfz3QBjolRsTIAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'rotate_off_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'rotate_off';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._rotate_off.material) me._rotate_off.material.opacity = v;
			me._rotate_off.visible = (v>0 && me._rotate_off.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._rotate_off.visible
			let parentEl = me._rotate_off.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._rotate_off.userData.opacity = v;
			v = v * me._rotate_off.userData.parentOpacity;
			me._rotate_off.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rotate_off.children.length; i++) {
				let child = me._rotate_off.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._rotate_off.userData.parentOpacity = v;
			v = v * me._rotate_off.userData.opacity
			me._rotate_off.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rotate_off.children.length; i++) {
				let child = me._rotate_off.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._rotate_off = el;
		el.userData.ggId="rotate_off";
		me._rotate_off.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['rotate_off'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._rotate_off.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._rotate_off.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._rotate_off.ggCurrentLogicStateScaling == 0) {
					me._rotate_off.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._rotate_off.position.x = (me._rotate_off.position.x - me._rotate_off.userData.curScaleOffX) + scaleOffX;
					me._rotate_off.userData.curScaleOffX = scaleOffX;
					me._rotate_off.position.y = (me._rotate_off.position.y - me._rotate_off.userData.curScaleOffY) + scaleOffY;
					me._rotate_off.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._rotate_off.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._rotate_off.position.x = (me._rotate_off.position.x - me._rotate_off.userData.curScaleOffX) + scaleOffX;
					me._rotate_off.userData.curScaleOffX = scaleOffX;
					me._rotate_off.position.y = (me._rotate_off.position.y - me._rotate_off.userData.curScaleOffY) + scaleOffY;
					me._rotate_off.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._rotate_off.logicBlock_scaling();
		me._rotate_off.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('toggle_rotate') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._rotate_off.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._rotate_off.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._rotate_off.ggCurrentLogicStateVisible == 0) {
			me._rotate_off.visible=false;
			me._rotate_off.userData.visible=false;
				}
				else {
			me._rotate_off.visible=((!me._rotate_off.material && Number(me._rotate_off.userData.opacity>0)) || Number(me._rotate_off.material.opacity)>0)?true:false;
			me._rotate_off.userData.visible=true;
				}
			}
		}
		me._rotate_off.logicBlock_visible();
		me._rotate_off.userData.onmouseover=function (e) {
			me.elementMouseOver['rotate_off']=true;
			me._rotate_off.logicBlock_scaling();
		}
		me._rotate_off.userData.ontouchend=function (e) {
			me._rotate_off.logicBlock_scaling();
		}
		me._rotate_off.userData.onmouseout=function (e) {
			me.elementMouseOver['rotate_off']=false;
			me._rotate_off.logicBlock_scaling();
		}
		me._rotate_off.userData.ggUpdatePosition=function (useTransition) {
		}
		me._toggle_rotate.add(me._rotate_off);
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'rotate_on_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAFAUlEQVRYhcWYW2yTZRjHf8/bboIbREwI6Bbaja3bKgij7TaRCCSAEBNADbcaT9F4xx0hihFighfGS+XCRMMdN8hu3CAGZGZAD9uMY+sObK0jgUUJAZwLW/s9XvTr1nXrTrD1nzT9nsPb99fv+97nPQiLVMRVWaNi9ipsBV4C1gHP2eEHIHdAb6LaJpbV5B/qv5VuG3Z7qlVYHRjsDc7VjywEqrXU+7zTaX0s6AfAxoW0FaQL9Mw40uhU6xIiA4FYz+tPDVBBwu6qKODJkfCPCnFBDGqtQsQFFMzeudXgj/XdmC3HOV9AAQ3Dtwrf2Z4bgv6UNIQcjPf5BwYeZOafA4fbXblZkEMgh0m9Cln/yZwA3pij3/kr7PMV6L1Hx43qOV+8r3shbUNlnq9QOZ'+
	'7tN5b4fX9FI4sG7PR6Czd1dY0tBCZbwfLKPWKZJsAxQ7gxEOs5lKutyRUIldXsDbqrro6OJsueBA7ArFn9G8geRU4DHYBmhA8G3ZXTHn9a0+5gyOU5gMjnwCsCMX+s54kBs3W9bNM6B2P7VGW/wF7QlkCs9+2ZcicGSais6iDKZ0Ag7VNoftpwAA2DncPAWeCsgkRcNbUKRsCaBhguq96nymlUa7ODluqSAGZKQIl3t+WKm4TIIOiz0yJKQgusX5eUbh4SsKceZErZUGipi/W8tpwwl3ftchbF7r4v8Ml44t9Xt9++PZoaxSJHspNFl+b9m03F8btfC3oGtLbAWfwO2GVGlY/snKTAMWDcqDQtN6CIdX7CUP0QQG6UebYYlQ475WogFt0ZdFVvD8Sj12RqvVoWhdxVPaTme3UkKTVGJWNFoecB6uLR1nzAASjyo30p'+
	'lkP2GmBbOmgpF/IBNUWWNbFGVHSrAby2/bA+3jOYH6pJOR2O/glDZZMBXrTNWD6AslU72D0EjAGI6FoDFNuxkbxRZcie7m4DKKwxTK5o8jIoZpLYTAKWUbgPgLIhr1QZUiiyvx8ZgWEAhJLLbveKvJIBf6x7uQhYa5t3DMhN25CVlrM8T1wTerxibEuG2WUE7UhbDnE05IFpigQ9PGlom7GwMhcF7y0/EnR6vcWRDdW+lKVv2m5NUnjR1MX6OoBUgRZ2XC+vqVxuwP9Grd2W0Zag23MCkQrbHW4Y7BxOlRjlh3SyUc25w1oqGXQ/sFKQLyecyplUDLAS8j3QhnAkMBj9ZrkBVck+AknKM3oBFrhxXwpFNnorrGSyb3pE2pPOxMGc++LlkpVI5DhA0gfOhJTMeDbTWlq6stCxqsYX725f8nWhSBagXhLDSf9A7+8wyy'+
	'MOuapaVPCIclENzU5Hsnlbf//fT5Ot0+stHB1J3kMoBn4xmJO+WPf1Kfy5Gqf2y1P2xQq0I9qkaPOIq6R195UriScBDLmrd4EetQyn6gd6wjPlzDpIgm7PNUFmml1GFGuHXUMXrbDPV+CPRMZny5l1kIhyauaAHFsoXNhdWR9ye77QjJsyFxzMo8yEXFUhBH+2XyFihJ8FGh+6XujKftxBt3e9MYkKtWS7IO8q6gWwVN+qj/eez/69xQOmDpXSmynN0WYcGGJyVe4GVuXo8mogFt05X8A562BgsKeR1JleUNSUAEeB7NPVAqAc2Gx/ZoCTdoFP5XHRgfnCwTxnkrCrajeYqD/efSfti2z0VliWtR/VWkW9BlmvSjGCoHofI8Mof6poGybZVHfr1tBCwNL6H9T40arj4h90AAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'rotate_on_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'rotate_on';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._rotate_on.material) me._rotate_on.material.opacity = v;
			me._rotate_on.visible = (v>0 && me._rotate_on.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._rotate_on.visible
			let parentEl = me._rotate_on.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._rotate_on.userData.opacity = v;
			v = v * me._rotate_on.userData.parentOpacity;
			me._rotate_on.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rotate_on.children.length; i++) {
				let child = me._rotate_on.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._rotate_on.userData.parentOpacity = v;
			v = v * me._rotate_on.userData.opacity
			me._rotate_on.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rotate_on.children.length; i++) {
				let child = me._rotate_on.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._rotate_on = el;
		el.userData.ggId="rotate_on";
		me._rotate_on.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['rotate_on'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._rotate_on.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._rotate_on.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._rotate_on.ggCurrentLogicStateScaling == 0) {
					me._rotate_on.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._rotate_on.position.x = (me._rotate_on.position.x - me._rotate_on.userData.curScaleOffX) + scaleOffX;
					me._rotate_on.userData.curScaleOffX = scaleOffX;
					me._rotate_on.position.y = (me._rotate_on.position.y - me._rotate_on.userData.curScaleOffY) + scaleOffY;
					me._rotate_on.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._rotate_on.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._rotate_on.position.x = (me._rotate_on.position.x - me._rotate_on.userData.curScaleOffX) + scaleOffX;
					me._rotate_on.userData.curScaleOffX = scaleOffX;
					me._rotate_on.position.y = (me._rotate_on.position.y - me._rotate_on.userData.curScaleOffY) + scaleOffY;
					me._rotate_on.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._rotate_on.logicBlock_scaling();
		me._rotate_on.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('toggle_rotate') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._rotate_on.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._rotate_on.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._rotate_on.ggCurrentLogicStateVisible == 0) {
			me._rotate_on.visible=((!me._rotate_on.material && Number(me._rotate_on.userData.opacity>0)) || Number(me._rotate_on.material.opacity)>0)?true:false;
			me._rotate_on.userData.visible=true;
				}
				else {
			me._rotate_on.visible=false;
			me._rotate_on.userData.visible=false;
				}
			}
		}
		me._rotate_on.logicBlock_visible();
		me._rotate_on.userData.onmouseover=function (e) {
			me.elementMouseOver['rotate_on']=true;
			me._rotate_on.logicBlock_scaling();
		}
		me._rotate_on.userData.ontouchend=function (e) {
			me._rotate_on.logicBlock_scaling();
		}
		me._rotate_on.userData.onmouseout=function (e) {
			me.elementMouseOver['rotate_on']=false;
			me._rotate_on.logicBlock_scaling();
		}
		me._rotate_on.userData.ggUpdatePosition=function (useTransition) {
		}
		me._toggle_rotate.add(me._rotate_on);
		me._rectangle_2.add(me._toggle_rotate);
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'btn_vr_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADsElEQVRYhe2YXWgcVRSAv3N3N82u0RqkarSQCcZkjcFKd7f+INii+CAKTSElCtL6ICooWJIWfKnoiz8p/qAQaxAhL8ZQaUHwQZT2QUqTTMBi2WQTw0zVJlBSaUjozyY7x4fu1s0m2+zGsNuH/R7PvXPvd2fu3DlnhDUwZLXcjaSeBn1YPLMFPAuRjcDGdJdZVGdV5E9BTgucTi56Pz/+9/i5YueSQjvadZGQVs29jMiLwKOAKXIuBYZB+4Mhf29rPD6/LoITjY0bZhd9byl0ApuKlMrHBRE+ndOrh3a47pU1C9r1D2xVSfWBPLjChecU+QU46al33m+YwdOZlAaMkdSdKnqXgKVqnkL0CaB6hSkSgrcn6k4MFi04ZIX3imovgj8rfElFe3yefh05Oz'+
	'F6o8Vlc3Lz5mDAf8szIG+DPpLTnBJ4M+omegoWtOvDnSrandWeQuSzKrPw4ZbJyfOFiq3EcH3TsyKmW9GW7Lii72xzx99bVXC4oeklVPqyQnOodsTOjv/4f8SyOdPSUnPlktenaFuOzOtRN/FlXsFre877FQgCquig+HyvxCZHz6yXXAYFsRuau1B5DjSWnjNpME9G3NFTywQHwNdQ3/wbIgvAYV9Kf9j6V2JqvcVWwq6LhLwNc88bzEFF/XJHTWt0ZGRhiaBthfcoWuu4ic93Q6oUYstEI5GAXpjfp8jFbe7YV8B/b2h1yHyfOTyPW1Z1jVTtFjU7FY0C9wC+dfZJoUwj2Igevd3nfXf/yMhV4KNTjY23ZTot2YMKYlvhDtBDaalS4iAciDmJI9nBJYJDVtNBQd4trVcu8onjju3PbLPrj23YatonyAflE7vOY7W1'+
	'm2p6L878BOk7aDc0t6syUF6vHIT2mJM4IunP0B+Ufs+thhMM+cImEAi1c/PJATRcvrzYYUTNznKb5EWlzaTPuZsTJWqAe8vtkRehrti0veQYoOhCpmQo00YQu9weeRFso+IdK7dHXkSPmnlNDgDT5XZZAScY9Peba2WfdJbbZhkq+1vj8aRAJs1q7gFeXeNwowjfqPK7D1FP9CFR2ZtbGBWMyMcxZ6wTclN+q/kL4LUihzs8b9W9sePEicXs4PHt2/23OtPvq9BVrJzjjB3IpFvLqzor/EKBCesUSFfMHfv2Rp0G65vajEg3cN8q462esGZIp/ztoqZNVWMIdYCgTInIsIp3bF6TA6v9tshgRyIB/WeuA5VdQITM4rNS/mDQ398ajycLGa9ChQoVKlQonH8B7Wxc8Bvuq8AAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_vr_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0.12);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_vr';
		el.userData.x = 0;
		el.userData.y = 0.12;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_vr.material) me._btn_vr.material.opacity = v;
			me._btn_vr.visible = (v>0 && me._btn_vr.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_vr.visible
			let parentEl = me._btn_vr.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_vr.userData.opacity = v;
			v = v * me._btn_vr.userData.parentOpacity;
			me._btn_vr.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_vr.children.length; i++) {
				let child = me._btn_vr.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_vr.userData.parentOpacity = v;
			v = v * me._btn_vr.userData.opacity
			me._btn_vr.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_vr.children.length; i++) {
				let child = me._btn_vr.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_vr = el;
		el.userData.ggId="btn_vr";
		me._btn_vr.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['btn_vr'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._btn_vr.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._btn_vr.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._btn_vr.ggCurrentLogicStateScaling == 0) {
					me._btn_vr.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_vr.position.x = (me._btn_vr.position.x - me._btn_vr.userData.curScaleOffX) + scaleOffX;
					me._btn_vr.userData.curScaleOffX = scaleOffX;
					me._btn_vr.position.y = (me._btn_vr.position.y - me._btn_vr.userData.curScaleOffY) + scaleOffY;
					me._btn_vr.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._btn_vr.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_vr.position.x = (me._btn_vr.position.x - me._btn_vr.userData.curScaleOffX) + scaleOffX;
					me._btn_vr.userData.curScaleOffX = scaleOffX;
					me._btn_vr.position.y = (me._btn_vr.position.y - me._btn_vr.userData.curScaleOffY) + scaleOffY;
					me._btn_vr.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._btn_vr.logicBlock_scaling();
		me._btn_vr.userData.onclick=function (e) {
			player.enterVR();
		}
		me._btn_vr.userData.onmouseover=function (e) {
			me.elementMouseOver['btn_vr']=true;
			me._btn_vr.logicBlock_scaling();
		}
		me._btn_vr.userData.ontouchend=function (e) {
			me._btn_vr.logicBlock_scaling();
		}
		me._btn_vr.userData.onmouseout=function (e) {
			me.elementMouseOver['btn_vr']=false;
			me._btn_vr.logicBlock_scaling();
		}
		me._btn_vr.userData.ggUpdatePosition=function (useTransition) {
		}
		me._rectangle_2.add(me._btn_vr);
		geometry = new THREE.PlaneBufferGeometry(0.3, 0.3, 5, 5 );
		geometry.name = 'btn_info_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAACk0lEQVRoge2ZTWtTQRSGn3OTRm0rRVT8gGpMkWjUbpr6QV240ArdieDWrYsuXPsD/Au6cSNYRLQboeDeRe0XaEs0Ddi0CIIbkWqT1GSOixpp721Bau8Rwjyr8M6F877MmZl7J+DxeDwej8fj8Xg8f4FYFnt37Ny+VVm9h8gQAKpjKU3d712a/WrlwSzw62x27+6ajCua22hACtVdevFysbhs4SOwKAKQqslwOCyAorlUTYatfJgFFvTKdsZ2GrPAQGWbYzuKXWDRF1sNqfDcyoZZ4PzC/BOFkbCuMNK/UIzocWF6LCnI9PGTQwTB2rHk3FjfYmlMQC19eDwthOkaDjOXy3VWq+4EBN/yHwtLFjWTcReYy+VStaobdEpacWlB0qqkBdKVlcZ+AKF+A2'+
	'iNwNUfjQEVXgLI74aKtJUm3sTto0ns53A9aCsgeht4CNQiDyif8ovvP8fto4npGp5MZx8AdzaqOtpfnr9p5cHyXRrgSFQSs3YG+8AXopJMWBowCzzR09MNHA7Jbk97MGXlASy/h10yOrtK4Wyh8N3KA1i2tON8RBNM2xlMv4ejgdV4wwKjwM8gAeSjI43WnOFM5lQO6AjJK+Vyadai/npsWlrdZhvWzC1omNRfh01gF0TXb6Dm6xeMAqvof3/haBJ74LeHejuAM2G9oS0auNZe6WNtl/6DwpdL5Q/luGtvRuyBAyeR40jA9HVyPbEHVpGTm6htzV9TmUzXeOb0Js/EQ+w3HqKSUAlfO8u1yXT2lYJqg4Gk1K/G7aNJ/DPMlsfPoMB1ER71lUtmG1jsgeVA52OQpyG5AjqqKgP5cvGu5T8PZlc8M93Zoy7huutOl5MH'+
	'u0r56emfVrU9Ho/H4/F4PB7Pv/ML0yy/NIsqO5EAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_info_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0.42);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 30;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_info';
		el.userData.x = 0;
		el.userData.y = 0.42;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_info.material) me._btn_info.material.opacity = v;
			me._btn_info.visible = (v>0 && me._btn_info.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_info.visible
			let parentEl = me._btn_info.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_info.userData.opacity = v;
			v = v * me._btn_info.userData.parentOpacity;
			me._btn_info.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_info.children.length; i++) {
				let child = me._btn_info.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_info.userData.parentOpacity = v;
			v = v * me._btn_info.userData.opacity
			me._btn_info.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_info.children.length; i++) {
				let child = me._btn_info.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_info = el;
		el.userData.ggId="btn_info";
		me._btn_info.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['btn_info'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._btn_info.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._btn_info.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._btn_info.ggCurrentLogicStateScaling == 0) {
					me._btn_info.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_info.position.x = (me._btn_info.position.x - me._btn_info.userData.curScaleOffX) + scaleOffX;
					me._btn_info.userData.curScaleOffX = scaleOffX;
					me._btn_info.position.y = (me._btn_info.position.y - me._btn_info.userData.curScaleOffY) + scaleOffY;
					me._btn_info.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._btn_info.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._btn_info.position.x = (me._btn_info.position.x - me._btn_info.userData.curScaleOffX) + scaleOffX;
					me._btn_info.userData.curScaleOffX = scaleOffX;
					me._btn_info.position.y = (me._btn_info.position.y - me._btn_info.userData.curScaleOffY) + scaleOffY;
					me._btn_info.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._btn_info.logicBlock_scaling();
		me._btn_info.userData.onclick=function (e) {
			player.setVariableValue('vis_info', !player.getVariableValue('vis_info'));
		}
		me._btn_info.userData.onmouseover=function (e) {
			me.elementMouseOver['btn_info']=true;
			me._btn_info.logicBlock_scaling();
		}
		me._btn_info.userData.ontouchend=function (e) {
			me._btn_info.logicBlock_scaling();
		}
		me._btn_info.userData.onmouseout=function (e) {
			me.elementMouseOver['btn_info']=false;
			me._btn_info.logicBlock_scaling();
		}
		me._btn_info.userData.ggUpdatePosition=function (useTransition) {
		}
		me._rectangle_2.add(me._btn_info);
		me._control_left_vertical.add(me._rectangle_2);
		me.skinGroup.add(me._control_left_vertical);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(3.3);
		el.translateY(2.725);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 120;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'controls_right_top';
		el.userData.x = 3.3;
		el.userData.y = 2.725;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.170);
		el.renderOrder = 17;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._controls_right_top.material) me._controls_right_top.material.opacity = v;
			me._controls_right_top.visible = (v>0 && me._controls_right_top.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._controls_right_top.visible
			let parentEl = me._controls_right_top.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._controls_right_top.userData.opacity = v;
			v = v * me._controls_right_top.userData.parentOpacity;
			me._controls_right_top.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_right_top.children.length; i++) {
				let child = me._controls_right_top.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._controls_right_top.userData.parentOpacity = v;
			v = v * me._controls_right_top.userData.opacity
			me._controls_right_top.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_right_top.children.length; i++) {
				let child = me._controls_right_top.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._controls_right_top = el;
		el.userData.ggId="controls_right_top";
		me._controls_right_top.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.2;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.175, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.175, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.175);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.175);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.175, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.175, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.175);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.175);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.175, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'controls_right_top_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'controls_right_top_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._controls_right_top_bg.material.opacity = v * me._controls_right_top_bg.userData.backgroundColorAlpha;
			if (me._controls_right_top_bg.userData.ggSubElement) {
				me._controls_right_top_bg.userData.ggSubElement.material.opacity = v
				me._controls_right_top_bg.userData.ggSubElement.visible = (v>0 && me._controls_right_top_bg.userData.visible);
			}
			me._controls_right_top_bg.visible = (v>0 && me._controls_right_top_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._controls_right_top_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._controls_right_top_bg.userData.backgroundColorAlpha = v;
			me._controls_right_top_bg.userData.setOpacity(me._controls_right_top_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 120;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'controls_right_top_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._controls_right_top_bg.visible
			let parentEl = me._controls_right_top_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._controls_right_top_bg.userData.opacity = v;
			v = v * me._controls_right_top_bg.userData.parentOpacity;
			me._controls_right_top_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_right_top_bg.children.length; i++) {
				let child = me._controls_right_top_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._controls_right_top_bg.userData.parentOpacity = v;
			v = v * me._controls_right_top_bg.userData.opacity
			me._controls_right_top_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._controls_right_top_bg.children.length; i++) {
				let child = me._controls_right_top_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._controls_right_top_bg = el;
		el.userData.ggId="controls_right_top_bg";
		me._controls_right_top_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.3;
		height = 0.3;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.15, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.15, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.15);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.15);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.15, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.15, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.15);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.15);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.15, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'bg_fullscreen_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(214,17,48,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'bg_fullscreen_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._bg_fullscreen.material.opacity = v * me._bg_fullscreen.userData.backgroundColorAlpha;
			if (me._bg_fullscreen.userData.ggSubElement) {
				me._bg_fullscreen.userData.ggSubElement.material.opacity = v
				me._bg_fullscreen.userData.ggSubElement.visible = (v>0 && me._bg_fullscreen.userData.visible);
			}
			me._bg_fullscreen.visible = (v>0 && me._bg_fullscreen.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._bg_fullscreen.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._bg_fullscreen.userData.backgroundColorAlpha = v;
			me._bg_fullscreen.userData.setOpacity(me._bg_fullscreen.userData.opacity);
		}
		el.translateX(0.4);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 30;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'bg_fullscreen';
		el.userData.x = 0.4;
		el.userData.y = 0;
		el.userData.hanchor = 2;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._bg_fullscreen.visible
			let parentEl = me._bg_fullscreen.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._bg_fullscreen.userData.opacity = v;
			v = v * me._bg_fullscreen.userData.parentOpacity;
			me._bg_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._bg_fullscreen.children.length; i++) {
				let child = me._bg_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._bg_fullscreen.userData.parentOpacity = v;
			v = v * me._bg_fullscreen.userData.opacity
			me._bg_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._bg_fullscreen.children.length; i++) {
				let child = me._bg_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._bg_fullscreen = el;
		el.userData.ggId="bg_fullscreen";
		me._bg_fullscreen.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['bg_fullscreen'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._bg_fullscreen.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._bg_fullscreen.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._bg_fullscreen.ggCurrentLogicStateBackgroundColor == 0) {
					me._bg_fullscreen.userData.setBackgroundColor(new THREE.Color('#000000'));
					me._bg_fullscreen.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._bg_fullscreen.userData.setBackgroundColor(new THREE.Color('#d61130'));
					me._bg_fullscreen.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._bg_fullscreen.logicBlock_backgroundcolor();
		me._bg_fullscreen.userData.onclick=function (e) {
			player.toggleFullscreen();
		}
		me._bg_fullscreen.userData.onmouseover=function (e) {
			me.elementMouseOver['bg_fullscreen']=true;
			me._bg_fullscreen.logicBlock_backgroundcolor();
		}
		me._bg_fullscreen.userData.ontouchend=function (e) {
			me._bg_fullscreen.logicBlock_backgroundcolor();
		}
		me._bg_fullscreen.userData.onmouseout=function (e) {
			me.elementMouseOver['bg_fullscreen']=false;
			me._bg_fullscreen.logicBlock_backgroundcolor();
		}
		me._bg_fullscreen.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'btn_fullscreen_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABWUlEQVRYhe3Yy3ECMRAE0F0ngAPguBCnYtg8bIoI9gwpwA2Io32wtkoIfWZ65DIH9Vm0XvFbjQbwcYMwABy7yfDXOCuSAapxFqQWSONYpAZoxjFIKXBuhQuQc0vgDcDUEDcBuLcEwheakQB2UpwWuCJ3RtxDs2EOOOP3Y03lwSAB7Au4GzLfyRTQ+cKpFVKAm/y6l193DHRRcQl5VACPNVyw9gkZAl2mPIU8A9gogJ/+NUVcCrkCk7gM8qTBBR2bAFn921qRQw0XIb8YXIT8ruFCJLtXT09PT0+Pj/JRtwDYGvba+g75o444LFwYpMddmMMCc9xSISMcddxKIjO4NYsCuGQ6VAfWJ2QFpxpDpV0xLgcEykMTNSMLkOKhqRTTAF9BJqMBNrld0CL/8+'+
	'pDhPwQdh7Gcby2Avqug2ix9K3Gm1+/NUNqcAzQhNTiWCCFZHAWoArJ4gDgB/yrHcnsqhAEAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_fullscreen_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_fullscreen';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_fullscreen.material) me._btn_fullscreen.material.opacity = v;
			me._btn_fullscreen.visible = (v>0 && me._btn_fullscreen.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_fullscreen.visible
			let parentEl = me._btn_fullscreen.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_fullscreen.userData.opacity = v;
			v = v * me._btn_fullscreen.userData.parentOpacity;
			me._btn_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_fullscreen.children.length; i++) {
				let child = me._btn_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_fullscreen.userData.parentOpacity = v;
			v = v * me._btn_fullscreen.userData.opacity
			me._btn_fullscreen.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_fullscreen.children.length; i++) {
				let child = me._btn_fullscreen.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_fullscreen = el;
		el.userData.ggId="btn_fullscreen";
		me._btn_fullscreen.userData.ggUpdatePosition=function (useTransition) {
		}
		me._bg_fullscreen.add(me._btn_fullscreen);
		me._controls_right_top_bg.add(me._bg_fullscreen);
		width = 0.3;
		height = 0.3;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.15, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.15, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.15);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.15);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.15, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.15, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.15);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.15);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.15, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'bg_floorplan_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(214,17,48,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'bg_floorplan_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._bg_floorplan.material.opacity = v * me._bg_floorplan.userData.backgroundColorAlpha;
			if (me._bg_floorplan.userData.ggSubElement) {
				me._bg_floorplan.userData.ggSubElement.material.opacity = v
				me._bg_floorplan.userData.ggSubElement.visible = (v>0 && me._bg_floorplan.userData.visible);
			}
			me._bg_floorplan.visible = (v>0 && me._bg_floorplan.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._bg_floorplan.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._bg_floorplan.userData.backgroundColorAlpha = v;
			me._bg_floorplan.userData.setOpacity(me._bg_floorplan.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.01);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 30;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'bg_floorplan';
		el.userData.x = 0;
		el.userData.y = 0.01;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._bg_floorplan.visible
			let parentEl = me._bg_floorplan.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._bg_floorplan.userData.opacity = v;
			v = v * me._bg_floorplan.userData.parentOpacity;
			me._bg_floorplan.userData.setOpacityInternal(v);
			for (let i = 0; i < me._bg_floorplan.children.length; i++) {
				let child = me._bg_floorplan.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._bg_floorplan.userData.parentOpacity = v;
			v = v * me._bg_floorplan.userData.opacity
			me._bg_floorplan.userData.setOpacityInternal(v);
			for (let i = 0; i < me._bg_floorplan.children.length; i++) {
				let child = me._bg_floorplan.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._bg_floorplan = el;
		el.userData.ggId="bg_floorplan";
		me._bg_floorplan.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['bg_floorplan'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._bg_floorplan.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._bg_floorplan.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._bg_floorplan.ggCurrentLogicStateBackgroundColor == 0) {
					me._bg_floorplan.userData.setBackgroundColor(new THREE.Color('#000000'));
					me._bg_floorplan.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._bg_floorplan.userData.setBackgroundColor(new THREE.Color('#d61130'));
					me._bg_floorplan.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._bg_floorplan.logicBlock_backgroundcolor();
		me._bg_floorplan.userData.onclick=function (e) {
			player.setVariableValue('vis_floorplan', true);
			player.setVariableValue('vis_floorplan_full', true);
		}
		me._bg_floorplan.userData.onmouseover=function (e) {
			me.elementMouseOver['bg_floorplan']=true;
			me._bg_floorplan.logicBlock_backgroundcolor();
		}
		me._bg_floorplan.userData.ontouchend=function (e) {
			me._bg_floorplan.logicBlock_backgroundcolor();
		}
		me._bg_floorplan.userData.onmouseout=function (e) {
			me.elementMouseOver['bg_floorplan']=false;
			me._bg_floorplan.logicBlock_backgroundcolor();
		}
		me._bg_floorplan.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.24, 0.24, 5, 5 );
		geometry.name = 'btn_floorplan_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACDklEQVRoge2ZO2sVQRiGnwmKQVFLkVQq3sBCBC+FCGJtFxJjoxb5BSkC4i8QxJ8gWEQNaJUqBkVFSaGipRfQQkGtlSSa42Mxpzjorpk553A2xTz1fO9lYRfmWygUCoUmCb0MqweAMeAk8Bt4BNwOIXzoQ7Yksguo+4BxYvBDNccWgRlgNoTwNUN7I3AWOA0sA3dCCM9zM1YJ71Evq6/MY1WdVy+q2/6jf1C9pn6r0LjRS/Dj6mJm6DqW1LvqqDqsblEvqU8TZqe7CX+kbZrKpPpQbSWcXVF/Zmh/7KbAfIaBHXMj6pT6Imd+DX7V5ax9idUlYDi1cAjhHy11P3AemAD2pmpV0AohbKj0rZvofKopVBX4S+8oscw4sDNHm/VQoEN3iPiZXMiQXz8Fut'+
	'SvLTCUY7oeKQWaphRomlKgaUqBpikFmqYUaJpSoGlKgabpWwH1TPu6OFD6abgAfFKvty/wA6Fvd+IK3gG3gJkQwpse9b+HELZmufdxKaVxyTWljnSpP5cVvm3wOcNgRV1OONcyrh8nM7R/qIe7KXAlQfyxekHdbFzYjqr3Esuk8Ew9lh2+XSCoNytEv6hXjWvDutntxs3zfeOKPYeX6rS6KyXnmsso4xdlDNgEPADmQgirGQ9iB3GdOAGcqDn2Gpgl/hB5n6oNPf5iykXdDZwDTrW9nxBDvx1kjkKhUOgffwBoumBuECNilQAAAABJRU5ErkJggg==');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_floorplan_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 24;
		el.userData.height = 24;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_floorplan';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_floorplan.material) me._btn_floorplan.material.opacity = v;
			me._btn_floorplan.visible = (v>0 && me._btn_floorplan.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_floorplan.visible
			let parentEl = me._btn_floorplan.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_floorplan.userData.opacity = v;
			v = v * me._btn_floorplan.userData.parentOpacity;
			me._btn_floorplan.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_floorplan.children.length; i++) {
				let child = me._btn_floorplan.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_floorplan.userData.parentOpacity = v;
			v = v * me._btn_floorplan.userData.opacity
			me._btn_floorplan.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_floorplan.children.length; i++) {
				let child = me._btn_floorplan.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_floorplan = el;
		el.userData.ggId="btn_floorplan";
		me._btn_floorplan.userData.ggUpdatePosition=function (useTransition) {
		}
		me._bg_floorplan.add(me._btn_floorplan);
		me._controls_right_top_bg.add(me._bg_floorplan);
		width = 0.3;
		height = 0.3;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.15, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.15, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.15);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.15);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.15, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.15, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.15);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.15);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.15, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'bg_home_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(214,17,48,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'bg_home_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._bg_home.material.opacity = v * me._bg_home.userData.backgroundColorAlpha;
			if (me._bg_home.userData.ggSubElement) {
				me._bg_home.userData.ggSubElement.material.opacity = v
				me._bg_home.userData.ggSubElement.visible = (v>0 && me._bg_home.userData.visible);
			}
			me._bg_home.visible = (v>0 && me._bg_home.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._bg_home.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._bg_home.userData.backgroundColorAlpha = v;
			me._bg_home.userData.setOpacity(me._bg_home.userData.opacity);
		}
		el.translateX(-0.4);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 30;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'bg_home';
		el.userData.x = -0.4;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 1;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._bg_home.visible
			let parentEl = me._bg_home.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._bg_home.userData.opacity = v;
			v = v * me._bg_home.userData.parentOpacity;
			me._bg_home.userData.setOpacityInternal(v);
			for (let i = 0; i < me._bg_home.children.length; i++) {
				let child = me._bg_home.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._bg_home.userData.parentOpacity = v;
			v = v * me._bg_home.userData.opacity
			me._bg_home.userData.setOpacityInternal(v);
			for (let i = 0; i < me._bg_home.children.length; i++) {
				let child = me._bg_home.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._bg_home = el;
		el.userData.ggId="bg_home";
		me._bg_home.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['bg_home'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._bg_home.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._bg_home.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._bg_home.ggCurrentLogicStateBackgroundColor == 0) {
					me._bg_home.userData.setBackgroundColor(new THREE.Color('#000000'));
					me._bg_home.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._bg_home.userData.setBackgroundColor(new THREE.Color('#d61130'));
					me._bg_home.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._bg_home.logicBlock_backgroundcolor();
		me._bg_home.userData.onclick=function (e) {
			player.openNext("{node15}","");
		}
		me._bg_home.userData.onmouseover=function (e) {
			me.elementMouseOver['bg_home']=true;
			me._bg_home.logicBlock_backgroundcolor();
		}
		me._bg_home.userData.ontouchend=function (e) {
			me._bg_home.logicBlock_backgroundcolor();
		}
		me._bg_home.userData.onmouseout=function (e) {
			me.elementMouseOver['bg_home']=false;
			me._bg_home.logicBlock_backgroundcolor();
		}
		me._bg_home.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.24, 0.24, 5, 5 );
		geometry.name = 'btn_home_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABUklEQVRoge3XvS4lYRjA8Wc2qGjplxuwK6FT7K5Wz13Y2+AqrHsgOpUEV7C2P6elOwk/hbyR5RgzzJwXeX/tfOT/ZD7emYiiKIpPC2tYy93RGmZw4MEBZnJ3NYI5HHvqGHO5+2phARdj4pMLzOfuHAtL+FcTn1xiMXfvf7CCYYP4ZIjvubsjIgIbuG4Rn1zjV+74bYxeEZ+MsJUr/jdu3xCf3GJnkuEV9joIf2wXVd/x0/jTQ3yyj+m+4mdx1GN8cojZruPncT6B+ORMVwseFt0vPpP2F1/fGv8NgwzxyQDLr43/iauM8ckVfjzXOfa1hdWIOImI9/IJPIqI9aqqTh9v+FJz0E1/Pa3dxDOtjRcO6CyngaqqGrXVXYEPoQyQ21TXJ3zp3u36WfrwV6'+
	'AMkFsZILcyQG5lgNzaDDB8Z/u0g031v5cDbE7qPEVRFEUREXEHFYwrk3f1vaUAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'btn_home_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 24;
		el.userData.height = 24;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'btn_home';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.220);
		el.renderOrder = 22;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._btn_home.material) me._btn_home.material.opacity = v;
			me._btn_home.visible = (v>0 && me._btn_home.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._btn_home.visible
			let parentEl = me._btn_home.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._btn_home.userData.opacity = v;
			v = v * me._btn_home.userData.parentOpacity;
			me._btn_home.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_home.children.length; i++) {
				let child = me._btn_home.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._btn_home.userData.parentOpacity = v;
			v = v * me._btn_home.userData.opacity
			me._btn_home.userData.setOpacityInternal(v);
			for (let i = 0; i < me._btn_home.children.length; i++) {
				let child = me._btn_home.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._btn_home = el;
		el.userData.ggId="btn_home";
		me._btn_home.userData.ggUpdatePosition=function (useTransition) {
		}
		me._bg_home.add(me._btn_home);
		me._controls_right_top_bg.add(me._bg_home);
		me._controls_right_top.add(me._controls_right_top_bg);
		me.skinGroup.add(me._controls_right_top);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-2.225);
		el.translateY(-0.5);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 335;
		el.userData.height = 400;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'information';
		el.userData.x = -2.225;
		el.userData.y = -0.5;
		el.userData.hanchor = 0;
		el.userData.vanchor = 2;
		el.translateZ(0.180);
		el.renderOrder = 18;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._information.material) me._information.material.opacity = v;
			me._information.visible = (v>0 && me._information.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._information.visible
			let parentEl = me._information.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._information.userData.opacity = v;
			v = v * me._information.userData.parentOpacity;
			me._information.userData.setOpacityInternal(v);
			for (let i = 0; i < me._information.children.length; i++) {
				let child = me._information.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._information.userData.parentOpacity = v;
			v = v * me._information.userData.opacity
			me._information.userData.setOpacityInternal(v);
			for (let i = 0; i < me._information.children.length; i++) {
				let child = me._information.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._information = el;
		el.userData.ggId="information";
		me._information.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_info') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._information.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._information.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._information.ggCurrentLogicStateVisible == 0) {
			me._information.visible=((!me._information.material && Number(me._information.userData.opacity>0)) || Number(me._information.material.opacity)>0)?true:false;
			me._information.userData.visible=true;
				}
				else {
			me._information.visible=false;
			me._information.userData.visible=false;
				}
			}
		}
		me._information.logicBlock_visible();
		me._information.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(3.35, 4, 5, 5 );
		geometry.name = 'Rectangle 3_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'Rectangle 3_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._rectangle_3.material.opacity = v * me._rectangle_3.userData.backgroundColorAlpha;
			if (me._rectangle_3.userData.ggSubElement) {
				me._rectangle_3.userData.ggSubElement.material.opacity = v
				me._rectangle_3.userData.ggSubElement.visible = (v>0 && me._rectangle_3.userData.visible);
			}
			me._rectangle_3.visible = (v>0 && me._rectangle_3.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._rectangle_3.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._rectangle_3.userData.backgroundColorAlpha = v;
			me._rectangle_3.userData.setOpacity(me._rectangle_3.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 335;
		el.userData.height = 400;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Rectangle 3';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.190);
		el.renderOrder = 19;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._rectangle_3.visible
			let parentEl = me._rectangle_3.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._rectangle_3.userData.opacity = v;
			v = v * me._rectangle_3.userData.parentOpacity;
			me._rectangle_3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rectangle_3.children.length; i++) {
				let child = me._rectangle_3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._rectangle_3.userData.parentOpacity = v;
			v = v * me._rectangle_3.userData.opacity
			me._rectangle_3.userData.setOpacityInternal(v);
			for (let i = 0; i < me._rectangle_3.children.length; i++) {
				let child = me._rectangle_3.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._rectangle_3 = el;
		el.userData.ggId="Rectangle 3";
		me._rectangle_3.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(3.015, 3.36, 5, 5 );
		geometry.name = 'Text 2_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'Text 2_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._text_2.material.opacity = v;
			if (me._text_2.userData.hasScrollbar) {
				me._text_2.userData.scrollbar.material.opacity = v;
				me._text_2.userData.scrollbarBg.material.opacity = v;
			}
			if (me._text_2.userData.ggSubElement) {
				me._text_2.userData.ggSubElement.material.opacity = v
				me._text_2.userData.ggSubElement.visible = (v>0 && me._text_2.userData.visible);
			}
			me._text_2.visible = (v>0 && me._text_2.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._text_2.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._text_2.userData.backgroundColorAlpha = v;
			me._text_2.userData.setOpacity(me._text_2.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.19);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 301.5;
		el.userData.height = 336;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Text 2';
		el.userData.x = 0;
		el.userData.y = -0.19;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.200);
		el.renderOrder = 20;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._text_2.visible
			let parentEl = me._text_2.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._text_2.userData.opacity = v;
			v = v * me._text_2.userData.parentOpacity;
			me._text_2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._text_2.children.length; i++) {
				let child = me._text_2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._text_2.userData.parentOpacity = v;
			v = v * me._text_2.userData.opacity
			me._text_2.userData.setOpacityInternal(v);
			for (let i = 0; i < me._text_2.children.length; i++) {
				let child = me._text_2.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._text_2 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0, 0, 0);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 302;
		canvas.height = 336;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._text_2.userData.totalHeight = 3;
			me._text_2.userData.textLines = [];
			var ctx = me._text_2.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._text_2.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._text_2.userData.textLines.push(line);
					line = '';
					me._text_2.userData.totalHeight += me._text_2.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._text_2.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._text_2.userData.textLines.push(line);
					line = words[i];
					me._text_2.userData.totalHeight += me._text_2.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._text_2.userData.textLines.push(line);
			me._text_2.userData.totalHeight += me._text_2.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._text_2.userData.textCanvas;
			var ctx = me._text_2.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._text_2.userData.textColor.r * 255 + ', ' + me._text_2.userData.textColor.g * 255 + ', ' + me._text_2.userData.textColor.b * 255 + ', ' + me._text_2.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var y = 3;
			y -= me._text_2.userData.scrollPosPercent * me._text_2.userData.totalHeight;
			y += (canv.height - me._text_2.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._text_2.userData.textLines.length; i++) {
				ctx.fillText(me._text_2.userData.textLines[i], x, y);
				y += me._text_2.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'Text 2_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._text_2.material.map) {
				me._text_2.material.map.dispose();
			}
			me._text_2.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._text_2.remove(...me._text_2.children);
			var canv = me._text_2.userData.textCanvas;
			var ctx = me._text_2.userData.textCanvasContext;
			ctx.font = '14px Verdana';
			me._text_2.userData.lineHeight = 14 * 1.2;
			me._text_2.userData.ggWrapText(false);
			me._text_2.userData.boxWidth = me._text_2.userData.width;
			me._text_2.userData.boxHeight = me._text_2.userData.height;
			me._text_2.userData.scrollPosPercent = 0.0
			if (me._text_2.userData.totalHeight > me._text_2.userData.height) {
				me._text_2.userData.ggWrapText(true);
				me._text_2.userData.pagePercent = me._text_2.userData.height / me._text_2.userData.totalHeight;
				me._text_2.userData.maxScrollPercent = (me._text_2.userData.totalHeight - me._text_2.userData.height) / me._text_2.userData.totalHeight;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._text_2.userData.height / 100.0, 5, 5 );
				geometry.name = 'Text 2_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'Text 2_scrollbarBgMaterial';
				me._text_2.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._text_2.userData.scrollbarBg.name = 'Text 2_scrollbarBg';
				me._text_2.add(me._text_2.userData.scrollbarBg);
				me._text_2.userData.scrollbarXPos = (me._text_2.userData.width - 25) / 200.0;
				me._text_2.userData.scrollbarBg.position.x = me._text_2.userData.scrollbarXPos;
				me._text_2.userData.scrollbarBg.position.z = me._text_2.position.z + 0.01;
				me._text_2.userData.scrollbarBg.userData.stopPropagation = true;
				me._text_2.userData.scrollbarHeight = (me._text_2.userData.height / me._text_2.userData.totalHeight) * me._text_2.userData.height;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._text_2.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'Text 2_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'Text 2_scrollbarMaterial';
				me._text_2.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._text_2.userData.scrollbar.name = 'Text 2_scrollbar';
				me._text_2.add(me._text_2.userData.scrollbar);
				me._text_2.userData.scrollbar.position.x = me._text_2.userData.scrollbarXPos;
				me._text_2.userData.scrollbar.position.z = me._text_2.position.z + 0.02;
				me._text_2.userData.scrollbarYPosMin = (me._text_2.userData.height - me._text_2.userData.scrollbarHeight) / 200.0;
				me._text_2.userData.scrollbarYPosMax = me._text_2.userData.scrollbarYPosMin - (me._text_2.userData.height - me._text_2.userData.scrollbarHeight) / 100.0;
				me._text_2.userData.scrollbar.position.y = me._text_2.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._text_2.userData.height / 200.0, 5, 5 );
				geometry.name = 'Text 2_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'Text 2_scrollbarPageDownMaterial';
				me._text_2.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._text_2.userData.scrollbarPageDown.name = 'Text 2_scrollbarPageDown';
				me._text_2.userData.scrollbarPageDown.userData.onclick = function() {
					me._text_2.userData.scrollPosPercent -= me._text_2.userData.pagePercent;
					me._text_2.userData.scrollPosPercent = Math.max(me._text_2.userData.scrollPosPercent, 0);
					me._text_2.userData.ggPaintCanvasText();
					me._text_2.userData.scrollbar.position.y += (me._text_2.userData.height * me._text_2.userData.pagePercent) / 100.0;
					me._text_2.userData.scrollbar.position.y = Math.min(me._text_2.userData.scrollbar.position.y, me._text_2.userData.scrollbarYPosMin);
				}
				me._text_2.userData.scrollbarPageDown.position.x = me._text_2.userData.scrollbarXPos;
				me._text_2.userData.scrollbarPageDown.position.y = me._text_2.userData.height / 400.0;
				me._text_2.userData.scrollbarPageDown.position.z = me._text_2.position.z + 0.05;
				me._text_2.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._text_2.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._text_2.userData.scrollbarPageDown.visible = false;
				me._text_2.add(me._text_2.userData.scrollbarPageDown);
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._text_2.userData.height / 200.0, 5, 5 );
				geometry.name = 'Text 2_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'Text 2_scrollbarPageUpMaterial';
				me._text_2.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._text_2.userData.scrollbarPageUp.name = 'Text 2_scrollbarPageUp';
				me._text_2.userData.scrollbarPageUp.userData.onclick = function() {
					me._text_2.userData.scrollPosPercent += me._text_2.userData.pagePercent;
					me._text_2.userData.scrollPosPercent = Math.min(me._text_2.userData.scrollPosPercent, me._text_2.userData.maxScrollPercent);
					me._text_2.userData.ggPaintCanvasText();
					me._text_2.userData.scrollbar.position.y -= (me._text_2.userData.height * me._text_2.userData.pagePercent) / 100.0;
					me._text_2.userData.scrollbar.position.y = Math.max(me._text_2.userData.scrollbar.position.y, me._text_2.userData.scrollbarYPosMax);
				}
				me._text_2.userData.scrollbarPageUp.position.x = me._text_2.userData.scrollbarXPos;
				me._text_2.userData.scrollbarPageUp.position.y = -me._text_2.userData.height / 400.0;
				me._text_2.userData.scrollbarPageUp.position.z = me._text_2.position.z + 0.05;
				me._text_2.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._text_2.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._text_2.userData.scrollbarPageUp.visible = false;
				me._text_2.add(me._text_2.userData.scrollbarPageUp);
				me._text_2.userData.hasScrollbar = true;
			} else {
				me._text_2.userData.hasScrollbar = false;
			}
			canv.width = me._text_2.userData.boxWidth;
			canv.height = me._text_2.userData.boxHeight;
			ctx.font = '14px Verdana';
			me._text_2.userData.ggPaintCanvasText();
		}
		me._text_2.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(player.getNodeUserdata('_master').description))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._text_2.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._text_2.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._text_2.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._text_2.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._text_2.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._text_2.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._text_2.userData.textColorAlpha = v;
		}
		el.userData.ggId="Text 2";
		me._text_2.userData.ggUpdatePosition=function (useTransition) {
		}
		me._rectangle_3.add(me._text_2);
		geometry = new THREE.PlaneBufferGeometry(3.35, 0.35, 5, 5 );
		geometry.name = 'Text 1_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'Text 1_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._text_1.material.opacity = v;
			if (me._text_1.userData.hasScrollbar) {
				me._text_1.userData.scrollbar.material.opacity = v;
				me._text_1.userData.scrollbarBg.material.opacity = v;
			}
			if (me._text_1.userData.ggSubElement) {
				me._text_1.userData.ggSubElement.material.opacity = v
				me._text_1.userData.ggSubElement.visible = (v>0 && me._text_1.userData.visible);
			}
			me._text_1.visible = (v>0 && me._text_1.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._text_1.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._text_1.userData.backgroundColorAlpha = v;
			me._text_1.userData.setOpacity(me._text_1.userData.opacity);
		}
		el.translateX(0);
		el.translateY(1.825);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 335;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Text 1';
		el.userData.x = 0;
		el.userData.y = 1.825;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.210);
		el.renderOrder = 21;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._text_1.visible
			let parentEl = me._text_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._text_1.userData.opacity = v;
			v = v * me._text_1.userData.parentOpacity;
			me._text_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._text_1.children.length; i++) {
				let child = me._text_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._text_1.userData.parentOpacity = v;
			v = v * me._text_1.userData.opacity
			me._text_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._text_1.children.length; i++) {
				let child = me._text_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._text_1 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.839216, 0.0666667, 0.188235);
		el.userData.textColor = new THREE.Color(1, 1, 1);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 335;
		canvas.height = 35;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._text_1.userData.totalHeight = 3;
			me._text_1.userData.textLines = [];
			var ctx = me._text_1.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._text_1.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._text_1.userData.textLines.push(line);
					line = '';
					me._text_1.userData.totalHeight += me._text_1.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._text_1.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._text_1.userData.textLines.push(line);
					line = words[i];
					me._text_1.userData.totalHeight += me._text_1.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._text_1.userData.textLines.push(line);
			me._text_1.userData.totalHeight += me._text_1.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._text_1.userData.textCanvas;
			var ctx = me._text_1.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._text_1.userData.backgroundColor.r * 255 + ', ' + me._text_1.userData.backgroundColor.g * 255 + ', ' + me._text_1.userData.backgroundColor.b * 255 + ', ' + me._text_1.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._text_1.userData.textColor.r * 255 + ', ' + me._text_1.userData.textColor.g * 255 + ', ' + me._text_1.userData.textColor.b * 255 + ', ' + me._text_1.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._text_1.userData.boxWidth - (me._text_1.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._text_1.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._text_1.userData.textLines.length; i++) {
				ctx.fillText(me._text_1.userData.textLines[i], x, y);
				y += me._text_1.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'Text 1_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._text_1.material.map) {
				me._text_1.material.map.dispose();
			}
			me._text_1.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._text_1.remove(...me._text_1.children);
			var canv = me._text_1.userData.textCanvas;
			var ctx = me._text_1.userData.textCanvasContext;
			ctx.font = '14px Verdana';
			me._text_1.userData.lineHeight = 14 * 1.2;
			me._text_1.userData.textLines = [];
			me._text_1.userData.textLines.push(me._text_1.userData.ggText);
			me._text_1.userData.totalHeight = 3;
			me._text_1.userData.totalHeight += me._text_1.userData.lineHeight;
			me._text_1.userData.boxWidth = me._text_1.userData.width;
			me._text_1.userData.boxHeight = me._text_1.userData.height;
			me._text_1.userData.hasScrollbar = false;
			canv.width = me._text_1.userData.boxWidth;
			canv.height = me._text_1.userData.boxHeight;
			ctx.font = '14px Verdana';
			me._text_1.userData.ggPaintCanvasText();
		}
		me._text_1.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(player.getNodeUserdata('_master').title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._text_1.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._text_1.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._text_1.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._text_1.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._text_1.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._text_1.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._text_1.userData.textColorAlpha = v;
		}
		el.userData.ggId="Text 1";
		me._text_1.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.25, 0.25, 5, 5 );
		geometry.name = 'Svg 1_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAyUlEQVRoge2YSwrDMAxEh24Muf8Rusuu9H7pRgOFmtAQqbGn88BbaV6cjyPAGGOMMf/NotDjDmADsAJoBfVb1N6iVwlLNOB6IFemRc33HmU7w6uVLdOTWBPqHmp4Vqai5s8bXyaRGeByiYwgw0icCTScBDkSbFgJ8k3A4SXIXtBpJEgv8DPWNBKkJzOdBGn43AXuTonEraKoChK3lsTDLvH6lfggShxRJA6NEsd4iR8riV9dmeGDxDhIakAnMTIlEkNsY4wxxozMCztY3dWK9P+FAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'Svg 1_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.55);
		el.translateY(0.05);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 25;
		el.userData.height = 25;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'Svg 1';
		el.userData.x = 1.55;
		el.userData.y = 0.05;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.220);
		el.renderOrder = 22;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._svg_1.material) me._svg_1.material.opacity = v;
			me._svg_1.visible = (v>0 && me._svg_1.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._svg_1.visible
			let parentEl = me._svg_1.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._svg_1.userData.opacity = v;
			v = v * me._svg_1.userData.parentOpacity;
			me._svg_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._svg_1.children.length; i++) {
				let child = me._svg_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._svg_1.userData.parentOpacity = v;
			v = v * me._svg_1.userData.opacity
			me._svg_1.userData.setOpacityInternal(v);
			for (let i = 0; i < me._svg_1.children.length; i++) {
				let child = me._svg_1.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._svg_1 = el;
		el.userData.ggId="Svg 1";
		me._svg_1.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['svg_1'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._svg_1.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._svg_1.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._svg_1.ggCurrentLogicStateScaling == 0) {
					me._svg_1.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._svg_1.position.x = (me._svg_1.position.x - me._svg_1.userData.curScaleOffX) + scaleOffX;
					me._svg_1.userData.curScaleOffX = scaleOffX;
					me._svg_1.position.y = (me._svg_1.position.y - me._svg_1.userData.curScaleOffY) + scaleOffY;
					me._svg_1.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._svg_1.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._svg_1.position.x = (me._svg_1.position.x - me._svg_1.userData.curScaleOffX) + scaleOffX;
					me._svg_1.userData.curScaleOffX = scaleOffX;
					me._svg_1.position.y = (me._svg_1.position.y - me._svg_1.userData.curScaleOffY) + scaleOffY;
					me._svg_1.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._svg_1.logicBlock_scaling();
		me._svg_1.userData.onclick=function (e) {
			player.setVariableValue('vis_info', false);
		}
		me._svg_1.userData.onmouseover=function (e) {
			me.elementMouseOver['svg_1']=true;
			me._svg_1.logicBlock_scaling();
		}
		me._svg_1.userData.ontouchend=function (e) {
			me._svg_1.logicBlock_scaling();
		}
		me._svg_1.userData.onmouseout=function (e) {
			me.elementMouseOver['svg_1']=false;
			me._svg_1.logicBlock_scaling();
		}
		me._svg_1.userData.ggUpdatePosition=function (useTransition) {
		}
		me._text_1.add(me._svg_1);
		me._rectangle_3.add(me._text_1);
		me._information.add(me._rectangle_3);
		me.skinGroup.add(me._information);
		me._variable_vis_sounds_splashscreen = {};
		me._variable_vis_sounds_splashscreen.ggCurrentLogicState = -1;
		me._variable_vis_sounds_splashscreen.logicBlock = function() {
			var newLogicState_vis_sounds_splashscreen;
			if (
				((player.getHasSounds() == true)) && 
				((player.getSoundsPermitted() != 1)) && 
				((player.getVariableValue('sounds_splashscreen_accepted') == false))
			)
			{
				newLogicState_vis_sounds_splashscreen = 0;
			}
			else {
				newLogicState_vis_sounds_splashscreen = -1;
			}
			if (me._variable_vis_sounds_splashscreen.ggCurrentLogicState != newLogicState_vis_sounds_splashscreen) {
				me._variable_vis_sounds_splashscreen.ggCurrentLogicState = newLogicState_vis_sounds_splashscreen;
				if (me._variable_vis_sounds_splashscreen.ggCurrentLogicState == 0) {
					player.setVariableValue('vis_sounds_splashscreen', true);
				}
				else {
					player.setVariableValue('vis_sounds_splashscreen', false);
				}
			}
		}
		me._variable_vis_skin = {};
		me._variable_vis_skin.ggCurrentLogicState = -1;
		me._variable_vis_skin.logicBlock = function() {
			var newLogicState_vis_skin;
			if (
				((player.getVariableValue('vis_sounds_splashscreen') == false))
			)
			{
				newLogicState_vis_skin = 0;
			}
			else {
				newLogicState_vis_skin = -1;
			}
			if (me._variable_vis_skin.ggCurrentLogicState != newLogicState_vis_skin) {
				me._variable_vis_skin.ggCurrentLogicState = newLogicState_vis_skin;
				if (me._variable_vis_skin.ggCurrentLogicState == 0) {
					player.setVariableValue('vis_skin', true);
				}
				else {
					player.setVariableValue('vis_skin', false);
				}
			}
		}
		me._variable_vis_controls_left = {};
		me._variable_vis_controls_left.ggCurrentLogicState = -1;
		me._variable_vis_controls_left.logicBlock = function() {
			var newLogicState_vis_controls_left;
			if (
				((player.getVariableValue('resp_phone') == true))
			)
			{
				newLogicState_vis_controls_left = 0;
			}
			else {
				newLogicState_vis_controls_left = -1;
			}
			if (me._variable_vis_controls_left.ggCurrentLogicState != newLogicState_vis_controls_left) {
				me._variable_vis_controls_left.ggCurrentLogicState = newLogicState_vis_controls_left;
				if (me._variable_vis_controls_left.ggCurrentLogicState == 0) {
					player.setVariableValue('vis_controls_left', false);
				}
				else {
					player.setVariableValue('vis_controls_left', true);
				}
			}
		}
		me._variable_vis_video_hs_popup = {};
		me._variable_vis_video_hs_popup.ggCurrentLogicState = -1;
		me._variable_vis_video_hs_popup.logicBlock = function() {
			var newLogicState_vis_video_hs_popup;
			if (
				((player.getVariableValue('vis_video_youtube_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_vimeo_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_file_hs_popup') == true)) || 
				((player.getVariableValue('vis_video_url_hs_popup') == true))
			)
			{
				newLogicState_vis_video_hs_popup = 0;
			}
			else {
				newLogicState_vis_video_hs_popup = -1;
			}
			if (me._variable_vis_video_hs_popup.ggCurrentLogicState != newLogicState_vis_video_hs_popup) {
				me._variable_vis_video_hs_popup.ggCurrentLogicState = newLogicState_vis_video_hs_popup;
				if (me._variable_vis_video_hs_popup.ggCurrentLogicState == 0) {
					player.setVariableValue('vis_video_hs_popup', true);
				}
				else {
					player.setVariableValue('vis_video_hs_popup', false);
				}
			}
		}
		me._variable_opt_maps = {};
		me._variable_opt_maps.ggCurrentLogicState = -1;
		me._variable_opt_maps.logicBlock = function() {
			var newLogicState_opt_maps;
			if (
				((player.hasMap() == true))
			)
			{
				newLogicState_opt_maps = 0;
			}
			else {
				newLogicState_opt_maps = -1;
			}
			if (me._variable_opt_maps.ggCurrentLogicState != newLogicState_opt_maps) {
				me._variable_opt_maps.ggCurrentLogicState = newLogicState_opt_maps;
				if (me._variable_opt_maps.ggCurrentLogicState == 0) {
					player.setVariableValue('opt_maps', true);
				}
				else {
					player.setVariableValue('opt_maps', false);
				}
			}
		}
		me._variable_opt_floorplans = {};
		me._variable_opt_floorplans.ggCurrentLogicState = -1;
		me._variable_opt_floorplans.logicBlock = function() {
			var newLogicState_opt_floorplans;
			if (
				((player.hasFloorplan() == true))
			)
			{
				newLogicState_opt_floorplans = 0;
			}
			else {
				newLogicState_opt_floorplans = -1;
			}
			if (me._variable_opt_floorplans.ggCurrentLogicState != newLogicState_opt_floorplans) {
				me._variable_opt_floorplans.ggCurrentLogicState = newLogicState_opt_floorplans;
				if (me._variable_opt_floorplans.ggCurrentLogicState == 0) {
					player.setVariableValue('opt_floorplans', true);
				}
				else {
					player.setVariableValue('opt_floorplans', false);
				}
			}
		}
		me._variable_opt_share = {};
		me._variable_opt_share.ggCurrentLogicState = -1;
		me._variable_opt_share.logicBlock = function() {
			var newLogicState_opt_share;
			if (
				((player.getVariableValue('opt_share_facebook') == true)) || 
				((player.getVariableValue('opt_share_twitter') == true)) || 
				((player.getVariableValue('opt_share_copy') == true))
			)
			{
				newLogicState_opt_share = 0;
			}
			else {
				newLogicState_opt_share = -1;
			}
			if (me._variable_opt_share.ggCurrentLogicState != newLogicState_opt_share) {
				me._variable_opt_share.ggCurrentLogicState = newLogicState_opt_share;
				if (me._variable_opt_share.ggCurrentLogicState == 0) {
					player.setVariableValue('opt_share', true);
				}
				else {
					player.setVariableValue('opt_share', false);
				}
			}
		}
		me._variable_has_fullscreen = {};
		me._variable_has_fullscreen.ggCurrentLogicState = -1;
		me._variable_has_fullscreen.logicBlock = function() {
			var newLogicState_has_fullscreen;
			if (
				((player.getOS() == 4)) && 
				((player.getOS() != 6))
			)
			{
				newLogicState_has_fullscreen = 0;
			}
			else {
				newLogicState_has_fullscreen = -1;
			}
			if (me._variable_has_fullscreen.ggCurrentLogicState != newLogicState_has_fullscreen) {
				me._variable_has_fullscreen.ggCurrentLogicState = newLogicState_has_fullscreen;
				if (me._variable_has_fullscreen.ggCurrentLogicState == 0) {
					player.setVariableValue('has_fullscreen', false);
				}
				else {
					player.setVariableValue('has_fullscreen', true);
				}
			}
		}
		me._variable_resp_desktop = {};
		me._variable_resp_desktop.ggCurrentLogicState = -1;
		me._variable_resp_desktop.logicBlock = function() {
			var newLogicState_resp_desktop;
			if (
				((player.getViewerSize().width > 1024))
			)
			{
				newLogicState_resp_desktop = 0;
			}
			else {
				newLogicState_resp_desktop = -1;
			}
			if (me._variable_resp_desktop.ggCurrentLogicState != newLogicState_resp_desktop) {
				me._variable_resp_desktop.ggCurrentLogicState = newLogicState_resp_desktop;
				if (me._variable_resp_desktop.ggCurrentLogicState == 0) {
					player.setVariableValue('resp_desktop', true);
				}
				else {
					player.setVariableValue('resp_desktop', false);
				}
			}
		}
		me._variable_resp_tablet = {};
		me._variable_resp_tablet.ggCurrentLogicState = -1;
		me._variable_resp_tablet.logicBlock = function() {
			var newLogicState_resp_tablet;
			if (
				((player.getViewerSize().width <= 1024))
			)
			{
				newLogicState_resp_tablet = 0;
			}
			else {
				newLogicState_resp_tablet = -1;
			}
			if (me._variable_resp_tablet.ggCurrentLogicState != newLogicState_resp_tablet) {
				me._variable_resp_tablet.ggCurrentLogicState = newLogicState_resp_tablet;
				if (me._variable_resp_tablet.ggCurrentLogicState == 0) {
					player.setVariableValue('resp_tablet', true);
				}
				else {
					player.setVariableValue('resp_tablet', false);
				}
			}
		}
		me._variable_resp_phone = {};
		me._variable_resp_phone.ggCurrentLogicState = -1;
		me._variable_resp_phone.logicBlock = function() {
			var newLogicState_resp_phone;
			if (
				((player.getViewerSize().width <= 1024))
			)
			{
				newLogicState_resp_phone = 0;
			}
			else {
				newLogicState_resp_phone = -1;
			}
			if (me._variable_resp_phone.ggCurrentLogicState != newLogicState_resp_phone) {
				me._variable_resp_phone.ggCurrentLogicState = newLogicState_resp_phone;
				if (me._variable_resp_phone.ggCurrentLogicState == 0) {
					player.setVariableValue('resp_phone', true);
				}
				else {
					player.setVariableValue('resp_phone', false);
				}
			}
		}
		me._background_blur.logicBlock_visible();
		me._background_blur.userData.setOpacity(1.00);
		me._share.logicBlock_position();
		me._share.logicBlock_visible();
		me._share.userData.setOpacity(1.00);
		me._copy.logicBlock_visible();
		me._copy.userData.setOpacity(1.00);
		me._twitter.logicBlock_visible();
		me._twitter.userData.setOpacity(1.00);
		me._facebook.logicBlock_visible();
		me._facebook.userData.setOpacity(1.00);
		me._share_close.userData.setOpacity(1.00);
		me._info.logicBlock_visible();
		me._info.userData.setOpacity(1.00);
		me._info_text.userData.setOpacity(1.00);
		me._info_close.userData.setOpacity(1.00);
		me._map.logicBlock_visible();
		me._map.userData.setOpacity(1.00);
		me._map_content.logicBlock_visible();
		me._map_content.userData.setOpacity(1.00);
		me._floorplan_content.logicBlock_visible();
		me._floorplan_content.userData.setOpacity(1.00);
		me._map_close.userData.setOpacity(1.00);
		me._map_full.userData.setOpacity(1.00);
		me._map_fullscreen.logicBlock_visible();
		me._map_fullscreen.userData.setOpacity(1.00);
		me._map_fs_content.logicBlock_visible();
		me._map_fs_content.userData.setOpacity(1.00);
		me._floorplan_fs_content.logicBlock_visible();
		me._floorplan_fs_content.userData.setOpacity(1.00);
		me._map_fs_close.userData.setOpacity(1.00);
		me._map_fs_small.logicBlock_visible();
		me._map_fs_small.userData.setOpacity(1.00);
		me._thumbnails.logicBlock_visible();
		me._thumbnails.userData.setOpacity(1.00);
		me._thumbnails_scroller.userData.setOpacity(1.00);
		me._thumbnails_cloner.userData.setOpacity(1.00);
		me._thumbnails_cloner.userData.ggUpdate();
		me._thumbnails_close.userData.setOpacity(1.00);
		me._thumbnails_full.userData.setOpacity(1.00);
		me._thumbnails_fullscreen.logicBlock_visible();
		me._thumbnails_fullscreen.userData.setOpacity(1.00);
		me._thumbnails_fs_scroller.userData.setOpacity(1.00);
		me._thumbnails_fs_cloner.userData.setOpacity(1.00);
		me._thumbnails_fs_cloner.userData.ggUpdate();
		me._thumbnails_fs_close.userData.setOpacity(1.00);
		me._thumbnails_small.userData.setOpacity(1.00);
		me._video_hs_popup.logicBlock_visible();
		me._video_hs_popup.userData.setOpacity(1.00);
		me._video_hs_popup_close.userData.setOpacity(1.00);
		me._video_youtube_hs_popup_vid.logicBlock_visible();
		me._video_youtube_hs_popup_vid.userData.setOpacity(1.00);
		me._video_youtube_hs_popup_vid.userData.ggVideoSource = '';
		me._video_youtube_hs_popup_vid.userData.ggVideoNotLoaded = true;
		me._video_vimeo_hs_popup_vid.logicBlock_visible();
		me._video_vimeo_hs_popup_vid.userData.setOpacity(1.00);
		me._video_vimeo_hs_popup_vid.userData.ggVideoSource = '';
		me._video_vimeo_hs_popup_vid.userData.ggVideoNotLoaded = true;
		me._video_file_hs_popup_vid.logicBlock_visible();
		me._video_file_hs_popup_vid.userData.setOpacity(1.00);
		me._video_file_hs_popup_vid.userData.ggVideoSource = 'media_vr/';
		me._video_file_hs_popup_vid.userData.ggVideoNotLoaded = true;
		me._video_file_hs_popup_play.logicBlock_visible();
		me._video_file_hs_popup_play.userData.setOpacity(1.00);
		me._video_url_hs_popup_vid.logicBlock_visible();
		me._video_url_hs_popup_vid.userData.setOpacity(1.00);
		me._video_url_hs_popup_vid.userData.ggVideoSource = 'media_vr/';
		me._video_url_hs_popup_vid.userData.ggVideoNotLoaded = true;
		me._video_url_hs_popup_play.logicBlock_visible();
		me._video_url_hs_popup_play.userData.setOpacity(1.00);
		me._video_controller.logicBlock_visible();
		me._video_controller.userData.setOpacity(1.00);
		me._video_hs_popup_title.userData.setOpacity(1.00);
		me._pdf_hs_popup.logicBlock_visible();
		me._pdf_hs_popup.userData.setOpacity(1.00);
		me._pdf_hs_popup_close.userData.setOpacity(1.00);
		me._pdf_hs_popup_title.userData.setOpacity(1.00);
		me._pdf_hs_popup_pdf.userData.setOpacity(1.00);
		me._image_hs_popup_fullscreen.logicBlock_visible();
		me._image_hs_popup_fullscreen.userData.setOpacity(1.00);
		me._image_hs_popup_fs_description.userData.setOpacity(1.00);
		me._image_hs_popup_fs_img.logicBlock_size();
		me._image_hs_popup_fs_img.userData.setOpacity(1.00);
		me._image_hs_popup_fs_title.userData.setOpacity(1.00);
		me._image_hs_popup_fs_close.userData.setOpacity(1.00);
		me._url_hs_popup.logicBlock_visible();
		me._url_hs_popup.userData.setOpacity(1.00);
		me._url_hs_popup_close.userData.setOpacity(1.00);
		me._url_hs_popup_title.userData.setOpacity(1.00);
		me._url_hs_popup_iframe.userData.setOpacity(1.00);
		me._popup_phone.logicBlock_visible();
		me._popup_phone.userData.setOpacity(1.00);
		me._close_popup_phone.userData.setOpacity(1.00);
		me._info_popup_phone.logicBlock_visible();
		me._info_popup_phone.userData.setOpacity(1.00);
		me._info_popup_text_phone.userData.setOpacity(1.00);
		me._info_popup_title_phone.userData.setOpacity(1.00);
		me._thumbnail_scroller_phone.logicBlock_visible();
		me._thumbnail_scroller_phone.userData.setOpacity(1.00);
		me._node_cloner_phone.userData.setOpacity(1.00);
		me._node_cloner_phone.userData.ggUpdate();
		me._map_el_phone.logicBlock_visible();
		me._map_el_phone.userData.setOpacity(1.00);
		me._floorplan_el_phone.logicBlock_visible();
		me._floorplan_el_phone.userData.setOpacity(1.00);
		me._image_popup_phone.logicBlock_visible();
		me._image_popup_phone.userData.setOpacity(1.00);
		me._pdf_popup_phone.logicBlock_visible();
		me._pdf_popup_phone.userData.setOpacity(1.00);
		me._video_controller_phone.logicBlock_visible();
		me._video_controller_phone.userData.setOpacity(1.00);
		me._youtube_popup_phone.logicBlock_visible();
		me._youtube_popup_phone.userData.setOpacity(1.00);
		me._youtube_popup_phone.userData.ggVideoSource = '';
		me._youtube_popup_phone.userData.ggVideoNotLoaded = true;
		me._vimeo_popup_phone.logicBlock_visible();
		me._vimeo_popup_phone.userData.setOpacity(1.00);
		me._vimeo_popup_phone.userData.ggVideoSource = '';
		me._vimeo_popup_phone.userData.ggVideoNotLoaded = true;
		me._video_file_popup_phone.logicBlock_visible();
		me._video_file_popup_phone.userData.setOpacity(1.00);
		me._video_file_popup_phone.userData.ggVideoSource = 'media_vr/';
		me._video_file_popup_phone.userData.ggVideoNotLoaded = true;
		me._video_file_popup_phone_play.logicBlock_visible();
		me._video_file_popup_phone_play.userData.setOpacity(1.00);
		me._video_url_popup_phone.logicBlock_visible();
		me._video_url_popup_phone.userData.setOpacity(1.00);
		me._video_url_popup_phone.userData.ggVideoSource = 'media_vr/';
		me._video_url_popup_phone.userData.ggVideoNotLoaded = true;
		me._video_url_popup_phone_play.logicBlock_visible();
		me._video_url_popup_phone_play.userData.setOpacity(1.00);
		me._local_fonts.userData.setOpacity(1.00);
		me._controls_center.userData.setOpacity(1.00);
		me._controls_center_bg.userData.setOpacity(1.00);
		me._next.logicBlock_position();
		me._next.userData.setOpacity(1.00);
		me._rectangle_1.userData.setOpacity(1.00);
		me._pause.logicBlock_visible();
		me._pause.userData.setOpacity(1.00);
		me._play.logicBlock_visible();
		me._play.userData.setOpacity(1.00);
		me._prev.logicBlock_position();
		me._prev.userData.setOpacity(1.00);
		me._controls_left.userData.setOpacity(1.00);
		me._controls_left_bg.userData.setOpacity(1.00);
		me._toggle_audio.logicBlock_visible();
		me._toggle_audio.userData.setOpacity(1.00);
		me._audio_off.logicBlock_scaling();
		me._audio_off.logicBlock_visible();
		me._audio_off.userData.setOpacity(1.00);
		me._audio_on.logicBlock_scaling();
		me._audio_on.logicBlock_visible();
		me._audio_on.userData.setOpacity(1.00);
		me._setting.logicBlock_angle();
		me._setting.userData.setOpacity(1.00);
		me._control_left_vertical.logicBlock_visible();
		me._control_left_vertical.userData.setOpacity(1.00);
		me._rectangle_2.userData.setOpacity(1.00);
		me._toggle_grypo.logicBlock_visible();
		me._toggle_grypo.userData.setOpacity(1.00);
		me._grypo_off.logicBlock_scaling();
		me._grypo_off.logicBlock_visible();
		me._grypo_off.userData.setOpacity(1.00);
		me._grypo_on.logicBlock_scaling();
		me._grypo_on.logicBlock_visible();
		me._grypo_on.userData.setOpacity(1.00);
		me._toggle_rotate.logicBlock_visible();
		me._toggle_rotate.userData.setOpacity(1.00);
		me._rotate_off.logicBlock_scaling();
		me._rotate_off.logicBlock_visible();
		me._rotate_off.userData.setOpacity(1.00);
		me._rotate_on.logicBlock_scaling();
		me._rotate_on.logicBlock_visible();
		me._rotate_on.userData.setOpacity(1.00);
		me._btn_vr.logicBlock_scaling();
		me._btn_vr.userData.setOpacity(1.00);
		me._btn_info.logicBlock_scaling();
		me._btn_info.userData.setOpacity(1.00);
		me._controls_right_top.userData.setOpacity(1.00);
		me._controls_right_top_bg.userData.setOpacity(1.00);
		me._bg_fullscreen.logicBlock_backgroundcolor();
		me._bg_fullscreen.userData.setOpacity(1.00);
		me._btn_fullscreen.userData.setOpacity(1.00);
		me._bg_floorplan.logicBlock_backgroundcolor();
		me._bg_floorplan.userData.setOpacity(1.00);
		me._btn_floorplan.userData.setOpacity(1.00);
		me._bg_home.logicBlock_backgroundcolor();
		me._bg_home.userData.setOpacity(1.00);
		me._btn_home.userData.setOpacity(1.00);
		me._information.logicBlock_visible();
		me._information.userData.setOpacity(1.00);
		me._rectangle_3.userData.setOpacity(1.00);
		me._text_2.userData.setOpacity(1.00);
		me._text_1.userData.setOpacity(1.00);
		me._svg_1.logicBlock_scaling();
		me._svg_1.userData.setOpacity(1.00);
		player.addListener('activehotspotchanged', function() {
			if (hotspotTemplates.hasOwnProperty('ht_video_youtube')) {
				for(var i = 0; i < hotspotTemplates['ht_video_youtube'].length; i++) {
					hotspotTemplates['ht_video_youtube'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_vimeo')) {
				for(var i = 0; i < hotspotTemplates['ht_video_vimeo'].length; i++) {
					hotspotTemplates['ht_video_vimeo'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_url')) {
				for(var i = 0; i < hotspotTemplates['ht_video_url'].length; i++) {
					hotspotTemplates['ht_video_url'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_file')) {
				for(var i = 0; i < hotspotTemplates['ht_video_file'].length; i++) {
					hotspotTemplates['ht_video_file'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_pdf')) {
				for(var i = 0; i < hotspotTemplates['ht_pdf'].length; i++) {
					hotspotTemplates['ht_pdf'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_info')) {
				for(var i = 0; i < hotspotTemplates['ht_info'].length; i++) {
					hotspotTemplates['ht_info'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url')) {
				for(var i = 0; i < hotspotTemplates['ht_url'].length; i++) {
					hotspotTemplates['ht_url'][i].ggEvent_activehotspotchanged();
				}
			}
			if (hotspotTemplates.hasOwnProperty('floor_hotspot')) {
				for(var i = 0; i < hotspotTemplates['floor_hotspot'].length; i++) {
					hotspotTemplates['floor_hotspot'][i].ggEvent_activehotspotchanged();
				}
			}
			me._info.logicBlock_visible();
		});
		player.addListener('autorotatechanged', function() {
			me._pause.logicBlock_visible();
			me._play.logicBlock_visible();
		});
		player.addListener('changenode', function() {
			for(var i = 0; i < me._node_cloner_phone.userData.ggInstances.length; i++) {
				me._node_cloner_phone.userData.ggInstances[i].ggEvent_changenode();
			}
			for(var i = 0; i < me._thumbnails_fs_cloner.userData.ggInstances.length; i++) {
				me._thumbnails_fs_cloner.userData.ggInstances[i].ggEvent_changenode();
			}
			for(var i = 0; i < me._thumbnails_cloner.userData.ggInstances.length; i++) {
				me._thumbnails_cloner.userData.ggInstances[i].ggEvent_changenode();
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_youtube')) {
				for(var i = 0; i < hotspotTemplates['ht_video_youtube'].length; i++) {
					hotspotTemplates['ht_video_youtube'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_vimeo')) {
				for(var i = 0; i < hotspotTemplates['ht_video_vimeo'].length; i++) {
					hotspotTemplates['ht_video_vimeo'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_url')) {
				for(var i = 0; i < hotspotTemplates['ht_video_url'].length; i++) {
					hotspotTemplates['ht_video_url'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_file')) {
				for(var i = 0; i < hotspotTemplates['ht_video_file'].length; i++) {
					hotspotTemplates['ht_video_file'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_pdf')) {
				for(var i = 0; i < hotspotTemplates['ht_pdf'].length; i++) {
					hotspotTemplates['ht_pdf'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_info')) {
				for(var i = 0; i < hotspotTemplates['ht_info'].length; i++) {
					hotspotTemplates['ht_info'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url')) {
				for(var i = 0; i < hotspotTemplates['ht_url'].length; i++) {
					hotspotTemplates['ht_url'][i].ggEvent_changenode();
				}
			}
			if (hotspotTemplates.hasOwnProperty('floor_hotspot')) {
				for(var i = 0; i < hotspotTemplates['floor_hotspot'].length; i++) {
					hotspotTemplates['floor_hotspot'][i].ggEvent_changenode();
				}
			}
			me._background_blur.logicBlock_visible();
			me._share.logicBlock_position();
			me._share.logicBlock_visible();
			me._copy.logicBlock_visible();
			me._twitter.logicBlock_visible();
			me._facebook.logicBlock_visible();
			me._info.logicBlock_visible();
			me._map.logicBlock_visible();
			me._map_content.logicBlock_visible();
			me._floorplan_content.logicBlock_visible();
			me._map_fullscreen.logicBlock_visible();
			me._map_fs_content.logicBlock_visible();
			me._floorplan_fs_content.logicBlock_visible();
			me._map_fs_small.logicBlock_visible();
			me._thumbnails.logicBlock_visible();
			me._thumbnails_fullscreen.logicBlock_visible();
			me._video_hs_popup.logicBlock_visible();
			me._video_youtube_hs_popup_vid.logicBlock_visible();
			me._video_vimeo_hs_popup_vid.logicBlock_visible();
			me._video_file_hs_popup_vid.logicBlock_visible();
			me._video_file_hs_popup_play.logicBlock_visible();
			me._video_url_hs_popup_vid.logicBlock_visible();
			me._video_url_hs_popup_play.logicBlock_visible();
			me._video_controller.logicBlock_visible();
			me._pdf_hs_popup.logicBlock_visible();
			me._image_hs_popup_fullscreen.logicBlock_visible();
			me._image_hs_popup_fs_img.logicBlock_size();
			me._url_hs_popup.logicBlock_visible();
			me._popup_phone.logicBlock_visible();
			me._info_popup_phone.logicBlock_visible();
			me._thumbnail_scroller_phone.logicBlock_visible();
			me._map_el_phone.logicBlock_visible();
			me._floorplan_el_phone.logicBlock_visible();
			me._image_popup_phone.logicBlock_visible();
			me._pdf_popup_phone.logicBlock_visible();
			me._video_controller_phone.logicBlock_visible();
			me._youtube_popup_phone.logicBlock_visible();
			me._vimeo_popup_phone.logicBlock_visible();
			me._video_file_popup_phone.logicBlock_visible();
			me._video_file_popup_phone_play.logicBlock_visible();
			me._video_url_popup_phone.logicBlock_visible();
			me._video_url_popup_phone_play.logicBlock_visible();
			me._pause.logicBlock_visible();
			me._play.logicBlock_visible();
			me._audio_off.logicBlock_visible();
			me._audio_on.logicBlock_visible();
			me._control_left_vertical.logicBlock_visible();
			me._grypo_off.logicBlock_visible();
			me._grypo_on.logicBlock_visible();
			me._rotate_off.logicBlock_visible();
			me._rotate_on.logicBlock_visible();
			me._information.logicBlock_visible();
			me._variable_vis_sounds_splashscreen.logicBlock();
			me._variable_vis_skin.logicBlock();
			me._variable_vis_controls_left.logicBlock();
			me._variable_vis_video_hs_popup.logicBlock();
			me._variable_opt_share.logicBlock();
		});
		player.addListener('changevisitednodes', function() {
			for(var i = 0; i < me._node_cloner_phone.userData.ggInstances.length; i++) {
				me._node_cloner_phone.userData.ggInstances[i].ggEvent_changevisitednodes();
			}
			for(var i = 0; i < me._thumbnails_fs_cloner.userData.ggInstances.length; i++) {
				me._thumbnails_fs_cloner.userData.ggInstances[i].ggEvent_changevisitednodes();
			}
			for(var i = 0; i < me._thumbnails_cloner.userData.ggInstances.length; i++) {
				me._thumbnails_cloner.userData.ggInstances[i].ggEvent_changevisitednodes();
			}
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_changevisitednodes();
				}
			}
		});
		player.addListener('configloaded', function() {
			if (hotspotTemplates.hasOwnProperty('ht_video_youtube')) {
				for(var i = 0; i < hotspotTemplates['ht_video_youtube'].length; i++) {
					hotspotTemplates['ht_video_youtube'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_vimeo')) {
				for(var i = 0; i < hotspotTemplates['ht_video_vimeo'].length; i++) {
					hotspotTemplates['ht_video_vimeo'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_url')) {
				for(var i = 0; i < hotspotTemplates['ht_video_url'].length; i++) {
					hotspotTemplates['ht_video_url'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_file')) {
				for(var i = 0; i < hotspotTemplates['ht_video_file'].length; i++) {
					hotspotTemplates['ht_video_file'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_pdf')) {
				for(var i = 0; i < hotspotTemplates['ht_pdf'].length; i++) {
					hotspotTemplates['ht_pdf'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_info')) {
				for(var i = 0; i < hotspotTemplates['ht_info'].length; i++) {
					hotspotTemplates['ht_info'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_url')) {
				for(var i = 0; i < hotspotTemplates['ht_url'].length; i++) {
					hotspotTemplates['ht_url'][i].ggEvent_configloaded();
				}
			}
			if (hotspotTemplates.hasOwnProperty('floor_hotspot')) {
				for(var i = 0; i < hotspotTemplates['floor_hotspot'].length; i++) {
					hotspotTemplates['floor_hotspot'][i].ggEvent_configloaded();
				}
			}
			me._background_blur.logicBlock_visible();
			me._share.logicBlock_position();
			me._share.logicBlock_visible();
			player.setVariableValue('pos_share_buttons', Number("8.00"));
			if (
				(
					((player.getVariableValue('opt_share_facebook') == true))
				)
			) {
				player.setVariableValue('pos_share_buttons', player.getVariableValue('pos_share_buttons') + Number("32.00"));
			}
			me._twitter.position.x = me._twitter.userData.x + me._twitter.userData.curScaleOffX + (player.getVariableValue('pos_share_buttons'. me.hotspot ? me.hotspot.id : (player.hotspot ? player.hotspot.id : '')) / 100.0);
			me._twitter.position.y = me._twitter.userData.y + me._twitter.userData.curScaleOffY - (0 / 100.0);
			if (
				(
					((player.getVariableValue('opt_share_twitter') == true))
				)
			) {
				player.setVariableValue('pos_share_buttons', player.getVariableValue('pos_share_buttons') + Number("32.00"));
			}
			me._copy.position.x = me._copy.userData.x + me._copy.userData.curScaleOffX + (player.getVariableValue('pos_share_buttons'. me.hotspot ? me.hotspot.id : (player.hotspot ? player.hotspot.id : '')) / 100.0);
			me._copy.position.y = me._copy.userData.y + me._copy.userData.curScaleOffY - (0 / 100.0);
			me._copy.logicBlock_visible();
			me._twitter.logicBlock_visible();
			me._facebook.logicBlock_visible();
			me._info.logicBlock_visible();
			me._map.logicBlock_visible();
			me._map_content.logicBlock_visible();
			me._floorplan_content.logicBlock_visible();
			me._map_fullscreen.logicBlock_visible();
			me._map_fs_content.logicBlock_visible();
			me._floorplan_fs_content.logicBlock_visible();
			me._map_fs_small.logicBlock_visible();
			me._thumbnails.logicBlock_visible();
			me._thumbnails_fullscreen.logicBlock_visible();
			me._video_hs_popup.logicBlock_visible();
			me._video_youtube_hs_popup_vid.logicBlock_visible();
			me._video_vimeo_hs_popup_vid.logicBlock_visible();
			me._video_file_hs_popup_vid.logicBlock_visible();
			me._video_file_hs_popup_play.logicBlock_visible();
			me._video_url_hs_popup_vid.logicBlock_visible();
			me._video_url_hs_popup_play.logicBlock_visible();
			me._video_controller.logicBlock_visible();
			me._pdf_hs_popup.logicBlock_visible();
			me._image_hs_popup_fullscreen.logicBlock_visible();
			me._image_hs_popup_fs_img.logicBlock_size();
			me._url_hs_popup.logicBlock_visible();
			me._popup_phone.logicBlock_visible();
			me._info_popup_phone.logicBlock_visible();
			me._thumbnail_scroller_phone.logicBlock_visible();
			me._map_el_phone.logicBlock_visible();
			me._floorplan_el_phone.logicBlock_visible();
			me._image_popup_phone.logicBlock_visible();
			me._pdf_popup_phone.logicBlock_visible();
			me._video_controller_phone.logicBlock_visible();
			me._youtube_popup_phone.logicBlock_visible();
			me._vimeo_popup_phone.logicBlock_visible();
			me._video_file_popup_phone.logicBlock_visible();
			me._video_file_popup_phone_play.logicBlock_visible();
			me._video_url_popup_phone.logicBlock_visible();
			me._video_url_popup_phone_play.logicBlock_visible();
			me._toggle_audio.logicBlock_visible();
			me._audio_off.logicBlock_visible();
			me._audio_on.logicBlock_visible();
			me._control_left_vertical.logicBlock_visible();
			me._toggle_grypo.logicBlock_visible();
			me._grypo_off.logicBlock_visible();
			me._grypo_on.logicBlock_visible();
			me._toggle_rotate.logicBlock_visible();
			me._rotate_off.logicBlock_visible();
			me._rotate_on.logicBlock_visible();
			me._information.logicBlock_visible();
			me._variable_vis_sounds_splashscreen.logicBlock();
			me._variable_vis_skin.logicBlock();
			me._variable_vis_controls_left.logicBlock();
			me._variable_vis_video_hs_popup.logicBlock();
			me._variable_opt_maps.logicBlock();
			me._variable_opt_floorplans.logicBlock();
			me._variable_opt_share.logicBlock();
			me._variable_has_fullscreen.logicBlock();
		});
		player.addListener('hastouch', function() {
			if (hotspotTemplates.hasOwnProperty('floor_hotspot')) {
				for(var i = 0; i < hotspotTemplates['floor_hotspot'].length; i++) {
					hotspotTemplates['floor_hotspot'][i].ggEvent_hastouch();
				}
			}
		});
		player.addListener('sizechanged', function() {
			me._variable_resp_desktop.logicBlock();
			me._variable_resp_tablet.logicBlock();
			me._variable_resp_phone.logicBlock();
		});
		player.addListener('soundspermittedchanged', function() {
			me._variable_vis_sounds_splashscreen.logicBlock();
		});
		player.addListener('varchanged_image_hs_description', function() {
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_varchanged_image_hs_description();
				}
			}
			me._image_hs_popup_fs_img.logicBlock_size();
		});
		player.addListener('varchanged_opt_share_copy', function() {
			me._copy.logicBlock_visible();
			me._variable_opt_share.logicBlock();
		});
		player.addListener('varchanged_opt_share_facebook', function() {
			me._facebook.logicBlock_visible();
			me._variable_opt_share.logicBlock();
		});
		player.addListener('varchanged_opt_share_twitter', function() {
			me._twitter.logicBlock_visible();
			me._variable_opt_share.logicBlock();
		});
		player.addListener('varchanged_resp_desktop', function() {
			me._map.logicBlock_visible();
		});
		player.addListener('varchanged_resp_phone', function() {
			me._share.logicBlock_position();
			me._map_fs_small.logicBlock_visible();
			me._variable_vis_controls_left.logicBlock();
		});
		player.addListener('varchanged_sounds_splashscreen_accepted', function() {
			me._variable_vis_sounds_splashscreen.logicBlock();
		});
		player.addListener('varchanged_toggle_audio', function() {
			me._audio_off.logicBlock_visible();
			me._audio_on.logicBlock_visible();
		});
		player.addListener('varchanged_toggle_grypo', function() {
			me._grypo_off.logicBlock_visible();
			me._grypo_on.logicBlock_visible();
		});
		player.addListener('varchanged_toggle_rotate', function() {
			me._rotate_off.logicBlock_visible();
			me._rotate_on.logicBlock_visible();
		});
		player.addListener('varchanged_vis_control_left_vertical', function() {
			me._control_left_vertical.logicBlock_visible();
		});
		player.addListener('varchanged_vis_floorplan', function() {
			me._map.logicBlock_visible();
			me._floorplan_content.logicBlock_visible();
		});
		player.addListener('varchanged_vis_floorplan_full', function() {
			me._background_blur.logicBlock_visible();
			me._map_fullscreen.logicBlock_visible();
			me._floorplan_fs_content.logicBlock_visible();
		});
		player.addListener('varchanged_vis_image_hs_popup_full', function() {
			me._background_blur.logicBlock_visible();
			me._image_hs_popup_fullscreen.logicBlock_visible();
		});
		player.addListener('varchanged_vis_image_hs_popups', function() {
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_varchanged_vis_image_hs_popups();
				}
			}
		});
		player.addListener('varchanged_vis_info', function() {
			me._info.logicBlock_visible();
			me._information.logicBlock_visible();
		});
		player.addListener('varchanged_vis_info_hs_popups', function() {
			if (hotspotTemplates.hasOwnProperty('ht_info')) {
				for(var i = 0; i < hotspotTemplates['ht_info'].length; i++) {
					hotspotTemplates['ht_info'][i].ggEvent_varchanged_vis_info_hs_popups();
				}
			}
		});
		player.addListener('varchanged_vis_map', function() {
			me._map.logicBlock_visible();
			me._map_content.logicBlock_visible();
		});
		player.addListener('varchanged_vis_map_full', function() {
			me._background_blur.logicBlock_visible();
			me._map_fullscreen.logicBlock_visible();
			me._map_fs_content.logicBlock_visible();
		});
		player.addListener('varchanged_vis_pdf_hs_popup', function() {
			me._background_blur.logicBlock_visible();
			me._pdf_hs_popup.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_floorplan', function() {
			me._floorplan_el_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_image', function() {
			me._image_popup_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_info', function() {
			me._info_popup_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_map', function() {
			me._map_el_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_pdf', function() {
			me._pdf_popup_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_popup', function() {
			me._popup_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_thumbs', function() {
			me._thumbnail_scroller_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_video_file', function() {
			me._video_controller_phone.logicBlock_visible();
			me._video_file_popup_phone.logicBlock_visible();
			me._video_file_popup_phone_play.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_video_url', function() {
			me._video_controller_phone.logicBlock_visible();
			me._video_url_popup_phone.logicBlock_visible();
			me._video_url_popup_phone_play.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_vimeo', function() {
			me._vimeo_popup_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_phone_youtube', function() {
			me._youtube_popup_phone.logicBlock_visible();
		});
		player.addListener('varchanged_vis_share', function() {
			me._share.logicBlock_visible();
		});
		player.addListener('varchanged_vis_skin', function() {
			if (hotspotTemplates.hasOwnProperty('ht_video_youtube')) {
				for(var i = 0; i < hotspotTemplates['ht_video_youtube'].length; i++) {
					hotspotTemplates['ht_video_youtube'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_vimeo')) {
				for(var i = 0; i < hotspotTemplates['ht_video_vimeo'].length; i++) {
					hotspotTemplates['ht_video_vimeo'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_url')) {
				for(var i = 0; i < hotspotTemplates['ht_video_url'].length; i++) {
					hotspotTemplates['ht_video_url'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_video_file')) {
				for(var i = 0; i < hotspotTemplates['ht_video_file'].length; i++) {
					hotspotTemplates['ht_video_file'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_pdf')) {
				for(var i = 0; i < hotspotTemplates['ht_pdf'].length; i++) {
					hotspotTemplates['ht_pdf'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_info')) {
				for(var i = 0; i < hotspotTemplates['ht_info'].length; i++) {
					hotspotTemplates['ht_info'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_image')) {
				for(var i = 0; i < hotspotTemplates['ht_image'].length; i++) {
					hotspotTemplates['ht_image'][i].ggEvent_varchanged_vis_skin();
				}
			}
			if (hotspotTemplates.hasOwnProperty('ht_node')) {
				for(var i = 0; i < hotspotTemplates['ht_node'].length; i++) {
					hotspotTemplates['ht_node'][i].ggEvent_varchanged_vis_skin();
				}
			}
		});
		player.addListener('varchanged_vis_sounds_splashscreen', function() {
			me._variable_vis_skin.logicBlock();
		});
		player.addListener('varchanged_vis_thumbnails', function() {
			me._thumbnails.logicBlock_visible();
		});
		player.addListener('varchanged_vis_thumbnails_full', function() {
			me._background_blur.logicBlock_visible();
			me._thumbnails_fullscreen.logicBlock_visible();
		});
		player.addListener('varchanged_vis_url_hs_popup', function() {
			me._background_blur.logicBlock_visible();
			me._url_hs_popup.logicBlock_visible();
			if (
				(
					((player.getVariableValue('vis_url_hs_popup') == false))
				)
			) {
					me._url_hs_popup_iframe.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("", params);
						if (hs!=this.ggText || force) {
							this.ggText=me._url_hs_popup_iframe.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				me._url_hs_popup_iframe.userData.ggUpdateText();
			}
		});
		player.addListener('varchanged_vis_video_file_hs_popup', function() {
			me._video_file_hs_popup_vid.logicBlock_visible();
			me._video_file_hs_popup_play.logicBlock_visible();
			me._video_controller.logicBlock_visible();
			me._variable_vis_video_hs_popup.logicBlock();
		});
		player.addListener('varchanged_vis_video_hs_popup', function() {
			me._background_blur.logicBlock_visible();
			me._video_hs_popup.logicBlock_visible();
		});
		player.addListener('varchanged_vis_video_url_hs_popup', function() {
			me._video_url_hs_popup_vid.logicBlock_visible();
			me._video_url_hs_popup_play.logicBlock_visible();
			me._video_controller.logicBlock_visible();
			me._variable_vis_video_hs_popup.logicBlock();
		});
		player.addListener('varchanged_vis_video_vimeo_hs_popup', function() {
			me._video_vimeo_hs_popup_vid.logicBlock_visible();
			me._variable_vis_video_hs_popup.logicBlock();
		});
		player.addListener('varchanged_vis_video_youtube_hs_popup', function() {
			me._video_youtube_hs_popup_vid.logicBlock_visible();
			me._variable_vis_video_hs_popup.logicBlock();
		});
	};
	this.removeSkin=function() {
	};
	function SkinCloner_node_cloner_phone_Class(nodeId, parentScope, ggParent, parameter) {
		var me=this;
		me.parentScope=parentScope;
		me.ggParent=ggParent;
		me.findElements=skin.findElements;
		me.ggIndex=parameter.index;
		me.ggNodeId=nodeId;
		me.ggTitle=parameter.title;
		me.ggUserdata=skin.player.getNodeUserdata(me.ggNodeId);
		me.ggUserdata.nodeId=me.ggNodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
			me.__obj = new THREE.Group;
			me.__obj.name = 'node_cloner_phone_subElement';
			me.__obj.position.x = parameter.left;
			me.__obj.position.y = parameter.top;
			me.__obj.userData.ggIsActive = function() {
				return player.getCurrentNode()==me.userData.ggNodeId;
			}
			me.__obj.userData.ggElementNodeId=function() {
				return me.userData.ggNodeId;
			}
		width = 1.12;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'thumbnail_node_image_phone_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/thumbnail_node_image_phone_' + nodeId + '.jpg');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnail_node_image_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0.03);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_node_image_phone';
		el.userData.x = 0;
		el.userData.y = 0.03;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_node_image_phone.material) me._thumbnail_node_image_phone.material.opacity = v;
			me._thumbnail_node_image_phone.visible = (v>0 && me._thumbnail_node_image_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_node_image_phone.visible
			let parentEl = me._thumbnail_node_image_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_node_image_phone.userData.opacity = v;
			v = v * me._thumbnail_node_image_phone.userData.parentOpacity;
			me._thumbnail_node_image_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_node_image_phone.children.length; i++) {
				let child = me._thumbnail_node_image_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_node_image_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_node_image_phone.userData.opacity
			me._thumbnail_node_image_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_node_image_phone.children.length; i++) {
				let child = me._thumbnail_node_image_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_node_image_phone = el;
		el.userData.ggId="thumbnail_node_image_phone";
		me._thumbnail_node_image_phone.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._thumbnail_node_image_phone.userData.onclick=function (e) {
			if (me._thumbnail_node_image_phone.userData.isDragging()) return;
			player.openNext("{"+me.ggNodeId+"}","");
			player.setVariableValue('vis_phone_thumbs', false);
			player.setVariableValue('vis_phone_popup', false);
		}
		me._thumbnail_node_image_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(1.12, 0.3696, 5, 5 );
		geometry.name = 'thumbnail_node_title_bg_phone_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(40,40,40,0.588235)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnail_node_title_bg_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_node_title_bg_phone.material.opacity = v * me._thumbnail_node_title_bg_phone.userData.backgroundColorAlpha;
			if (me._thumbnail_node_title_bg_phone.userData.ggSubElement) {
				me._thumbnail_node_title_bg_phone.userData.ggSubElement.material.opacity = v
				me._thumbnail_node_title_bg_phone.userData.ggSubElement.visible = (v>0 && me._thumbnail_node_title_bg_phone.userData.visible);
			}
			me._thumbnail_node_title_bg_phone.visible = (v>0 && me._thumbnail_node_title_bg_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_node_title_bg_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_node_title_bg_phone.userData.backgroundColorAlpha = v;
			me._thumbnail_node_title_bg_phone.userData.setOpacity(me._thumbnail_node_title_bg_phone.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.3752);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 36.96;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_node_title_bg_phone';
		el.userData.x = 0;
		el.userData.y = 0.3752;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_node_title_bg_phone.visible
			let parentEl = me._thumbnail_node_title_bg_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_node_title_bg_phone.userData.opacity = v;
			v = v * me._thumbnail_node_title_bg_phone.userData.parentOpacity;
			me._thumbnail_node_title_bg_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_node_title_bg_phone.children.length; i++) {
				let child = me._thumbnail_node_title_bg_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_node_title_bg_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_node_title_bg_phone.userData.opacity
			me._thumbnail_node_title_bg_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_node_title_bg_phone.children.length; i++) {
				let child = me._thumbnail_node_title_bg_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_node_title_bg_phone = el;
		el.userData.ggId="thumbnail_node_title_bg_phone";
		me._thumbnail_node_title_bg_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(1.12, 0.3696, 5, 5 );
		geometry.name = 'thumbnail_node_title_phone_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnail_node_title_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_node_title_phone.material.opacity = v;
			if (me._thumbnail_node_title_phone.userData.hasScrollbar) {
				me._thumbnail_node_title_phone.userData.scrollbar.material.opacity = v;
				me._thumbnail_node_title_phone.userData.scrollbarBg.material.opacity = v;
			}
			if (me._thumbnail_node_title_phone.userData.ggSubElement) {
				me._thumbnail_node_title_phone.userData.ggSubElement.material.opacity = v
				me._thumbnail_node_title_phone.userData.ggSubElement.visible = (v>0 && me._thumbnail_node_title_phone.userData.visible);
			}
			me._thumbnail_node_title_phone.visible = (v>0 && me._thumbnail_node_title_phone.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_node_title_phone.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_node_title_phone.userData.backgroundColorAlpha = v;
			me._thumbnail_node_title_phone.userData.setOpacity(me._thumbnail_node_title_phone.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 36.96;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_node_title_phone';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_node_title_phone.visible
			let parentEl = me._thumbnail_node_title_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_node_title_phone.userData.opacity = v;
			v = v * me._thumbnail_node_title_phone.userData.parentOpacity;
			me._thumbnail_node_title_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_node_title_phone.children.length; i++) {
				let child = me._thumbnail_node_title_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_node_title_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_node_title_phone.userData.opacity
			me._thumbnail_node_title_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_node_title_phone.children.length; i++) {
				let child = me._thumbnail_node_title_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_node_title_phone = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(1, 1, 1);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 112;
		canvas.height = 37;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._thumbnail_node_title_phone.userData.totalHeight = 3;
			me._thumbnail_node_title_phone.userData.textLines = [];
			var ctx = me._thumbnail_node_title_phone.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._thumbnail_node_title_phone.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._thumbnail_node_title_phone.userData.textLines.push(line);
					line = '';
					me._thumbnail_node_title_phone.userData.totalHeight += me._thumbnail_node_title_phone.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._thumbnail_node_title_phone.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._thumbnail_node_title_phone.userData.textLines.push(line);
					line = words[i];
					me._thumbnail_node_title_phone.userData.totalHeight += me._thumbnail_node_title_phone.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._thumbnail_node_title_phone.userData.textLines.push(line);
			me._thumbnail_node_title_phone.userData.totalHeight += me._thumbnail_node_title_phone.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._thumbnail_node_title_phone.userData.textCanvas;
			var ctx = me._thumbnail_node_title_phone.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._thumbnail_node_title_phone.userData.textColor.r * 255 + ', ' + me._thumbnail_node_title_phone.userData.textColor.g * 255 + ', ' + me._thumbnail_node_title_phone.userData.textColor.b * 255 + ', ' + me._thumbnail_node_title_phone.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._thumbnail_node_title_phone.userData.boxWidth - (me._thumbnail_node_title_phone.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._thumbnail_node_title_phone.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._thumbnail_node_title_phone.userData.textLines.length; i++) {
				ctx.fillText(me._thumbnail_node_title_phone.userData.textLines[i], x, y);
				y += me._thumbnail_node_title_phone.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'thumbnail_node_title_phone_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._thumbnail_node_title_phone.material.map) {
				me._thumbnail_node_title_phone.material.map.dispose();
			}
			me._thumbnail_node_title_phone.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._thumbnail_node_title_phone.remove(...me._thumbnail_node_title_phone.children);
			var canv = me._thumbnail_node_title_phone.userData.textCanvas;
			var ctx = me._thumbnail_node_title_phone.userData.textCanvasContext;
			ctx.font = '14px Verdana';
			me._thumbnail_node_title_phone.userData.lineHeight = 16.8;
			me._thumbnail_node_title_phone.userData.ggWrapText(false);
			me._thumbnail_node_title_phone.userData.boxWidth = me._thumbnail_node_title_phone.userData.width;
			me._thumbnail_node_title_phone.userData.boxHeight = me._thumbnail_node_title_phone.userData.height;
			me._thumbnail_node_title_phone.userData.hasScrollbar = false;
			canv.width = me._thumbnail_node_title_phone.userData.boxWidth;
			canv.height = me._thumbnail_node_title_phone.userData.boxHeight;
			ctx.font = '14px Verdana';
			me._thumbnail_node_title_phone.userData.ggPaintCanvasText();
		}
		me._thumbnail_node_title_phone.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(me.ggUserdata.title)));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._thumbnail_node_title_phone.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._thumbnail_node_title_phone.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._thumbnail_node_title_phone.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnail_node_title_phone.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._thumbnail_node_title_phone.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._thumbnail_node_title_phone.userData.textColorAlpha = v;
		}
		el.userData.ggId="thumbnail_node_title_phone";
		me._thumbnail_node_title_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_node_title_bg_phone.add(me._thumbnail_node_title_phone);
		me._thumbnail_node_image_phone.add(me._thumbnail_node_title_bg_phone);
		el = new THREE.Group();
		width = 1.04;
		height = 1.04;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.08, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.08, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.08);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.08);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.08, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.08, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.08);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.08);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.08, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.04, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.04, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.04);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.04);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.04, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.04, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.04);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.04);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.04, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'thumbnail_node_active_phone_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(230,230,230,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'thumbnail_node_active_phone_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'thumbnail_node_active_phone_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnail_node_active_phone.userData.border.material.opacity = v * me._thumbnail_node_active_phone.userData.borderColorAlpha;
			if (me._thumbnail_node_active_phone.userData.ggSubElement) {
				me._thumbnail_node_active_phone.userData.ggSubElement.material.opacity = v
				me._thumbnail_node_active_phone.userData.ggSubElement.visible = (v>0 && me._thumbnail_node_active_phone.userData.visible);
			}
			me._thumbnail_node_active_phone.visible = (v>0 && me._thumbnail_node_active_phone.userData.visible);
		}
		el.userData.setBorderColor = function(v) {
			me._thumbnail_node_active_phone.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._thumbnail_node_active_phone.userData.borderColorAlpha = v;
			me._thumbnail_node_active_phone.userData.setOpacity(me._thumbnail_node_active_phone.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 104;
		el.userData.height = 104;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_node_active_phone';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnail_node_active_phone.visible
			let parentEl = me._thumbnail_node_active_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_node_active_phone.userData.opacity = v;
			v = v * me._thumbnail_node_active_phone.userData.parentOpacity;
			me._thumbnail_node_active_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_node_active_phone.children.length; i++) {
				let child = me._thumbnail_node_active_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_node_active_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_node_active_phone.userData.opacity
			me._thumbnail_node_active_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_node_active_phone.children.length; i++) {
				let child = me._thumbnail_node_active_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_node_active_phone = el;
		el.userData.ggId="thumbnail_node_active_phone";
		me._thumbnail_node_active_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me._thumbnail_node_active_phone.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnail_node_active_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnail_node_active_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnail_node_active_phone.ggCurrentLogicStateVisible == 0) {
			me._thumbnail_node_active_phone.visible=((!me._thumbnail_node_active_phone.material && Number(me._thumbnail_node_active_phone.userData.opacity>0)) || Number(me._thumbnail_node_active_phone.material.opacity)>0)?true:false;
			me._thumbnail_node_active_phone.userData.visible=true;
				}
				else {
			me._thumbnail_node_active_phone.visible=false;
			me._thumbnail_node_active_phone.userData.visible=false;
				}
			}
		}
		me._thumbnail_node_active_phone.logicBlock_visible();
		me._thumbnail_node_active_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnail_node_image_phone.add(me._thumbnail_node_active_phone);
		me.__obj.add(me._thumbnail_node_image_phone);
		geometry = new THREE.PlaneBufferGeometry(0.18, 0.18, 5, 5 );
		geometry.name = 'thumbnail_visited_phone_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEeklEQVRYhcWYzUsjSRjGn+puhUQNZEAHP6KX6MSTMLqwIuYgQjAdOrqKwb143L9gL7nvXPa8gpc9m4SMSUwMiuAq6AxIQNCLCQiOWTGITEBZI3Z3zSGd0mRN24mZ3efUT9db1b+uro+3mqBOiaJoJYT0EkK6AHRpty8opReU0i+JROJrPe2SWoIlSXpHKZ0G4AXwo059CuAzgCghJBKLxU4aCqSBfADwk9GGK/SREOI3AqYL5PF4zISQ3wH8AoCvE6YkBcAypfTXeDz+T81AXq/XpqpqBMD7V4JUKiXL8nQymcwaBhJFcZjjuASAtw2GKSmnqqqYSCRSLwJpPXPwHWEYlCzLI5U9xT01Ho/HrH2m7w0DAG8FQYh6PB5zVSBtADd6zIDneSwuLqKnp6'+
	'ey6L32zMfY0oUkSe8A/FkJ2QhNTk7C5XLB6XTCYrEgk8lAlmUGZbfbVzKZzDWePlxbZ147tf8li8UCURQBAIQQOBwOPDw8PA3heZ7/UDIcwHqn3kVPV16vFyaTiflQKARFUSrDZt1u9wAD0raDhqu3txdjY2PMHx8f4+jo6NlYQRCmGRCKe1NDRQiBz+cDIcWVRVEUhEKhqvGqqnoBgBNF0YriRqmr1tZWLCwsoL293RDQ8PAw7HY789vb27i8vNR7gVFRFK0CIaQXL+xpExMTkCQJJpMJVqsVS0tLujDNzc2Ym5tj/vb2FvF4/KV3IDzP2zgtn9FVX18fG5hDQ0MYHBzUjXe5XLBarcxHIhHc3d299BgA6OLwmFxV1erqKu7v75n3+Xzg+edXiDdv3sDlcjGfzWaxt7dnBAaU0m5Di2A+n0cymWS+s7MT4+Pjz8bO'+
	'zs6iqamJ+UAgAFVVDQEBxVl2YSRwa2sL19fXzHu9XrS0tJTF9Pf3Y2RkhPlUKoV0Om0YhhDyN0cpNQT08PBQNm3NZjMkSWKe4zj4fL6y+HA4bBhG0wVHKf2CYg78og4PD3Fy8piFOp1OdHd3AwBGR0dhs9lY2ebmZlmPGhBVFOWc004Hnw3VoBTBYBCUFvk5jsP8/DxMJhNmZmZYXD6fx8bGRi0woJR+SiQSX0uDOmq0Yjabxe7uLvMOhwN+vx9tbW3sXjgcLpuVRsRxXBTQtg5CSKSWymtra2XrSkdHB7s+PT3FwcFBTTAAIMtyhAFpx5OPRivf3NwgFos9W7ayssI+aQ0Kr6+vpxkQABBC/CgeVQxpZ2cHuVyu7N7+/j7Ozs5qhVEURfGXDAPSemm5hlYQCASYLxQKiERq+vIlLZd6B6jIEAcGBv4ihEwB6DTS0t'+
	'XVFXK5HAqFAoLBoO5uXkUpSunP6XSapZD/5zHoUpblH3SPQQAQjUbPVVUVAeQqyxoJo6qq57nTa9U8aGpqqkcQhCj+46N01d0+mUxmKaXjAJZQw+zTkUII+YNS6qwGA9T2O+Y3ALN1woQVRfE/nU2vAirJ7XYPCIIwraqqlxAyqlOfUko/cRwXlWU5YgSkLqCnEkXRyvO8DUAXpbQbKOYzAC4URTmv95feN7dgzt2WMK1uAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnail_visited_phone_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.55);
		el.translateY(-0.55);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 18;
		el.userData.height = 18;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnail_visited_phone';
		el.userData.x = 0.55;
		el.userData.y = -0.55;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnail_visited_phone.material) me._thumbnail_visited_phone.material.opacity = v;
			me._thumbnail_visited_phone.visible = (v>0 && me._thumbnail_visited_phone.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnail_visited_phone.visible
			let parentEl = me._thumbnail_visited_phone.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnail_visited_phone.userData.opacity = v;
			v = v * me._thumbnail_visited_phone.userData.parentOpacity;
			me._thumbnail_visited_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_visited_phone.children.length; i++) {
				let child = me._thumbnail_visited_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnail_visited_phone.userData.parentOpacity = v;
			v = v * me._thumbnail_visited_phone.userData.opacity
			me._thumbnail_visited_phone.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnail_visited_phone.children.length; i++) {
				let child = me._thumbnail_visited_phone.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnail_visited_phone = el;
		el.userData.ggId="thumbnail_visited_phone";
		me._thumbnail_visited_phone.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.nodeVisited(me._thumbnail_visited_phone.ggElementNodeId()) == true)) || 
				((me._thumbnail_visited_phone.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnail_visited_phone.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnail_visited_phone.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnail_visited_phone.ggCurrentLogicStateVisible == 0) {
			me._thumbnail_visited_phone.visible=((!me._thumbnail_visited_phone.material && Number(me._thumbnail_visited_phone.userData.opacity>0)) || Number(me._thumbnail_visited_phone.material.opacity)>0)?true:false;
			me._thumbnail_visited_phone.userData.visible=true;
				}
				else {
			me._thumbnail_visited_phone.visible=false;
			me._thumbnail_visited_phone.userData.visible=false;
				}
			}
		}
		me._thumbnail_visited_phone.logicBlock_visible();
		me._thumbnail_visited_phone.userData.ggUpdatePosition=function (useTransition) {
		}
		me.__obj.add(me._thumbnail_visited_phone);
		me._thumbnail_node_image_phone.userData.setOpacity(1.00);
		me._thumbnail_node_title_bg_phone.userData.setOpacity(1.00);
		me._thumbnail_node_title_phone.userData.setOpacity(1.00);
		me._thumbnail_node_active_phone.logicBlock_visible();
		me._thumbnail_node_active_phone.userData.setOpacity(1.00);
		me._thumbnail_visited_phone.logicBlock_visible();
		me._thumbnail_visited_phone.userData.setOpacity(1.00);
			me.ggEvent_changenode=function() {
				me._thumbnail_node_active_phone.logicBlock_visible();
				me._thumbnail_visited_phone.logicBlock_visible();
				me._thumbnail_visited_phone.logicBlock_visible();
			};
			me.ggEvent_changevisitednodes=function() {
				me._thumbnail_visited_phone.logicBlock_visible();
			};
	};
	function SkinCloner_thumbnails_fs_cloner_Class(nodeId, parentScope, ggParent, parameter) {
		var me=this;
		me.parentScope=parentScope;
		me.ggParent=ggParent;
		me.findElements=skin.findElements;
		me.ggIndex=parameter.index;
		me.ggNodeId=nodeId;
		me.ggTitle=parameter.title;
		me.ggUserdata=skin.player.getNodeUserdata(me.ggNodeId);
		me.ggUserdata.nodeId=me.ggNodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
			me.__obj = new THREE.Group;
			me.__obj.name = 'thumbnails_fs_cloner_subElement';
			me.__obj.position.x = parameter.left;
			me.__obj.position.y = parameter.top;
			me.__obj.userData.ggIsActive = function() {
				return player.getCurrentNode()==me.userData.ggNodeId;
			}
			me.__obj.userData.ggElementNodeId=function() {
				return me.userData.ggNodeId;
			}
		width = 1.12;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'thumbnails_fs_node_image_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/thumbnails_fs_node_image_' + nodeId + '.jpg');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnails_fs_node_image_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(-0.08);
		el.translateY(0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fs_node_image';
		el.userData.x = -0.08;
		el.userData.y = 0.08;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_fs_node_image.material) me._thumbnails_fs_node_image.material.opacity = v;
			me._thumbnails_fs_node_image.visible = (v>0 && me._thumbnails_fs_node_image.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fs_node_image.visible
			let parentEl = me._thumbnails_fs_node_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fs_node_image.userData.opacity = v;
			v = v * me._thumbnails_fs_node_image.userData.parentOpacity;
			me._thumbnails_fs_node_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_node_image.children.length; i++) {
				let child = me._thumbnails_fs_node_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fs_node_image.userData.parentOpacity = v;
			v = v * me._thumbnails_fs_node_image.userData.opacity
			me._thumbnails_fs_node_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_node_image.children.length; i++) {
				let child = me._thumbnails_fs_node_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fs_node_image = el;
		el.userData.ggId="thumbnails_fs_node_image";
		me._thumbnails_fs_node_image.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._thumbnails_fs_node_image.userData.onclick=function (e) {
			if (me._thumbnails_fs_node_image.userData.isDragging()) return;
			player.openNext("{"+me.ggNodeId+"}","");
			player.setVariableValue('vis_thumbnails_full', false);
		}
		me._thumbnails_fs_node_image.userData.onmouseover=function (e) {
			me.elementMouseOver['thumbnails_fs_node_image']=true;
			me._thumbnails_fs_node_title_bg.logicBlock_visible();
		}
		me._thumbnails_fs_node_image.userData.onmouseout=function (e) {
			me.elementMouseOver['thumbnails_fs_node_image']=false;
			me._thumbnails_fs_node_title_bg.logicBlock_visible();
		}
		me._thumbnails_fs_node_image.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(1.12, 0.3696, 5, 5 );
		geometry.name = 'thumbnails_fs_node_title_bg_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(40,40,40,0.588235)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnails_fs_node_title_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails_fs_node_title_bg.material.opacity = v * me._thumbnails_fs_node_title_bg.userData.backgroundColorAlpha;
			if (me._thumbnails_fs_node_title_bg.userData.ggSubElement) {
				me._thumbnails_fs_node_title_bg.userData.ggSubElement.material.opacity = v
				me._thumbnails_fs_node_title_bg.userData.ggSubElement.visible = (v>0 && me._thumbnails_fs_node_title_bg.userData.visible);
			}
			me._thumbnails_fs_node_title_bg.visible = (v>0 && me._thumbnails_fs_node_title_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails_fs_node_title_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails_fs_node_title_bg.userData.backgroundColorAlpha = v;
			me._thumbnails_fs_node_title_bg.userData.setOpacity(me._thumbnails_fs_node_title_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.3752);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 36.96;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fs_node_title_bg';
		el.userData.x = 0;
		el.userData.y = 0.3752;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fs_node_title_bg.visible
			let parentEl = me._thumbnails_fs_node_title_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fs_node_title_bg.userData.opacity = v;
			v = v * me._thumbnails_fs_node_title_bg.userData.parentOpacity;
			me._thumbnails_fs_node_title_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_node_title_bg.children.length; i++) {
				let child = me._thumbnails_fs_node_title_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fs_node_title_bg.userData.parentOpacity = v;
			v = v * me._thumbnails_fs_node_title_bg.userData.opacity
			me._thumbnails_fs_node_title_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_node_title_bg.children.length; i++) {
				let child = me._thumbnails_fs_node_title_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fs_node_title_bg = el;
		el.userData.ggId="thumbnails_fs_node_title_bg";
		me._thumbnails_fs_node_title_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['thumbnails_fs_node_image'] == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails_fs_node_title_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails_fs_node_title_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails_fs_node_title_bg.ggCurrentLogicStateVisible == 0) {
			me._thumbnails_fs_node_title_bg.visible=((!me._thumbnails_fs_node_title_bg.material && Number(me._thumbnails_fs_node_title_bg.userData.opacity>0)) || Number(me._thumbnails_fs_node_title_bg.material.opacity)>0)?true:false;
			me._thumbnails_fs_node_title_bg.userData.visible=true;
				}
				else {
			me._thumbnails_fs_node_title_bg.visible=false;
			me._thumbnails_fs_node_title_bg.userData.visible=false;
				}
			}
		}
		me._thumbnails_fs_node_title_bg.logicBlock_visible();
		me._thumbnails_fs_node_title_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(1.12, 0.3696, 5, 5 );
		geometry.name = 'thumbnails_fs_node_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnails_fs_node_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails_fs_node_title.material.opacity = v;
			if (me._thumbnails_fs_node_title.userData.hasScrollbar) {
				me._thumbnails_fs_node_title.userData.scrollbar.material.opacity = v;
				me._thumbnails_fs_node_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._thumbnails_fs_node_title.userData.ggSubElement) {
				me._thumbnails_fs_node_title.userData.ggSubElement.material.opacity = v
				me._thumbnails_fs_node_title.userData.ggSubElement.visible = (v>0 && me._thumbnails_fs_node_title.userData.visible);
			}
			me._thumbnails_fs_node_title.visible = (v>0 && me._thumbnails_fs_node_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails_fs_node_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails_fs_node_title.userData.backgroundColorAlpha = v;
			me._thumbnails_fs_node_title.userData.setOpacity(me._thumbnails_fs_node_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 36.96;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fs_node_title';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fs_node_title.visible
			let parentEl = me._thumbnails_fs_node_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fs_node_title.userData.opacity = v;
			v = v * me._thumbnails_fs_node_title.userData.parentOpacity;
			me._thumbnails_fs_node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_node_title.children.length; i++) {
				let child = me._thumbnails_fs_node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fs_node_title.userData.parentOpacity = v;
			v = v * me._thumbnails_fs_node_title.userData.opacity
			me._thumbnails_fs_node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_node_title.children.length; i++) {
				let child = me._thumbnails_fs_node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fs_node_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(1, 1, 1);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 112;
		canvas.height = 37;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._thumbnails_fs_node_title.userData.totalHeight = 3;
			me._thumbnails_fs_node_title.userData.textLines = [];
			var ctx = me._thumbnails_fs_node_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._thumbnails_fs_node_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._thumbnails_fs_node_title.userData.textLines.push(line);
					line = '';
					me._thumbnails_fs_node_title.userData.totalHeight += me._thumbnails_fs_node_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._thumbnails_fs_node_title.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._thumbnails_fs_node_title.userData.textLines.push(line);
					line = words[i];
					me._thumbnails_fs_node_title.userData.totalHeight += me._thumbnails_fs_node_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._thumbnails_fs_node_title.userData.textLines.push(line);
			me._thumbnails_fs_node_title.userData.totalHeight += me._thumbnails_fs_node_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._thumbnails_fs_node_title.userData.textCanvas;
			var ctx = me._thumbnails_fs_node_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._thumbnails_fs_node_title.userData.textColor.r * 255 + ', ' + me._thumbnails_fs_node_title.userData.textColor.g * 255 + ', ' + me._thumbnails_fs_node_title.userData.textColor.b * 255 + ', ' + me._thumbnails_fs_node_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._thumbnails_fs_node_title.userData.boxWidth - (me._thumbnails_fs_node_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._thumbnails_fs_node_title.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._thumbnails_fs_node_title.userData.textLines.length; i++) {
				ctx.fillText(me._thumbnails_fs_node_title.userData.textLines[i], x, y);
				y += me._thumbnails_fs_node_title.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'thumbnails_fs_node_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._thumbnails_fs_node_title.material.map) {
				me._thumbnails_fs_node_title.material.map.dispose();
			}
			me._thumbnails_fs_node_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._thumbnails_fs_node_title.remove(...me._thumbnails_fs_node_title.children);
			var canv = me._thumbnails_fs_node_title.userData.textCanvas;
			var ctx = me._thumbnails_fs_node_title.userData.textCanvasContext;
			ctx.font = '14px Verdana';
			me._thumbnails_fs_node_title.userData.lineHeight = 16.8;
			me._thumbnails_fs_node_title.userData.ggWrapText(false);
			me._thumbnails_fs_node_title.userData.boxWidth = me._thumbnails_fs_node_title.userData.width;
			me._thumbnails_fs_node_title.userData.boxHeight = me._thumbnails_fs_node_title.userData.height;
			me._thumbnails_fs_node_title.userData.hasScrollbar = false;
			canv.width = me._thumbnails_fs_node_title.userData.boxWidth;
			canv.height = me._thumbnails_fs_node_title.userData.boxHeight;
			ctx.font = '14px Verdana';
			me._thumbnails_fs_node_title.userData.ggPaintCanvasText();
		}
		me._thumbnails_fs_node_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(me.ggUserdata.title)));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._thumbnails_fs_node_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._thumbnails_fs_node_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails_fs_node_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails_fs_node_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._thumbnails_fs_node_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._thumbnails_fs_node_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="thumbnails_fs_node_title";
		me._thumbnails_fs_node_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_fs_node_title_bg.add(me._thumbnails_fs_node_title);
		me._thumbnails_fs_node_image.add(me._thumbnails_fs_node_title_bg);
		el = new THREE.Group();
		width = 1.04;
		height = 1.04;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.08, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.08, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.08);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.08);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.08, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.08, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.08);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.08);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.08, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.04, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.04, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.04);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.04);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.04, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.04, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.04);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.04);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.04, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'thumbnails_fs_node_active_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(230,230,230,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'thumbnails_fs_node_active_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'thumbnails_fs_node_active_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails_fs_node_active.userData.border.material.opacity = v * me._thumbnails_fs_node_active.userData.borderColorAlpha;
			if (me._thumbnails_fs_node_active.userData.ggSubElement) {
				me._thumbnails_fs_node_active.userData.ggSubElement.material.opacity = v
				me._thumbnails_fs_node_active.userData.ggSubElement.visible = (v>0 && me._thumbnails_fs_node_active.userData.visible);
			}
			me._thumbnails_fs_node_active.visible = (v>0 && me._thumbnails_fs_node_active.userData.visible);
		}
		el.userData.setBorderColor = function(v) {
			me._thumbnails_fs_node_active.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._thumbnails_fs_node_active.userData.borderColorAlpha = v;
			me._thumbnails_fs_node_active.userData.setOpacity(me._thumbnails_fs_node_active.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 104;
		el.userData.height = 104;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fs_node_active';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fs_node_active.visible
			let parentEl = me._thumbnails_fs_node_active.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fs_node_active.userData.opacity = v;
			v = v * me._thumbnails_fs_node_active.userData.parentOpacity;
			me._thumbnails_fs_node_active.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_node_active.children.length; i++) {
				let child = me._thumbnails_fs_node_active.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fs_node_active.userData.parentOpacity = v;
			v = v * me._thumbnails_fs_node_active.userData.opacity
			me._thumbnails_fs_node_active.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_node_active.children.length; i++) {
				let child = me._thumbnails_fs_node_active.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fs_node_active = el;
		el.userData.ggId="thumbnails_fs_node_active";
		me._thumbnails_fs_node_active.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me._thumbnails_fs_node_active.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails_fs_node_active.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails_fs_node_active.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails_fs_node_active.ggCurrentLogicStateVisible == 0) {
			me._thumbnails_fs_node_active.visible=((!me._thumbnails_fs_node_active.material && Number(me._thumbnails_fs_node_active.userData.opacity>0)) || Number(me._thumbnails_fs_node_active.material.opacity)>0)?true:false;
			me._thumbnails_fs_node_active.userData.visible=true;
				}
				else {
			me._thumbnails_fs_node_active.visible=false;
			me._thumbnails_fs_node_active.userData.visible=false;
				}
			}
		}
		me._thumbnails_fs_node_active.logicBlock_visible();
		me._thumbnails_fs_node_active.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_fs_node_image.add(me._thumbnails_fs_node_active);
		me.__obj.add(me._thumbnails_fs_node_image);
		geometry = new THREE.PlaneBufferGeometry(0.18, 0.18, 5, 5 );
		geometry.name = 'thumbnails_fs_visited_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEeklEQVRYhcWYzUsjSRjGn+puhUQNZEAHP6KX6MSTMLqwIuYgQjAdOrqKwb143L9gL7nvXPa8gpc9m4SMSUwMiuAq6AxIQNCLCQiOWTGITEBZI3Z3zSGd0mRN24mZ3efUT9db1b+uro+3mqBOiaJoJYT0EkK6AHRpty8opReU0i+JROJrPe2SWoIlSXpHKZ0G4AXwo059CuAzgCghJBKLxU4aCqSBfADwk9GGK/SREOI3AqYL5PF4zISQ3wH8AoCvE6YkBcAypfTXeDz+T81AXq/XpqpqBMD7V4JUKiXL8nQymcwaBhJFcZjjuASAtw2GKSmnqqqYSCRSLwJpPXPwHWEYlCzLI5U9xT01Ho/HrH2m7w0DAG8FQYh6PB5zVSBtADd6zIDneSwuLqKnp6'+
	'ey6L32zMfY0oUkSe8A/FkJ2QhNTk7C5XLB6XTCYrEgk8lAlmUGZbfbVzKZzDWePlxbZ147tf8li8UCURQBAIQQOBwOPDw8PA3heZ7/UDIcwHqn3kVPV16vFyaTiflQKARFUSrDZt1u9wAD0raDhqu3txdjY2PMHx8f4+jo6NlYQRCmGRCKe1NDRQiBz+cDIcWVRVEUhEKhqvGqqnoBgBNF0YriRqmr1tZWLCwsoL293RDQ8PAw7HY789vb27i8vNR7gVFRFK0CIaQXL+xpExMTkCQJJpMJVqsVS0tLujDNzc2Ym5tj/vb2FvF4/KV3IDzP2zgtn9FVX18fG5hDQ0MYHBzUjXe5XLBarcxHIhHc3d299BgA6OLwmFxV1erqKu7v75n3+Xzg+edXiDdv3sDlcjGfzWaxt7dnBAaU0m5Di2A+n0cymWS+s7MT4+Pjz8bO'+
	'zs6iqamJ+UAgAFVVDQEBxVl2YSRwa2sL19fXzHu9XrS0tJTF9Pf3Y2RkhPlUKoV0Om0YhhDyN0cpNQT08PBQNm3NZjMkSWKe4zj4fL6y+HA4bBhG0wVHKf2CYg78og4PD3Fy8piFOp1OdHd3AwBGR0dhs9lY2ebmZlmPGhBVFOWc004Hnw3VoBTBYBCUFvk5jsP8/DxMJhNmZmZYXD6fx8bGRi0woJR+SiQSX0uDOmq0Yjabxe7uLvMOhwN+vx9tbW3sXjgcLpuVRsRxXBTQtg5CSKSWymtra2XrSkdHB7s+PT3FwcFBTTAAIMtyhAFpx5OPRivf3NwgFos9W7ayssI+aQ0Kr6+vpxkQABBC/CgeVQxpZ2cHuVyu7N7+/j7Ozs5qhVEURfGXDAPSemm5hlYQCASYLxQKiERq+vIlLZd6B6jIEAcGBv4ihEwB6DTS0t'+
	'XVFXK5HAqFAoLBoO5uXkUpSunP6XSapZD/5zHoUpblH3SPQQAQjUbPVVUVAeQqyxoJo6qq57nTa9U8aGpqqkcQhCj+46N01d0+mUxmKaXjAJZQw+zTkUII+YNS6qwGA9T2O+Y3ALN1woQVRfE/nU2vAirJ7XYPCIIwraqqlxAyqlOfUko/cRwXlWU5YgSkLqCnEkXRyvO8DUAXpbQbKOYzAC4URTmv95feN7dgzt2WMK1uAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnails_fs_visited_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.47);
		el.translateY(-0.47);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 18;
		el.userData.height = 18;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_fs_visited';
		el.userData.x = 0.47;
		el.userData.y = -0.47;
		el.userData.hanchor = 2;
		el.userData.vanchor = 2;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_fs_visited.material) me._thumbnails_fs_visited.material.opacity = v;
			me._thumbnails_fs_visited.visible = (v>0 && me._thumbnails_fs_visited.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_fs_visited.visible
			let parentEl = me._thumbnails_fs_visited.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_fs_visited.userData.opacity = v;
			v = v * me._thumbnails_fs_visited.userData.parentOpacity;
			me._thumbnails_fs_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_visited.children.length; i++) {
				let child = me._thumbnails_fs_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_fs_visited.userData.parentOpacity = v;
			v = v * me._thumbnails_fs_visited.userData.opacity
			me._thumbnails_fs_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_fs_visited.children.length; i++) {
				let child = me._thumbnails_fs_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_fs_visited = el;
		el.userData.ggId="thumbnails_fs_visited";
		me._thumbnails_fs_visited.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.nodeVisited(me._thumbnails_fs_visited.ggElementNodeId()) == true)) || 
				((me._thumbnails_fs_visited.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails_fs_visited.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails_fs_visited.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails_fs_visited.ggCurrentLogicStateVisible == 0) {
			me._thumbnails_fs_visited.visible=((!me._thumbnails_fs_visited.material && Number(me._thumbnails_fs_visited.userData.opacity>0)) || Number(me._thumbnails_fs_visited.material.opacity)>0)?true:false;
			me._thumbnails_fs_visited.userData.visible=true;
				}
				else {
			me._thumbnails_fs_visited.visible=false;
			me._thumbnails_fs_visited.userData.visible=false;
				}
			}
		}
		me._thumbnails_fs_visited.logicBlock_visible();
		me._thumbnails_fs_visited.userData.ggUpdatePosition=function (useTransition) {
		}
		me.__obj.add(me._thumbnails_fs_visited);
		me._thumbnails_fs_node_image.userData.setOpacity(1.00);
		me._thumbnails_fs_node_title_bg.logicBlock_visible();
		me._thumbnails_fs_node_title_bg.userData.setOpacity(1.00);
		me._thumbnails_fs_node_title.userData.setOpacity(1.00);
		me._thumbnails_fs_node_active.logicBlock_visible();
		me._thumbnails_fs_node_active.userData.setOpacity(1.00);
		me._thumbnails_fs_visited.logicBlock_visible();
		me._thumbnails_fs_visited.userData.setOpacity(1.00);
			me.ggEvent_changenode=function() {
				me._thumbnails_fs_node_active.logicBlock_visible();
				me._thumbnails_fs_visited.logicBlock_visible();
				me._thumbnails_fs_visited.logicBlock_visible();
			};
			me.ggEvent_changevisitednodes=function() {
				me._thumbnails_fs_visited.logicBlock_visible();
			};
	};
	function SkinCloner_thumbnails_cloner_Class(nodeId, parentScope, ggParent, parameter) {
		var me=this;
		me.parentScope=parentScope;
		me.ggParent=ggParent;
		me.findElements=skin.findElements;
		me.ggIndex=parameter.index;
		me.ggNodeId=nodeId;
		me.ggTitle=parameter.title;
		me.ggUserdata=skin.player.getNodeUserdata(me.ggNodeId);
		me.ggUserdata.nodeId=me.ggNodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
			me.__obj = new THREE.Group;
			me.__obj.name = 'thumbnails_cloner_subElement';
			me.__obj.position.x = parameter.left;
			me.__obj.position.y = parameter.top;
			me.__obj.userData.ggIsActive = function() {
				return player.getCurrentNode()==me.userData.ggNodeId;
			}
			me.__obj.userData.ggElementNodeId=function() {
				return me.userData.ggNodeId;
			}
		width = 1.12;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'thumbnails_node_image_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/thumbnails_node_image_' + nodeId + '.jpg');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnails_node_image_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(-0.08);
		el.translateY(0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_node_image';
		el.userData.x = -0.08;
		el.userData.y = 0.08;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_node_image.material) me._thumbnails_node_image.material.opacity = v;
			me._thumbnails_node_image.visible = (v>0 && me._thumbnails_node_image.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_node_image.visible
			let parentEl = me._thumbnails_node_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_node_image.userData.opacity = v;
			v = v * me._thumbnails_node_image.userData.parentOpacity;
			me._thumbnails_node_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_node_image.children.length; i++) {
				let child = me._thumbnails_node_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_node_image.userData.parentOpacity = v;
			v = v * me._thumbnails_node_image.userData.opacity
			me._thumbnails_node_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_node_image.children.length; i++) {
				let child = me._thumbnails_node_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_node_image = el;
		el.userData.ggId="thumbnails_node_image";
		me._thumbnails_node_image.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._thumbnails_node_image.userData.onclick=function (e) {
			if (me._thumbnails_node_image.userData.isDragging()) return;
			player.openNext("{"+me.ggNodeId+"}","");
		}
		me._thumbnails_node_image.userData.onmouseover=function (e) {
			me.elementMouseOver['thumbnails_node_image']=true;
			me._thumbnails_node_title_bg.logicBlock_visible();
		}
		me._thumbnails_node_image.userData.onmouseout=function (e) {
			me.elementMouseOver['thumbnails_node_image']=false;
			me._thumbnails_node_title_bg.logicBlock_visible();
		}
		me._thumbnails_node_image.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(1.12, 0.3696, 5, 5 );
		geometry.name = 'thumbnails_node_title_bg_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(40,40,40,0.588235)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnails_node_title_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails_node_title_bg.material.opacity = v * me._thumbnails_node_title_bg.userData.backgroundColorAlpha;
			if (me._thumbnails_node_title_bg.userData.ggSubElement) {
				me._thumbnails_node_title_bg.userData.ggSubElement.material.opacity = v
				me._thumbnails_node_title_bg.userData.ggSubElement.visible = (v>0 && me._thumbnails_node_title_bg.userData.visible);
			}
			me._thumbnails_node_title_bg.visible = (v>0 && me._thumbnails_node_title_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails_node_title_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails_node_title_bg.userData.backgroundColorAlpha = v;
			me._thumbnails_node_title_bg.userData.setOpacity(me._thumbnails_node_title_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.3752);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 36.96;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_node_title_bg';
		el.userData.x = 0;
		el.userData.y = 0.3752;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails_node_title_bg.visible
			let parentEl = me._thumbnails_node_title_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_node_title_bg.userData.opacity = v;
			v = v * me._thumbnails_node_title_bg.userData.parentOpacity;
			me._thumbnails_node_title_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_node_title_bg.children.length; i++) {
				let child = me._thumbnails_node_title_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_node_title_bg.userData.parentOpacity = v;
			v = v * me._thumbnails_node_title_bg.userData.opacity
			me._thumbnails_node_title_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_node_title_bg.children.length; i++) {
				let child = me._thumbnails_node_title_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_node_title_bg = el;
		el.userData.ggId="thumbnails_node_title_bg";
		me._thumbnails_node_title_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['thumbnails_node_image'] == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails_node_title_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails_node_title_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails_node_title_bg.ggCurrentLogicStateVisible == 0) {
			me._thumbnails_node_title_bg.visible=((!me._thumbnails_node_title_bg.material && Number(me._thumbnails_node_title_bg.userData.opacity>0)) || Number(me._thumbnails_node_title_bg.material.opacity)>0)?true:false;
			me._thumbnails_node_title_bg.userData.visible=true;
				}
				else {
			me._thumbnails_node_title_bg.visible=false;
			me._thumbnails_node_title_bg.userData.visible=false;
				}
			}
		}
		me._thumbnails_node_title_bg.logicBlock_visible();
		me._thumbnails_node_title_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(1.12, 0.3696, 5, 5 );
		geometry.name = 'thumbnails_node_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'thumbnails_node_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails_node_title.material.opacity = v;
			if (me._thumbnails_node_title.userData.hasScrollbar) {
				me._thumbnails_node_title.userData.scrollbar.material.opacity = v;
				me._thumbnails_node_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._thumbnails_node_title.userData.ggSubElement) {
				me._thumbnails_node_title.userData.ggSubElement.material.opacity = v
				me._thumbnails_node_title.userData.ggSubElement.visible = (v>0 && me._thumbnails_node_title.userData.visible);
			}
			me._thumbnails_node_title.visible = (v>0 && me._thumbnails_node_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails_node_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails_node_title.userData.backgroundColorAlpha = v;
			me._thumbnails_node_title.userData.setOpacity(me._thumbnails_node_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 36.96;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_node_title';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails_node_title.visible
			let parentEl = me._thumbnails_node_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_node_title.userData.opacity = v;
			v = v * me._thumbnails_node_title.userData.parentOpacity;
			me._thumbnails_node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_node_title.children.length; i++) {
				let child = me._thumbnails_node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_node_title.userData.parentOpacity = v;
			v = v * me._thumbnails_node_title.userData.opacity
			me._thumbnails_node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_node_title.children.length; i++) {
				let child = me._thumbnails_node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_node_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(1, 1, 1);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 112;
		canvas.height = 37;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._thumbnails_node_title.userData.totalHeight = 3;
			me._thumbnails_node_title.userData.textLines = [];
			var ctx = me._thumbnails_node_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._thumbnails_node_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._thumbnails_node_title.userData.textLines.push(line);
					line = '';
					me._thumbnails_node_title.userData.totalHeight += me._thumbnails_node_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._thumbnails_node_title.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._thumbnails_node_title.userData.textLines.push(line);
					line = words[i];
					me._thumbnails_node_title.userData.totalHeight += me._thumbnails_node_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._thumbnails_node_title.userData.textLines.push(line);
			me._thumbnails_node_title.userData.totalHeight += me._thumbnails_node_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._thumbnails_node_title.userData.textCanvas;
			var ctx = me._thumbnails_node_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._thumbnails_node_title.userData.textColor.r * 255 + ', ' + me._thumbnails_node_title.userData.textColor.g * 255 + ', ' + me._thumbnails_node_title.userData.textColor.b * 255 + ', ' + me._thumbnails_node_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._thumbnails_node_title.userData.boxWidth - (me._thumbnails_node_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._thumbnails_node_title.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._thumbnails_node_title.userData.textLines.length; i++) {
				ctx.fillText(me._thumbnails_node_title.userData.textLines[i], x, y);
				y += me._thumbnails_node_title.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'thumbnails_node_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._thumbnails_node_title.material.map) {
				me._thumbnails_node_title.material.map.dispose();
			}
			me._thumbnails_node_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._thumbnails_node_title.remove(...me._thumbnails_node_title.children);
			var canv = me._thumbnails_node_title.userData.textCanvas;
			var ctx = me._thumbnails_node_title.userData.textCanvasContext;
			ctx.font = '14px Verdana';
			me._thumbnails_node_title.userData.lineHeight = 16.8;
			me._thumbnails_node_title.userData.ggWrapText(false);
			me._thumbnails_node_title.userData.boxWidth = me._thumbnails_node_title.userData.width;
			me._thumbnails_node_title.userData.boxHeight = me._thumbnails_node_title.userData.height;
			me._thumbnails_node_title.userData.hasScrollbar = false;
			canv.width = me._thumbnails_node_title.userData.boxWidth;
			canv.height = me._thumbnails_node_title.userData.boxHeight;
			ctx.font = '14px Verdana';
			me._thumbnails_node_title.userData.ggPaintCanvasText();
		}
		me._thumbnails_node_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(me.ggUserdata.title)));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._thumbnails_node_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._thumbnails_node_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._thumbnails_node_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._thumbnails_node_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._thumbnails_node_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._thumbnails_node_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="thumbnails_node_title";
		me._thumbnails_node_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_node_title_bg.add(me._thumbnails_node_title);
		me._thumbnails_node_image.add(me._thumbnails_node_title_bg);
		el = new THREE.Group();
		width = 1.04;
		height = 1.04;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.08, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.08, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.08);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.08);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.08, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.08, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.08);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.08);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.08, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.04, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.04, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.04);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.04);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.04, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.04, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.04);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.04);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.04, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'thumbnails_node_active_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(230,230,230,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'thumbnails_node_active_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'thumbnails_node_active_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._thumbnails_node_active.userData.border.material.opacity = v * me._thumbnails_node_active.userData.borderColorAlpha;
			if (me._thumbnails_node_active.userData.ggSubElement) {
				me._thumbnails_node_active.userData.ggSubElement.material.opacity = v
				me._thumbnails_node_active.userData.ggSubElement.visible = (v>0 && me._thumbnails_node_active.userData.visible);
			}
			me._thumbnails_node_active.visible = (v>0 && me._thumbnails_node_active.userData.visible);
		}
		el.userData.setBorderColor = function(v) {
			me._thumbnails_node_active.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._thumbnails_node_active.userData.borderColorAlpha = v;
			me._thumbnails_node_active.userData.setOpacity(me._thumbnails_node_active.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 104;
		el.userData.height = 104;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_node_active';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._thumbnails_node_active.visible
			let parentEl = me._thumbnails_node_active.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_node_active.userData.opacity = v;
			v = v * me._thumbnails_node_active.userData.parentOpacity;
			me._thumbnails_node_active.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_node_active.children.length; i++) {
				let child = me._thumbnails_node_active.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_node_active.userData.parentOpacity = v;
			v = v * me._thumbnails_node_active.userData.opacity
			me._thumbnails_node_active.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_node_active.children.length; i++) {
				let child = me._thumbnails_node_active.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_node_active = el;
		el.userData.ggId="thumbnails_node_active";
		me._thumbnails_node_active.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me._thumbnails_node_active.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails_node_active.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails_node_active.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails_node_active.ggCurrentLogicStateVisible == 0) {
			me._thumbnails_node_active.visible=((!me._thumbnails_node_active.material && Number(me._thumbnails_node_active.userData.opacity>0)) || Number(me._thumbnails_node_active.material.opacity)>0)?true:false;
			me._thumbnails_node_active.userData.visible=true;
				}
				else {
			me._thumbnails_node_active.visible=false;
			me._thumbnails_node_active.userData.visible=false;
				}
			}
		}
		me._thumbnails_node_active.logicBlock_visible();
		me._thumbnails_node_active.userData.ggUpdatePosition=function (useTransition) {
		}
		me._thumbnails_node_image.add(me._thumbnails_node_active);
		me.__obj.add(me._thumbnails_node_image);
		geometry = new THREE.PlaneBufferGeometry(0.18, 0.18, 5, 5 );
		geometry.name = 'thumbnails_visited_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEeklEQVRYhcWYzUsjSRjGn+puhUQNZEAHP6KX6MSTMLqwIuYgQjAdOrqKwb143L9gL7nvXPa8gpc9m4SMSUwMiuAq6AxIQNCLCQiOWTGITEBZI3Z3zSGd0mRN24mZ3efUT9db1b+uro+3mqBOiaJoJYT0EkK6AHRpty8opReU0i+JROJrPe2SWoIlSXpHKZ0G4AXwo059CuAzgCghJBKLxU4aCqSBfADwk9GGK/SREOI3AqYL5PF4zISQ3wH8AoCvE6YkBcAypfTXeDz+T81AXq/XpqpqBMD7V4JUKiXL8nQymcwaBhJFcZjjuASAtw2GKSmnqqqYSCRSLwJpPXPwHWEYlCzLI5U9xT01Ho/HrH2m7w0DAG8FQYh6PB5zVSBtADd6zIDneSwuLqKnp6'+
	'ey6L32zMfY0oUkSe8A/FkJ2QhNTk7C5XLB6XTCYrEgk8lAlmUGZbfbVzKZzDWePlxbZ147tf8li8UCURQBAIQQOBwOPDw8PA3heZ7/UDIcwHqn3kVPV16vFyaTiflQKARFUSrDZt1u9wAD0raDhqu3txdjY2PMHx8f4+jo6NlYQRCmGRCKe1NDRQiBz+cDIcWVRVEUhEKhqvGqqnoBgBNF0YriRqmr1tZWLCwsoL293RDQ8PAw7HY789vb27i8vNR7gVFRFK0CIaQXL+xpExMTkCQJJpMJVqsVS0tLujDNzc2Ym5tj/vb2FvF4/KV3IDzP2zgtn9FVX18fG5hDQ0MYHBzUjXe5XLBarcxHIhHc3d299BgA6OLwmFxV1erqKu7v75n3+Xzg+edXiDdv3sDlcjGfzWaxt7dnBAaU0m5Di2A+n0cymWS+s7MT4+Pjz8bO'+
	'zs6iqamJ+UAgAFVVDQEBxVl2YSRwa2sL19fXzHu9XrS0tJTF9Pf3Y2RkhPlUKoV0Om0YhhDyN0cpNQT08PBQNm3NZjMkSWKe4zj4fL6y+HA4bBhG0wVHKf2CYg78og4PD3Fy8piFOp1OdHd3AwBGR0dhs9lY2ebmZlmPGhBVFOWc004Hnw3VoBTBYBCUFvk5jsP8/DxMJhNmZmZYXD6fx8bGRi0woJR+SiQSX0uDOmq0Yjabxe7uLvMOhwN+vx9tbW3sXjgcLpuVRsRxXBTQtg5CSKSWymtra2XrSkdHB7s+PT3FwcFBTTAAIMtyhAFpx5OPRivf3NwgFos9W7ayssI+aQ0Kr6+vpxkQABBC/CgeVQxpZ2cHuVyu7N7+/j7Ozs5qhVEURfGXDAPSemm5hlYQCASYLxQKiERq+vIlLZd6B6jIEAcGBv4ihEwB6DTS0t'+
	'XVFXK5HAqFAoLBoO5uXkUpSunP6XSapZD/5zHoUpblH3SPQQAQjUbPVVUVAeQqyxoJo6qq57nTa9U8aGpqqkcQhCj+46N01d0+mUxmKaXjAJZQw+zTkUII+YNS6qwGA9T2O+Y3ALN1woQVRfE/nU2vAirJ7XYPCIIwraqqlxAyqlOfUko/cRwXlWU5YgSkLqCnEkXRyvO8DUAXpbQbKOYzAC4URTmv95feN7dgzt2WMK1uAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'thumbnails_visited_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.47);
		el.translateY(-0.47);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 18;
		el.userData.height = 18;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'thumbnails_visited';
		el.userData.x = 0.47;
		el.userData.y = -0.47;
		el.userData.hanchor = 2;
		el.userData.vanchor = 2;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._thumbnails_visited.material) me._thumbnails_visited.material.opacity = v;
			me._thumbnails_visited.visible = (v>0 && me._thumbnails_visited.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._thumbnails_visited.visible
			let parentEl = me._thumbnails_visited.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._thumbnails_visited.userData.opacity = v;
			v = v * me._thumbnails_visited.userData.parentOpacity;
			me._thumbnails_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_visited.children.length; i++) {
				let child = me._thumbnails_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._thumbnails_visited.userData.parentOpacity = v;
			v = v * me._thumbnails_visited.userData.opacity
			me._thumbnails_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._thumbnails_visited.children.length; i++) {
				let child = me._thumbnails_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._thumbnails_visited = el;
		el.userData.ggId="thumbnails_visited";
		me._thumbnails_visited.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.nodeVisited(me._thumbnails_visited.ggElementNodeId()) == true)) || 
				((me._thumbnails_visited.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._thumbnails_visited.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._thumbnails_visited.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._thumbnails_visited.ggCurrentLogicStateVisible == 0) {
			me._thumbnails_visited.visible=((!me._thumbnails_visited.material && Number(me._thumbnails_visited.userData.opacity>0)) || Number(me._thumbnails_visited.material.opacity)>0)?true:false;
			me._thumbnails_visited.userData.visible=true;
				}
				else {
			me._thumbnails_visited.visible=false;
			me._thumbnails_visited.userData.visible=false;
				}
			}
		}
		me._thumbnails_visited.logicBlock_visible();
		me._thumbnails_visited.userData.ggUpdatePosition=function (useTransition) {
		}
		me.__obj.add(me._thumbnails_visited);
		me._thumbnails_node_image.userData.setOpacity(1.00);
		me._thumbnails_node_title_bg.logicBlock_visible();
		me._thumbnails_node_title_bg.userData.setOpacity(1.00);
		me._thumbnails_node_title.userData.setOpacity(1.00);
		me._thumbnails_node_active.logicBlock_visible();
		me._thumbnails_node_active.userData.setOpacity(1.00);
		me._thumbnails_visited.logicBlock_visible();
		me._thumbnails_visited.userData.setOpacity(1.00);
			me.ggEvent_changenode=function() {
				me._thumbnails_node_active.logicBlock_visible();
				me._thumbnails_visited.logicBlock_visible();
				me._thumbnails_visited.logicBlock_visible();
			};
			me.ggEvent_changevisitednodes=function() {
				me._thumbnails_visited.logicBlock_visible();
			};
	};
	function SkinHotspotClass_floor_hotspot(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'floor_hotspot';
		el.userData.x = -2.5;
		el.userData.y = 2.75;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._floor_hotspot.visible
			let parentEl = me._floor_hotspot.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._floor_hotspot.userData.opacity = v;
			v = v * me._floor_hotspot.userData.parentOpacity;
			me._floor_hotspot.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floor_hotspot.children.length; i++) {
				let child = me._floor_hotspot.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._floor_hotspot.userData.parentOpacity = v;
			v = v * me._floor_hotspot.userData.opacity
			me._floor_hotspot.userData.setOpacityInternal(v);
			for (let i = 0; i < me._floor_hotspot.children.length; i++) {
				let child = me._floor_hotspot.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._floor_hotspot = el;
		el.userData.ggId="floor_hotspot";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._floor_hotspot.userData.onclick=function (e) {
			player.openNext(player._(me.hotspot.url),player._(me.hotspot.target));
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._floor_hotspot.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._floor_hotspot.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['floor_hotspot']=true;
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._floor_hotspot.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['floor_hotspot']=false;
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._floor_hotspot.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_bg.visible
			let parentEl = me._ht_node_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_bg.userData.opacity = v;
			v = v * me._ht_node_bg.userData.parentOpacity;
			me._ht_node_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg.children.length; i++) {
				let child = me._ht_node_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_bg.userData.parentOpacity = v;
			v = v * me._ht_node_bg.userData.opacity
			me._ht_node_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg.children.length; i++) {
				let child = me._ht_node_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_bg = el;
		el.userData.ggId="ht_node_bg";
		me._ht_node_bg.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['ht_node_bg'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._ht_node_bg.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._ht_node_bg.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._ht_node_bg.ggCurrentLogicStateScaling == 0) {
					me._ht_node_bg.userData.transitionValue_scale = {x: 1.21, y: 1.2, z: 1.0};
					for (var i = 0; i < me._ht_node_bg.userData.transitions.length; i++) {
						if (me._ht_node_bg.userData.transitions[i].property == 'scale') {
							clearInterval(me._ht_node_bg.userData.transitions[i].interval);
							me._ht_node_bg.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_scale = {};
					transition_scale.property = 'scale';
					transition_scale.startTime = Date.now();
					transition_scale.startScale = me._ht_node_bg.scale;
					transition_scale.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_scale.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_node_bg.scale.set(transition_scale.startScale.x + (me._ht_node_bg.userData.transitionValue_scale.x - transition_scale.startScale.x) * tfval, transition_scale.startScale.y + (me._ht_node_bg.userData.transitionValue_scale.y - transition_scale.startScale.y) * tfval, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
						me._ht_node_bg.position.x = (me._ht_node_bg.position.x - me._ht_node_bg.userData.curScaleOffX) + scaleOffX;
						me._ht_node_bg.userData.curScaleOffX = scaleOffX;
						me._ht_node_bg.position.y = (me._ht_node_bg.position.y - me._ht_node_bg.userData.curScaleOffY) + scaleOffY;
						me._ht_node_bg.userData.curScaleOffY = scaleOffY;
						if (percentDone >= 1.0) {
							clearInterval(transition_scale.interval);
							me._ht_node_bg.userData.transitions.splice(me._ht_node_bg.userData.transitions.indexOf(transition_scale), 1);
						}
					}, 20);
					me._ht_node_bg.userData.transitions.push(transition_scale);
				}
				else {
					me._ht_node_bg.userData.transitionValue_scale = {x: 1, y: 1, z: 1.0};
					for (var i = 0; i < me._ht_node_bg.userData.transitions.length; i++) {
						if (me._ht_node_bg.userData.transitions[i].property == 'scale') {
							clearInterval(me._ht_node_bg.userData.transitions[i].interval);
							me._ht_node_bg.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_scale = {};
					transition_scale.property = 'scale';
					transition_scale.startTime = Date.now();
					transition_scale.startScale = me._ht_node_bg.scale;
					transition_scale.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_scale.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_node_bg.scale.set(transition_scale.startScale.x + (me._ht_node_bg.userData.transitionValue_scale.x - transition_scale.startScale.x) * tfval, transition_scale.startScale.y + (me._ht_node_bg.userData.transitionValue_scale.y - transition_scale.startScale.y) * tfval, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
						me._ht_node_bg.position.x = (me._ht_node_bg.position.x - me._ht_node_bg.userData.curScaleOffX) + scaleOffX;
						me._ht_node_bg.userData.curScaleOffX = scaleOffX;
						me._ht_node_bg.position.y = (me._ht_node_bg.position.y - me._ht_node_bg.userData.curScaleOffY) + scaleOffY;
						me._ht_node_bg.userData.curScaleOffY = scaleOffY;
						if (percentDone >= 1.0) {
							clearInterval(transition_scale.interval);
							me._ht_node_bg.userData.transitions.splice(me._ht_node_bg.userData.transitions.indexOf(transition_scale), 1);
						}
					}, 20);
					me._ht_node_bg.userData.transitions.push(transition_scale);
				}
			}
		}
		me._ht_node_bg.logicBlock_scaling();
		me._ht_node_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_node_bg.visible=false;
			me._ht_node_bg.userData.visible=false;
				}
				else {
			me._ht_node_bg.visible=((!me._ht_node_bg.material && Number(me._ht_node_bg.userData.opacity>0)) || Number(me._ht_node_bg.material.opacity)>0)?true:false;
			me._ht_node_bg.userData.visible=true;
				}
			}
		}
		me._ht_node_bg.logicBlock_visible();
		me._ht_node_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_node_bg']=true;
			me._ht_node_title.logicBlock_alpha();
			me._ht_node_bg.logicBlock_scaling();
		}
		me._ht_node_bg.userData.ontouchend=function (e) {
			me._ht_node_bg.logicBlock_scaling();
		}
		me._ht_node_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_node_bg']=false;
			me._ht_node_title.logicBlock_alpha();
			me._ht_node_bg.logicBlock_scaling();
		}
		me._ht_node_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.4, 0.4, 5, 5 );
		geometry.name = 'ht_node_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_icon.material) me._ht_node_icon.material.opacity = v;
			me._ht_node_icon.visible = (v>0 && me._ht_node_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_icon.visible
			let parentEl = me._ht_node_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_icon.userData.opacity = v;
			v = v * me._ht_node_icon.userData.parentOpacity;
			me._ht_node_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon.children.length; i++) {
				let child = me._ht_node_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_icon.userData.parentOpacity = v;
			v = v * me._ht_node_icon.userData.opacity
			me._ht_node_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon.children.length; i++) {
				let child = me._ht_node_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_icon = el;
		el.userData.ggId="ht_node_icon";
		me._ht_node_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg.add(me._ht_node_icon);
		geometry = new THREE.PlaneBufferGeometry(3, 0.45, 5, 5 );
		geometry.name = 'ht_node_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_title.material.opacity = v;
			if (me._ht_node_title.userData.hasScrollbar) {
				me._ht_node_title.userData.scrollbar.material.opacity = v;
				me._ht_node_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_node_title.userData.ggSubElement) {
				me._ht_node_title.userData.ggSubElement.material.opacity = v
				me._ht_node_title.userData.ggSubElement.visible = (v>0 && me._ht_node_title.userData.visible);
			}
			me._ht_node_title.visible = (v>0 && me._ht_node_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_title.userData.backgroundColorAlpha = v;
			me._ht_node_title.userData.setOpacity(me._ht_node_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.28);
		el.scale.set(0.33, 0.33, 1.0);
		el.userData.width = 300;
		el.userData.height = 45;
		el.userData.scale = {x: 0.33, y: 0.33, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_title';
		el.userData.x = 0;
		el.userData.y = -0.28;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_title.visible
			let parentEl = me._ht_node_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_title.userData.opacity = v;
			v = v * me._ht_node_title.userData.parentOpacity;
			me._ht_node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_title.children.length; i++) {
				let child = me._ht_node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_title.userData.parentOpacity = v;
			v = v * me._ht_node_title.userData.opacity
			me._ht_node_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_title.children.length; i++) {
				let child = me._ht_node_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 0.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(1, 1, 1);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 300;
		canvas.height = 45;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_node_title.userData.totalHeight = 3;
			me._ht_node_title.userData.textLines = [];
			var ctx = me._ht_node_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_node_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_node_title.userData.textLines.push(line);
					line = '';
					me._ht_node_title.userData.totalHeight += me._ht_node_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_node_title.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_node_title.userData.textLines.push(line);
					line = words[i];
					me._ht_node_title.userData.totalHeight += me._ht_node_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_node_title.userData.textLines.push(line);
			me._ht_node_title.userData.totalHeight += me._ht_node_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_node_title.userData.textCanvas;
			var ctx = me._ht_node_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_title.userData.textColor.r * 255 + ', ' + me._ht_node_title.userData.textColor.g * 255 + ', ' + me._ht_node_title.userData.textColor.b * 255 + ', ' + me._ht_node_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_node_title.userData.boxWidth - (me._ht_node_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			for (var i = 0; i < me._ht_node_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_node_title.userData.textLines[i], x, y);
				y += me._ht_node_title.userData.lineHeight;
			}
			geometry = new THREE.PlaneBufferGeometry(me._ht_node_title.userData.boxWidth / 100.0, me._ht_node_title.userData.boxHeight / 100.0, 5, 5 );
			geometry.name = 'ht_node_title_geometry';
			me._ht_node_title.geometry.dispose();
			me._ht_node_title.geometry = geometry;
			var diffY = me._ht_node_title.userData.boxHeight - me._ht_node_title.userData.height;
			me._ht_node_title.position.y = me._ht_node_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_node_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_node_title.material.map) {
				me._ht_node_title.material.map.dispose();
			}
			me._ht_node_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_node_title.remove(...me._ht_node_title.children);
			var canv = me._ht_node_title.userData.textCanvas;
			var ctx = me._ht_node_title.userData.textCanvasContext;
			ctx.font = '21px Verdana';
			me._ht_node_title.userData.lineHeight = 21 * 1.2;
			me._ht_node_title.userData.textLines = [];
			me._ht_node_title.userData.textLines.push(me._ht_node_title.userData.ggText);
			me._ht_node_title.userData.totalHeight = 3;
			me._ht_node_title.userData.totalHeight += me._ht_node_title.userData.lineHeight;
			me._ht_node_title.userData.boxWidth = ctx.measureText(me._ht_node_title.userData.ggText).width + 0;
			me._ht_node_title.userData.boxHeight = me._ht_node_title.userData.totalHeight;
			canv.width = me._ht_node_title.userData.boxWidth;
			canv.height = me._ht_node_title.userData.boxHeight;
			ctx.font = '21px Verdana';
			me._ht_node_title.userData.ggPaintCanvasText();
		}
		me._ht_node_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_node_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_node_title.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_node_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_node_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_node_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_node_title";
		me._ht_node_title.logicBlock_position = function() {
			var newLogicStatePosition;
			if (
				((player.getHasTouch() == true))
			)
			{
				newLogicStatePosition = 0;
			}
			else {
				newLogicStatePosition = -1;
			}
			if (me._ht_node_title.ggCurrentLogicStatePosition != newLogicStatePosition) {
				me._ht_node_title.ggCurrentLogicStatePosition = newLogicStatePosition;
				if (me._ht_node_title.ggCurrentLogicStatePosition == 0) {
					var newPos = skin.getElementVrPosition(me._ht_node_title, 0, -28);
					me._ht_node_title.position.x = newPos.x;
					me._ht_node_title.position.y = newPos.y;
				}
				else {
					var elPos = skin.getElementVrPosition(me._ht_node_title, 0, 28);
					me._ht_node_title.position.x = elPos.x;
					me._ht_node_title.position.y = elPos.y;
				}
			}
		}
		me._ht_node_title.logicBlock_position();
		me._ht_node_title.logicBlock_alpha = function() {
			var newLogicStateAlpha;
			if (
				((me.elementMouseOver['ht_node_bg'] == true))
			)
			{
				newLogicStateAlpha = 0;
			}
			else {
				newLogicStateAlpha = -1;
			}
			if (me._ht_node_title.ggCurrentLogicStateAlpha != newLogicStateAlpha) {
				me._ht_node_title.ggCurrentLogicStateAlpha = newLogicStateAlpha;
				if (me._ht_node_title.ggCurrentLogicStateAlpha == 0) {
					me._ht_node_title.userData.transitionValue_alpha = 1;
					for (var i = 0; i < me._ht_node_title.userData.transitions.length; i++) {
						if (me._ht_node_title.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_node_title.userData.transitions[i].interval);
							me._ht_node_title.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_node_title.material ? me._ht_node_title.material.opacity : me._ht_node_title.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_node_title.userData.setOpacity(transition_alpha.startAlpha + (me._ht_node_title.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_node_title.userData.transitions.splice(me._ht_node_title.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_node_title.userData.transitions.push(transition_alpha);
				}
				else {
					me._ht_node_title.userData.transitionValue_alpha = 0;
					for (var i = 0; i < me._ht_node_title.userData.transitions.length; i++) {
						if (me._ht_node_title.userData.transitions[i].property == 'alpha') {
							clearInterval(me._ht_node_title.userData.transitions[i].interval);
							me._ht_node_title.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_alpha = {};
					transition_alpha.property = 'alpha';
					transition_alpha.startTime = Date.now();
					transition_alpha.startAlpha = me._ht_node_title.material ? me._ht_node_title.material.opacity : me._ht_node_title.userData.opacity;
					transition_alpha.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_alpha.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_node_title.userData.setOpacity(transition_alpha.startAlpha + (me._ht_node_title.userData.transitionValue_alpha - transition_alpha.startAlpha) * tfval);
						if (percentDone >= 1.0) {
							clearInterval(transition_alpha.interval);
							me._ht_node_title.userData.transitions.splice(me._ht_node_title.userData.transitions.indexOf(transition_alpha), 1);
						}
					}, 20);
					me._ht_node_title.userData.transitions.push(transition_alpha);
				}
			}
		}
		me._ht_node_title.logicBlock_alpha();
		me._ht_node_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg.add(me._ht_node_title);
		me._floor_hotspot.add(me._ht_node_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image.userData.ggSubElement) {
				me._ht_node_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image.userData.visible);
			}
			me._ht_node_custom_image.visible = (v>0 && me._ht_node_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image.visible
			let parentEl = me._ht_node_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image.userData.opacity = v;
			v = v * me._ht_node_custom_image.userData.parentOpacity;
			me._ht_node_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image.children.length; i++) {
				let child = me._ht_node_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image.userData.opacity
			me._ht_node_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image.children.length; i++) {
				let child = me._ht_node_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image.userData.ggUpdatePosition();
				me._ht_node_custom_image.userData.ggText = extUrl;
				me._ht_node_custom_image.userData.setOpacity(me._ht_node_custom_image.userData.opacity);
			});
		};
		var extUrl=basePath + "_custom";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_node_custom_image.visible=((!me._ht_node_custom_image.material && Number(me._ht_node_custom_image.userData.opacity>0)) || Number(me._ht_node_custom_image.material.opacity)>0)?true:false;
			me._ht_node_custom_image.userData.visible=true;
				}
				else {
			me._ht_node_custom_image.visible=false;
			me._ht_node_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_node_custom_image.logicBlock_visible();
		me._ht_node_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image.userData.clientHeight;
			var img = me._ht_node_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			currentWidth = imgWidth;
			currentHeight = imgHeight;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
		}
		me._floor_hotspot.add(me._ht_node_custom_image);
		me._floor_hotspot.userData.setOpacity(1.00);
		me._ht_node_bg.logicBlock_scaling();
		me._ht_node_bg.logicBlock_visible();
		me._ht_node_bg.userData.setOpacity(1.00);
		me._ht_node_icon.userData.setOpacity(1.00);
		me._ht_node_title.logicBlock_position();
		me._ht_node_title.logicBlock_alpha();
		me._ht_node_title.userData.setOpacity(0.00);
		me._ht_node_custom_image.logicBlock_visible();
		me._ht_node_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_node_bg.logicBlock_visible();
				me._ht_node_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_node_bg.logicBlock_visible();
				me._ht_node_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_node_bg.logicBlock_visible();
				me._ht_node_title.logicBlock_position();
				me._ht_node_custom_image.logicBlock_visible();
			};
			me.ggEvent_hastouch=function() {
				me._ht_node_title.logicBlock_position();
			};
			me.__obj = me._floor_hotspot;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinElement_map_pin_Class(parentScope,ggParent) {
		var me=this;
		var flag=false;
		me.parentScope=parentScope;
		me.ggParent=ggParent;
		var nodeId=ggParent.userData.ggElementNodeId();
		me.userData.ggNodeId=nodeId;
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(-2.72);
		el.translateY(3.58);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_pin';
		el.userData.x = -2.72;
		el.userData.y = 3.58;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._map_pin.material) me._map_pin.material.opacity = v;
			me._map_pin.visible = (v>0 && me._map_pin.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._map_pin.visible
			let parentEl = me._map_pin.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_pin.userData.opacity = v;
			v = v * me._map_pin.userData.parentOpacity;
			me._map_pin.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_pin.children.length; i++) {
				let child = me._map_pin.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_pin.userData.parentOpacity = v;
			v = v * me._map_pin.userData.opacity
			me._map_pin.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_pin.children.length; i++) {
				let child = me._map_pin.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_pin = el;
		el.userData.ggId="map_pin";
		me._map_pin.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.16;
		height = 0.16;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'map_pin_active_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(214,17,48,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'map_pin_active_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._map_pin_active.material.opacity = v * me._map_pin_active.userData.backgroundColorAlpha;
			if (me._map_pin_active.userData.ggSubElement) {
				me._map_pin_active.userData.ggSubElement.material.opacity = v
				me._map_pin_active.userData.ggSubElement.visible = (v>0 && me._map_pin_active.userData.visible);
			}
			me._map_pin_active.visible = (v>0 && me._map_pin_active.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._map_pin_active.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._map_pin_active.userData.backgroundColorAlpha = v;
			me._map_pin_active.userData.setOpacity(me._map_pin_active.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 16;
		el.userData.height = 16;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_pin_active';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._map_pin_active.visible
			let parentEl = me._map_pin_active.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_pin_active.userData.opacity = v;
			v = v * me._map_pin_active.userData.parentOpacity;
			me._map_pin_active.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_pin_active.children.length; i++) {
				let child = me._map_pin_active.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_pin_active.userData.parentOpacity = v;
			v = v * me._map_pin_active.userData.opacity
			me._map_pin_active.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_pin_active.children.length; i++) {
				let child = me._map_pin_active.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_pin_active = el;
		el.userData.ggId="map_pin_active";
		me._map_pin_active.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me._map_pin_active.userData.ggIsActive() == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map_pin_active.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map_pin_active.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map_pin_active.ggCurrentLogicStateVisible == 0) {
			me._map_pin_active.visible=false;
			me._map_pin_active.userData.visible=false;
				}
				else {
			me._map_pin_active.visible=((!me._map_pin_active.material && Number(me._map_pin_active.userData.opacity>0)) || Number(me._map_pin_active.material.opacity)>0)?true:false;
			me._map_pin_active.userData.visible=true;
				}
			}
		}
		me._map_pin_active.logicBlock_visible();
		me._map_pin_active.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map_pin.add(me._map_pin_active);
		geometry = new THREE.PlaneBufferGeometry(0.31, 0.3, 5, 5 );
		geometry.name = 'map_pin_inactive_bk_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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'+
	'AAAABJRU5ErkJggg==');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'map_pin_inactive_bk_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0.15);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 31;
		el.userData.height = 30;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_pin_inactive_bk';
		el.userData.x = 0;
		el.userData.y = 0.15;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._map_pin_inactive_bk.material) me._map_pin_inactive_bk.material.opacity = v;
			me._map_pin_inactive_bk.visible = (v>0 && me._map_pin_inactive_bk.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._map_pin_inactive_bk.visible
			let parentEl = me._map_pin_inactive_bk.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_pin_inactive_bk.userData.opacity = v;
			v = v * me._map_pin_inactive_bk.userData.parentOpacity;
			me._map_pin_inactive_bk.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_pin_inactive_bk.children.length; i++) {
				let child = me._map_pin_inactive_bk.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_pin_inactive_bk.userData.parentOpacity = v;
			v = v * me._map_pin_inactive_bk.userData.opacity
			me._map_pin_inactive_bk.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_pin_inactive_bk.children.length; i++) {
				let child = me._map_pin_inactive_bk.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_pin_inactive_bk = el;
		el.userData.ggId="map_pin_inactive_bk";
		me._map_pin_inactive_bk.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['map_pin_inactive_bk'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._map_pin_inactive_bk.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._map_pin_inactive_bk.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._map_pin_inactive_bk.ggCurrentLogicStateScaling == 0) {
					me._map_pin_inactive_bk.userData.transitionValue_scale = {x: 1.2, y: 1.2, z: 1.0};
					for (var i = 0; i < me._map_pin_inactive_bk.userData.transitions.length; i++) {
						if (me._map_pin_inactive_bk.userData.transitions[i].property == 'scale') {
							clearInterval(me._map_pin_inactive_bk.userData.transitions[i].interval);
							me._map_pin_inactive_bk.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_scale = {};
					transition_scale.property = 'scale';
					transition_scale.startTime = Date.now();
					transition_scale.startScale = me._map_pin_inactive_bk.scale;
					transition_scale.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_scale.startTime) / 200;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._map_pin_inactive_bk.scale.set(transition_scale.startScale.x + (me._map_pin_inactive_bk.userData.transitionValue_scale.x - transition_scale.startScale.x) * tfval, transition_scale.startScale.y + (me._map_pin_inactive_bk.userData.transitionValue_scale.y - transition_scale.startScale.y) * tfval, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
						me._map_pin_inactive_bk.position.x = (me._map_pin_inactive_bk.position.x - me._map_pin_inactive_bk.userData.curScaleOffX) + scaleOffX;
						me._map_pin_inactive_bk.userData.curScaleOffX = scaleOffX;
						me._map_pin_inactive_bk.position.y = (me._map_pin_inactive_bk.position.y - me._map_pin_inactive_bk.userData.curScaleOffY) + scaleOffY;
						me._map_pin_inactive_bk.userData.curScaleOffY = scaleOffY;
						if (percentDone >= 1.0) {
							clearInterval(transition_scale.interval);
							me._map_pin_inactive_bk.userData.transitions.splice(me._map_pin_inactive_bk.userData.transitions.indexOf(transition_scale), 1);
						}
					}, 20);
					me._map_pin_inactive_bk.userData.transitions.push(transition_scale);
				}
				else {
					me._map_pin_inactive_bk.userData.transitionValue_scale = {x: 1, y: 1, z: 1.0};
					for (var i = 0; i < me._map_pin_inactive_bk.userData.transitions.length; i++) {
						if (me._map_pin_inactive_bk.userData.transitions[i].property == 'scale') {
							clearInterval(me._map_pin_inactive_bk.userData.transitions[i].interval);
							me._map_pin_inactive_bk.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_scale = {};
					transition_scale.property = 'scale';
					transition_scale.startTime = Date.now();
					transition_scale.startScale = me._map_pin_inactive_bk.scale;
					transition_scale.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_scale.startTime) / 200;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._map_pin_inactive_bk.scale.set(transition_scale.startScale.x + (me._map_pin_inactive_bk.userData.transitionValue_scale.x - transition_scale.startScale.x) * tfval, transition_scale.startScale.y + (me._map_pin_inactive_bk.userData.transitionValue_scale.y - transition_scale.startScale.y) * tfval, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
						me._map_pin_inactive_bk.position.x = (me._map_pin_inactive_bk.position.x - me._map_pin_inactive_bk.userData.curScaleOffX) + scaleOffX;
						me._map_pin_inactive_bk.userData.curScaleOffX = scaleOffX;
						me._map_pin_inactive_bk.position.y = (me._map_pin_inactive_bk.position.y - me._map_pin_inactive_bk.userData.curScaleOffY) + scaleOffY;
						me._map_pin_inactive_bk.userData.curScaleOffY = scaleOffY;
						if (percentDone >= 1.0) {
							clearInterval(transition_scale.interval);
							me._map_pin_inactive_bk.userData.transitions.splice(me._map_pin_inactive_bk.userData.transitions.indexOf(transition_scale), 1);
						}
					}, 20);
					me._map_pin_inactive_bk.userData.transitions.push(transition_scale);
				}
			}
		}
		me._map_pin_inactive_bk.logicBlock_scaling();
		me._map_pin_inactive_bk.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me._map_pin_inactive_bk.userData.ggIsActive() == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map_pin_inactive_bk.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map_pin_inactive_bk.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map_pin_inactive_bk.ggCurrentLogicStateVisible == 0) {
			me._map_pin_inactive_bk.visible=false;
			me._map_pin_inactive_bk.userData.visible=false;
				}
				else {
			me._map_pin_inactive_bk.visible=false;
			me._map_pin_inactive_bk.userData.visible=false;
				}
			}
		}
		me._map_pin_inactive_bk.logicBlock_visible();
		me._map_pin_inactive_bk.userData.onclick=function (e) {
			player.openNext("{"+me.ggNodeId+"}","");
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', false);
			}
		}
		me._map_pin_inactive_bk.userData.onmouseover=function (e) {
			me.elementMouseOver['map_pin_inactive_bk']=true;
			me._map_pin_inactive_bk.logicBlock_scaling();
		}
		me._map_pin_inactive_bk.userData.ontouchend=function (e) {
			me._map_pin_inactive_bk.logicBlock_scaling();
		}
		me._map_pin_inactive_bk.userData.onmouseout=function (e) {
			me.elementMouseOver['map_pin_inactive_bk']=false;
			me._map_pin_inactive_bk.logicBlock_scaling();
		}
		me._map_pin_inactive_bk.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map_pin.add(me._map_pin_inactive_bk);
		width = 0.16;
		height = 0.16;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'map_pin_inactive_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(255,255,255,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'map_pin_inactive_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._map_pin_inactive.material.opacity = v * me._map_pin_inactive.userData.backgroundColorAlpha;
			if (me._map_pin_inactive.userData.ggSubElement) {
				me._map_pin_inactive.userData.ggSubElement.material.opacity = v
				me._map_pin_inactive.userData.ggSubElement.visible = (v>0 && me._map_pin_inactive.userData.visible);
			}
			me._map_pin_inactive.visible = (v>0 && me._map_pin_inactive.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._map_pin_inactive.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._map_pin_inactive.userData.backgroundColorAlpha = v;
			me._map_pin_inactive.userData.setOpacity(me._map_pin_inactive.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 16;
		el.userData.height = 16;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'map_pin_inactive';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._map_pin_inactive.visible
			let parentEl = me._map_pin_inactive.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._map_pin_inactive.userData.opacity = v;
			v = v * me._map_pin_inactive.userData.parentOpacity;
			me._map_pin_inactive.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_pin_inactive.children.length; i++) {
				let child = me._map_pin_inactive.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._map_pin_inactive.userData.parentOpacity = v;
			v = v * me._map_pin_inactive.userData.opacity
			me._map_pin_inactive.userData.setOpacityInternal(v);
			for (let i = 0; i < me._map_pin_inactive.children.length; i++) {
				let child = me._map_pin_inactive.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._map_pin_inactive = el;
		el.userData.ggId="map_pin_inactive";
		me._map_pin_inactive.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['map_pin_inactive'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._map_pin_inactive.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._map_pin_inactive.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._map_pin_inactive.ggCurrentLogicStateScaling == 0) {
					me._map_pin_inactive.scale.set(1.2, 1.2, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._map_pin_inactive.position.x = (me._map_pin_inactive.position.x - me._map_pin_inactive.userData.curScaleOffX) + scaleOffX;
					me._map_pin_inactive.userData.curScaleOffX = scaleOffX;
					me._map_pin_inactive.position.y = (me._map_pin_inactive.position.y - me._map_pin_inactive.userData.curScaleOffY) + scaleOffY;
					me._map_pin_inactive.userData.curScaleOffY = scaleOffY;
				}
				else {
					me._map_pin_inactive.scale.set(1, 1, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
					me._map_pin_inactive.position.x = (me._map_pin_inactive.position.x - me._map_pin_inactive.userData.curScaleOffX) + scaleOffX;
					me._map_pin_inactive.userData.curScaleOffX = scaleOffX;
					me._map_pin_inactive.position.y = (me._map_pin_inactive.position.y - me._map_pin_inactive.userData.curScaleOffY) + scaleOffY;
					me._map_pin_inactive.userData.curScaleOffY = scaleOffY;
				}
			}
		}
		me._map_pin_inactive.logicBlock_scaling();
		me._map_pin_inactive.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me._map_pin_inactive.userData.ggIsActive() == false))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._map_pin_inactive.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._map_pin_inactive.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._map_pin_inactive.ggCurrentLogicStateVisible == 0) {
			me._map_pin_inactive.visible=((!me._map_pin_inactive.material && Number(me._map_pin_inactive.userData.opacity>0)) || Number(me._map_pin_inactive.material.opacity)>0)?true:false;
			me._map_pin_inactive.userData.visible=true;
				}
				else {
			me._map_pin_inactive.visible=false;
			me._map_pin_inactive.userData.visible=false;
				}
			}
		}
		me._map_pin_inactive.logicBlock_visible();
		me._map_pin_inactive.userData.onclick=function (e) {
			player.openNext("{"+me.ggNodeId+"}","");
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', false);
			}
		}
		me._map_pin_inactive.userData.onmouseover=function (e) {
			me.elementMouseOver['map_pin_inactive']=true;
			me._map_pin_inactive.logicBlock_scaling();
		}
		me._map_pin_inactive.userData.ontouchend=function (e) {
			me._map_pin_inactive.logicBlock_scaling();
		}
		me._map_pin_inactive.userData.onmouseout=function (e) {
			me.elementMouseOver['map_pin_inactive']=false;
			me._map_pin_inactive.logicBlock_scaling();
		}
		me._map_pin_inactive.userData.ggUpdatePosition=function (useTransition) {
		}
		me._map_pin.add(me._map_pin_inactive);
		me._map_pin.userData.setOpacity(1.00);
		me._map_pin_active.logicBlock_visible();
		me._map_pin_active.userData.setOpacity(1.00);
		me._map_pin_inactive_bk.logicBlock_scaling();
		me._map_pin_inactive_bk.logicBlock_visible();
		me._map_pin_inactive_bk.userData.setOpacity(1.00);
		me._map_pin_inactive.logicBlock_scaling();
		me._map_pin_inactive.logicBlock_visible();
		me._map_pin_inactive.userData.setOpacity(1.00);
			me.ggEvent_changenode=function() {
				me._map_pin_active.logicBlock_visible();
				me._map_pin_inactive_bk.logicBlock_visible();
				me._map_pin_inactive.logicBlock_visible();
			};
	};
	function SkinHotspotClass_ht_url(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_url';
		el.userData.x = -2.16;
		el.userData.y = 1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url.visible
			let parentEl = me._ht_url.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url.userData.opacity = v;
			v = v * me._ht_url.userData.parentOpacity;
			me._ht_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url.children.length; i++) {
				let child = me._ht_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url.userData.parentOpacity = v;
			v = v * me._ht_url.userData.opacity
			me._ht_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url.children.length; i++) {
				let child = me._ht_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url = el;
		el.userData.ggId="ht_url";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_url.userData.onclick=function (e) {
				skin._url_hs_popup_iframe.userData.ggUpdateText=function(force) {
					var params = [];
					params.push(player._(String(player._(me.hotspot.title))));
					var hs = player._("<iframe src=\".\/loadModel\/index.html?id=%1\" width=\"100%\" height=\"100%\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" frameborder= \"0\" ><\/iframe>", params);
					if (hs!=this.ggText || force) {
						this.ggText=skin._url_hs_popup_iframe.userData.ggStripTags(hs);
						this.ggRenderText();
					}
				}
			skin._url_hs_popup_iframe.userData.ggUpdateText();
			player.setVariableValue('vis_url_hs_popup', true);
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_url']=true;
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_url']=false;
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_url.userData.ggUpdatePosition=function (useTransition) {
		}
		el = new THREE.Group();
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 40;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url_bg.visible
			let parentEl = me._ht_url_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_bg.userData.opacity = v;
			v = v * me._ht_url_bg.userData.parentOpacity;
			me._ht_url_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_bg.children.length; i++) {
				let child = me._ht_url_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_bg.userData.parentOpacity = v;
			v = v * me._ht_url_bg.userData.opacity
			me._ht_url_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_bg.children.length; i++) {
				let child = me._ht_url_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_bg = el;
		el.userData.ggId="ht_url_bg";
		me._ht_url_bg.logicBlock_scaling = function() {
			var newLogicStateScaling;
			if (
				((me.elementMouseOver['ht_url_bg'] == true))
			)
			{
				newLogicStateScaling = 0;
			}
			else {
				newLogicStateScaling = -1;
			}
			if (me._ht_url_bg.ggCurrentLogicStateScaling != newLogicStateScaling) {
				me._ht_url_bg.ggCurrentLogicStateScaling = newLogicStateScaling;
				if (me._ht_url_bg.ggCurrentLogicStateScaling == 0) {
					me._ht_url_bg.userData.transitionValue_scale = {x: 1.21, y: 1.2, z: 1.0};
					for (var i = 0; i < me._ht_url_bg.userData.transitions.length; i++) {
						if (me._ht_url_bg.userData.transitions[i].property == 'scale') {
							clearInterval(me._ht_url_bg.userData.transitions[i].interval);
							me._ht_url_bg.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_scale = {};
					transition_scale.property = 'scale';
					transition_scale.startTime = Date.now();
					transition_scale.startScale = me._ht_url_bg.scale;
					transition_scale.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_scale.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_url_bg.scale.set(transition_scale.startScale.x + (me._ht_url_bg.userData.transitionValue_scale.x - transition_scale.startScale.x) * tfval, transition_scale.startScale.y + (me._ht_url_bg.userData.transitionValue_scale.y - transition_scale.startScale.y) * tfval, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
						me._ht_url_bg.position.x = (me._ht_url_bg.position.x - me._ht_url_bg.userData.curScaleOffX) + scaleOffX;
						me._ht_url_bg.userData.curScaleOffX = scaleOffX;
						me._ht_url_bg.position.y = (me._ht_url_bg.position.y - me._ht_url_bg.userData.curScaleOffY) + scaleOffY;
						me._ht_url_bg.userData.curScaleOffY = scaleOffY;
						if (percentDone >= 1.0) {
							clearInterval(transition_scale.interval);
							me._ht_url_bg.userData.transitions.splice(me._ht_url_bg.userData.transitions.indexOf(transition_scale), 1);
						}
					}, 20);
					me._ht_url_bg.userData.transitions.push(transition_scale);
				}
				else {
					me._ht_url_bg.userData.transitionValue_scale = {x: 1, y: 1, z: 1.0};
					for (var i = 0; i < me._ht_url_bg.userData.transitions.length; i++) {
						if (me._ht_url_bg.userData.transitions[i].property == 'scale') {
							clearInterval(me._ht_url_bg.userData.transitions[i].interval);
							me._ht_url_bg.userData.transitions.splice(i, 1);
							break;
						}
					}
					let transition_scale = {};
					transition_scale.property = 'scale';
					transition_scale.startTime = Date.now();
					transition_scale.startScale = me._ht_url_bg.scale;
					transition_scale.interval = setInterval(() => {
						let currentTime = Date.now() - 0;
						let percentDone = 1.0 * (currentTime - transition_scale.startTime) / 300;
						percentDone = Math.max(percentDone, 0.0);
						percentDone = Math.min(percentDone, 1.0);
						let tfval = -(Math.cos(Math.PI * percentDone) - 1) / 2;
						me._ht_url_bg.scale.set(transition_scale.startScale.x + (me._ht_url_bg.userData.transitionValue_scale.x - transition_scale.startScale.x) * tfval, transition_scale.startScale.y + (me._ht_url_bg.userData.transitionValue_scale.y - transition_scale.startScale.y) * tfval, 1.0);
					var scaleOffX = 0;
					var scaleOffY = 0;
						me._ht_url_bg.position.x = (me._ht_url_bg.position.x - me._ht_url_bg.userData.curScaleOffX) + scaleOffX;
						me._ht_url_bg.userData.curScaleOffX = scaleOffX;
						me._ht_url_bg.position.y = (me._ht_url_bg.position.y - me._ht_url_bg.userData.curScaleOffY) + scaleOffY;
						me._ht_url_bg.userData.curScaleOffY = scaleOffY;
						if (percentDone >= 1.0) {
							clearInterval(transition_scale.interval);
							me._ht_url_bg.userData.transitions.splice(me._ht_url_bg.userData.transitions.indexOf(transition_scale), 1);
						}
					}, 20);
					me._ht_url_bg.userData.transitions.push(transition_scale);
				}
			}
		}
		me._ht_url_bg.logicBlock_scaling();
		me._ht_url_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_url_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_url_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_url_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_url_bg.visible=false;
			me._ht_url_bg.userData.visible=false;
				}
				else {
			me._ht_url_bg.visible=((!me._ht_url_bg.material && Number(me._ht_url_bg.userData.opacity>0)) || Number(me._ht_url_bg.material.opacity)>0)?true:false;
			me._ht_url_bg.userData.visible=true;
				}
			}
		}
		me._ht_url_bg.logicBlock_visible();
		me._ht_url_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_url_bg']=true;
			me._ht_url_bg.logicBlock_scaling();
		}
		me._ht_url_bg.userData.ontouchend=function (e) {
			me._ht_url_bg.logicBlock_scaling();
		}
		me._ht_url_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_url_bg']=false;
			me._ht_url_bg.logicBlock_scaling();
		}
		me._ht_url_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.2, 0.2, 5, 5 );
		geometry.name = 'ht_url_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,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');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_url_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 20;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_url_icon.material) me._ht_url_icon.material.opacity = v;
			me._ht_url_icon.visible = (v>0 && me._ht_url_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_url_icon.visible
			let parentEl = me._ht_url_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_icon.userData.opacity = v;
			v = v * me._ht_url_icon.userData.parentOpacity;
			me._ht_url_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_icon.children.length; i++) {
				let child = me._ht_url_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_icon.userData.parentOpacity = v;
			v = v * me._ht_url_icon.userData.opacity
			me._ht_url_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_icon.children.length; i++) {
				let child = me._ht_url_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_icon = el;
		el.userData.ggId="ht_url_icon";
		me._ht_url_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_url_bg.add(me._ht_url_icon);
		me._ht_url.add(me._ht_url_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_url_custom_image.userData.ggSubElement) {
				me._ht_url_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_url_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_url_custom_image.userData.visible);
			}
			me._ht_url_custom_image.visible = (v>0 && me._ht_url_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_url_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_url_custom_image.visible
			let parentEl = me._ht_url_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_url_custom_image.userData.opacity = v;
			v = v * me._ht_url_custom_image.userData.parentOpacity;
			me._ht_url_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_custom_image.children.length; i++) {
				let child = me._ht_url_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_url_custom_image.userData.parentOpacity = v;
			v = v * me._ht_url_custom_image.userData.opacity
			me._ht_url_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_url_custom_image.children.length; i++) {
				let child = me._ht_url_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_url_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_url_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_url_custom_image_subElementMaterial';
				me._ht_url_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_url_custom_image.userData.ggUpdatePosition();
				me._ht_url_custom_image.userData.ggText = extUrl;
				me._ht_url_custom_image.userData.setOpacity(me._ht_url_custom_image.userData.opacity);
			});
		};
		var extUrl=basePath + "_custom";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_url_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_url_custom_image_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_url_custom_image";
		me._ht_url_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_url_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_url_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_url_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_url_custom_image.visible=((!me._ht_url_custom_image.material && Number(me._ht_url_custom_image.userData.opacity>0)) || Number(me._ht_url_custom_image.material.opacity)>0)?true:false;
			me._ht_url_custom_image.userData.visible=true;
				}
				else {
			me._ht_url_custom_image.visible=false;
			me._ht_url_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_url_custom_image.logicBlock_visible();
		me._ht_url_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_url_custom_image.userData.clientWidth;
			var parentHeight = me._ht_url_custom_image.userData.clientHeight;
			var img = me._ht_url_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			currentWidth = imgWidth;
			currentHeight = imgHeight;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_url_custom_image_imgGeometry';
		}
		me._ht_url.add(me._ht_url_custom_image);
		me._ht_url.userData.setOpacity(1.00);
		me._ht_url_bg.logicBlock_scaling();
		me._ht_url_bg.logicBlock_visible();
		me._ht_url_bg.userData.setOpacity(1.00);
		me._ht_url_icon.userData.setOpacity(1.00);
		me._ht_url_custom_image.logicBlock_visible();
		me._ht_url_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_url_bg.logicBlock_visible();
				me._ht_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_url_bg.logicBlock_visible();
				me._ht_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_url_bg.logicBlock_visible();
				me._ht_url_custom_image.logicBlock_visible();
			};
			me.__obj = me._ht_url;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_node(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_node';
		el.userData.x = 6.23;
		el.userData.y = 1.03;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node.visible
			let parentEl = me._ht_node.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node.userData.opacity = v;
			v = v * me._ht_node.userData.parentOpacity;
			me._ht_node.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node.children.length; i++) {
				let child = me._ht_node.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node.userData.parentOpacity = v;
			v = v * me._ht_node.userData.opacity
			me._ht_node.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node.children.length; i++) {
				let child = me._ht_node.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node = el;
		el.userData.ggId="ht_node";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_node.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node.ggCurrentLogicStateVisible == 0) {
			me._ht_node.visible=((!me._ht_node.material && Number(me._ht_node.userData.opacity>0)) || Number(me._ht_node.material.opacity)>0)?true:false;
			me._ht_node.userData.visible=true;
				}
				else {
			me._ht_node.visible=false;
			me._ht_node.userData.visible=false;
				}
			}
		}
		me._ht_node.logicBlock_visible();
		me._ht_node.userData.onclick=function (e) {
			player.openNext(player._(me.hotspot.url),player._(me.hotspot.target));
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_node']=true;
			me._ht_node_preview_bg.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_node']=false;
			me._ht_node_preview_bg.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_node.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.2;
		height = 1.2;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_preview_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_preview_bg.material.opacity = v * me._ht_node_preview_bg.userData.backgroundColorAlpha;
			if (me._ht_node_preview_bg.userData.ggSubElement) {
				me._ht_node_preview_bg.userData.ggSubElement.material.opacity = v
				me._ht_node_preview_bg.userData.ggSubElement.visible = (v>0 && me._ht_node_preview_bg.userData.visible);
			}
			me._ht_node_preview_bg.visible = (v>0 && me._ht_node_preview_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_preview_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_preview_bg.userData.backgroundColorAlpha = v;
			me._ht_node_preview_bg.userData.setOpacity(me._ht_node_preview_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.66);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 120;
		el.userData.height = 120;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_bg';
		el.userData.x = 0;
		el.userData.y = 0.66;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_bg.visible
			let parentEl = me._ht_node_preview_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_bg.userData.opacity = v;
			v = v * me._ht_node_preview_bg.userData.parentOpacity;
			me._ht_node_preview_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg.children.length; i++) {
				let child = me._ht_node_preview_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_bg.userData.parentOpacity = v;
			v = v * me._ht_node_preview_bg.userData.opacity
			me._ht_node_preview_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_bg.children.length; i++) {
				let child = me._ht_node_preview_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_bg = el;
		el.userData.ggId="ht_node_preview_bg";
		me._ht_node_preview_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_node'] == true)) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_preview_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_preview_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_preview_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_node_preview_bg.visible=((!me._ht_node_preview_bg.material && Number(me._ht_node_preview_bg.userData.opacity>0)) || Number(me._ht_node_preview_bg.material.opacity)>0)?true:false;
			me._ht_node_preview_bg.userData.visible=true;
				}
				else {
			me._ht_node_preview_bg.visible=false;
			me._ht_node_preview_bg.userData.visible=false;
				}
			}
		}
		me._ht_node_preview_bg.logicBlock_visible();
		me._ht_node_preview_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 1.12;
		height = 1.12;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.05, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.05, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.05);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.05);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.05, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.05, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.05);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.05);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.05, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_preview_img_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		loader = new THREE.TextureLoader();
		el.userData.ggNodeId=nodeId;
		texture = loader.load(basePath + 'images_vr/ht_node_preview_img_' + nodeId + '.jpg');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_preview_img_material';
		el = new THREE.Mesh( geometry, material );
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 112;
		el.userData.height = 112;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_preview_img';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_preview_img.material) me._ht_node_preview_img.material.opacity = v;
			me._ht_node_preview_img.visible = (v>0 && me._ht_node_preview_img.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_preview_img.visible
			let parentEl = me._ht_node_preview_img.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_preview_img.userData.opacity = v;
			v = v * me._ht_node_preview_img.userData.parentOpacity;
			me._ht_node_preview_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_img.children.length; i++) {
				let child = me._ht_node_preview_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_preview_img.userData.parentOpacity = v;
			v = v * me._ht_node_preview_img.userData.opacity
			me._ht_node_preview_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_preview_img.children.length; i++) {
				let child = me._ht_node_preview_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_preview_img = el;
		el.userData.ggId="ht_node_preview_img";
		me._ht_node_preview_img.userData.ggIsActive=function() {
			return player.getCurrentNode()==this.userData.ggElementNodeId();
		}
		el.userData.ggElementNodeId=function() {
			return this.userData.ggNodeId;
		}
		me._ht_node_preview_img.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_preview_bg.add(me._ht_node_preview_img);
		geometry = new THREE.PlaneBufferGeometry(1.2, 0.396, 5, 5 );
		geometry.name = 'ht_node_title_bg_geometry';
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(40,40,40,0.588235)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_title_bg_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 0.588235;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_title_bg.material.opacity = v * me._ht_node_title_bg.userData.backgroundColorAlpha;
			if (me._ht_node_title_bg.userData.ggSubElement) {
				me._ht_node_title_bg.userData.ggSubElement.material.opacity = v
				me._ht_node_title_bg.userData.ggSubElement.visible = (v>0 && me._ht_node_title_bg.userData.visible);
			}
			me._ht_node_title_bg.visible = (v>0 && me._ht_node_title_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_title_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_title_bg.userData.backgroundColorAlpha = v;
			me._ht_node_title_bg.userData.setOpacity(me._ht_node_title_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.402);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 120;
		el.userData.height = 39.6;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_title_bg';
		el.userData.x = 0;
		el.userData.y = 0.402;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_title_bg.visible
			let parentEl = me._ht_node_title_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_title_bg.userData.opacity = v;
			v = v * me._ht_node_title_bg.userData.parentOpacity;
			me._ht_node_title_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_title_bg.children.length; i++) {
				let child = me._ht_node_title_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_title_bg.userData.parentOpacity = v;
			v = v * me._ht_node_title_bg.userData.opacity
			me._ht_node_title_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_title_bg.children.length; i++) {
				let child = me._ht_node_title_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_title_bg = el;
		el.userData.ggId="ht_node_title_bg";
		me._ht_node_title_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(1.2, 0.396, 5, 5 );
		geometry.name = 'ht_node_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_title0.material.opacity = v;
			if (me._ht_node_title0.userData.hasScrollbar) {
				me._ht_node_title0.userData.scrollbar.material.opacity = v;
				me._ht_node_title0.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_node_title0.userData.ggSubElement) {
				me._ht_node_title0.userData.ggSubElement.material.opacity = v
				me._ht_node_title0.userData.ggSubElement.visible = (v>0 && me._ht_node_title0.userData.visible);
			}
			me._ht_node_title0.visible = (v>0 && me._ht_node_title0.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_title0.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_title0.userData.backgroundColorAlpha = v;
			me._ht_node_title0.userData.setOpacity(me._ht_node_title0.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 120;
		el.userData.height = 39.6;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_title';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_title0.visible
			let parentEl = me._ht_node_title0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_title0.userData.opacity = v;
			v = v * me._ht_node_title0.userData.parentOpacity;
			me._ht_node_title0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_title0.children.length; i++) {
				let child = me._ht_node_title0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_title0.userData.parentOpacity = v;
			v = v * me._ht_node_title0.userData.opacity
			me._ht_node_title0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_title0.children.length; i++) {
				let child = me._ht_node_title0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_title0 = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(1, 1, 1);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 120;
		canvas.height = 40;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_node_title0.userData.totalHeight = 3;
			me._ht_node_title0.userData.textLines = [];
			var ctx = me._ht_node_title0.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_node_title0.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_node_title0.userData.textLines.push(line);
					line = '';
					me._ht_node_title0.userData.totalHeight += me._ht_node_title0.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_node_title0.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_node_title0.userData.textLines.push(line);
					line = words[i];
					me._ht_node_title0.userData.totalHeight += me._ht_node_title0.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_node_title0.userData.textLines.push(line);
			me._ht_node_title0.userData.totalHeight += me._ht_node_title0.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_node_title0.userData.textCanvas;
			var ctx = me._ht_node_title0.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_node_title0.userData.textColor.r * 255 + ', ' + me._ht_node_title0.userData.textColor.g * 255 + ', ' + me._ht_node_title0.userData.textColor.b * 255 + ', ' + me._ht_node_title0.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_node_title0.userData.boxWidth - (me._ht_node_title0.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			y += (canv.height - me._ht_node_title0.userData.totalHeight - 0) / 2;
			for (var i = 0; i < me._ht_node_title0.userData.textLines.length; i++) {
				ctx.fillText(me._ht_node_title0.userData.textLines[i], x, y);
				y += me._ht_node_title0.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_node_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_node_title0.material.map) {
				me._ht_node_title0.material.map.dispose();
			}
			me._ht_node_title0.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_node_title0.remove(...me._ht_node_title0.children);
			var canv = me._ht_node_title0.userData.textCanvas;
			var ctx = me._ht_node_title0.userData.textCanvasContext;
			ctx.font = '14px Verdana';
			me._ht_node_title0.userData.lineHeight = 16.8;
			me._ht_node_title0.userData.ggWrapText(false);
			me._ht_node_title0.userData.boxWidth = me._ht_node_title0.userData.width;
			me._ht_node_title0.userData.boxHeight = me._ht_node_title0.userData.height;
			me._ht_node_title0.userData.hasScrollbar = false;
			canv.width = me._ht_node_title0.userData.boxWidth;
			canv.height = me._ht_node_title0.userData.boxHeight;
			ctx.font = '14px Verdana';
			me._ht_node_title0.userData.ggPaintCanvasText();
		}
		me._ht_node_title0.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_node_title0.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_node_title0.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_node_title0.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_title0.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_title0.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_node_title0.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_node_title0.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_node_title";
		me._ht_node_title0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_title_bg.add(me._ht_node_title0);
		me._ht_node_preview_bg.add(me._ht_node_title_bg);
		me._ht_node.add(me._ht_node_preview_bg);
		width = 0.24;
		height = 0.4;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_node_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_node_bg_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.24;
		height = 0.4;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.12, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.12, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.12);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.12);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.12, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.12, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.12);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.12);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.12, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'ht_node_bg_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'ht_node_bg_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'ht_node_bg_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_node_bg0.material.opacity = v * me._ht_node_bg0.userData.backgroundColorAlpha;
			me._ht_node_bg0.userData.border.material.opacity = v * me._ht_node_bg0.userData.borderColorAlpha;
			if (me._ht_node_bg0.userData.ggSubElement) {
				me._ht_node_bg0.userData.ggSubElement.material.opacity = v
				me._ht_node_bg0.userData.ggSubElement.visible = (v>0 && me._ht_node_bg0.userData.visible);
			}
			me._ht_node_bg0.visible = (v>0 && me._ht_node_bg0.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_node_bg0.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_node_bg0.userData.backgroundColorAlpha = v;
			me._ht_node_bg0.userData.setOpacity(me._ht_node_bg0.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._ht_node_bg0.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._ht_node_bg0.userData.borderColorAlpha = v;
			me._ht_node_bg0.userData.setOpacity(me._ht_node_bg0.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 24;
		el.userData.height = 40;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_bg0.visible
			let parentEl = me._ht_node_bg0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_bg0.userData.opacity = v;
			v = v * me._ht_node_bg0.userData.parentOpacity;
			me._ht_node_bg0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg0.children.length; i++) {
				let child = me._ht_node_bg0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_bg0.userData.parentOpacity = v;
			v = v * me._ht_node_bg0.userData.opacity
			me._ht_node_bg0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_bg0.children.length; i++) {
				let child = me._ht_node_bg0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_bg0 = el;
		el.userData.ggId="ht_node_bg";
		me._ht_node_bg0.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_bg0.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_bg0.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_bg0.ggCurrentLogicStateVisible == 0) {
			me._ht_node_bg0.visible=false;
			me._ht_node_bg0.userData.visible=false;
				}
				else {
			me._ht_node_bg0.visible=((!me._ht_node_bg0.material && Number(me._ht_node_bg0.userData.opacity>0)) || Number(me._ht_node_bg0.material.opacity)>0)?true:false;
			me._ht_node_bg0.userData.visible=true;
				}
			}
		}
		me._ht_node_bg0.logicBlock_visible();
		me._ht_node_bg0.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['ht_node_bg0'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._ht_node_bg0.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._ht_node_bg0.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._ht_node_bg0.ggCurrentLogicStateBackgroundColor == 0) {
					me._ht_node_bg0.userData.setBackgroundColor(new THREE.Color('#4d4d4d'));
					me._ht_node_bg0.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._ht_node_bg0.userData.setBackgroundColor(new THREE.Color('#3d3d3d'));
					me._ht_node_bg0.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._ht_node_bg0.logicBlock_backgroundcolor();
		me._ht_node_bg0.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_node_bg0']=true;
			me._ht_node_bg0.logicBlock_backgroundcolor();
		}
		me._ht_node_bg0.userData.ontouchend=function (e) {
			me._ht_node_bg0.logicBlock_backgroundcolor();
		}
		me._ht_node_bg0.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_node_bg0']=false;
			me._ht_node_bg0.logicBlock_backgroundcolor();
		}
		me._ht_node_bg0.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.18, 0.18, 5, 5 );
		geometry.name = 'ht_node_visited_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEeklEQVRYhcWYzUsjSRjGn+puhUQNZEAHP6KX6MSTMLqwIuYgQjAdOrqKwb143L9gL7nvXPa8gpc9m4SMSUwMiuAq6AxIQNCLCQiOWTGITEBZI3Z3zSGd0mRN24mZ3efUT9db1b+uro+3mqBOiaJoJYT0EkK6AHRpty8opReU0i+JROJrPe2SWoIlSXpHKZ0G4AXwo059CuAzgCghJBKLxU4aCqSBfADwk9GGK/SREOI3AqYL5PF4zISQ3wH8AoCvE6YkBcAypfTXeDz+T81AXq/XpqpqBMD7V4JUKiXL8nQymcwaBhJFcZjjuASAtw2GKSmnqqqYSCRSLwJpPXPwHWEYlCzLI5U9xT01Ho/HrH2m7w0DAG8FQYh6PB5zVSBtADd6zIDneSwuLqKnp6'+
	'ey6L32zMfY0oUkSe8A/FkJ2QhNTk7C5XLB6XTCYrEgk8lAlmUGZbfbVzKZzDWePlxbZ147tf8li8UCURQBAIQQOBwOPDw8PA3heZ7/UDIcwHqn3kVPV16vFyaTiflQKARFUSrDZt1u9wAD0raDhqu3txdjY2PMHx8f4+jo6NlYQRCmGRCKe1NDRQiBz+cDIcWVRVEUhEKhqvGqqnoBgBNF0YriRqmr1tZWLCwsoL293RDQ8PAw7HY789vb27i8vNR7gVFRFK0CIaQXL+xpExMTkCQJJpMJVqsVS0tLujDNzc2Ym5tj/vb2FvF4/KV3IDzP2zgtn9FVX18fG5hDQ0MYHBzUjXe5XLBarcxHIhHc3d299BgA6OLwmFxV1erqKu7v75n3+Xzg+edXiDdv3sDlcjGfzWaxt7dnBAaU0m5Di2A+n0cymWS+s7MT4+Pjz8bO'+
	'zs6iqamJ+UAgAFVVDQEBxVl2YSRwa2sL19fXzHu9XrS0tJTF9Pf3Y2RkhPlUKoV0Om0YhhDyN0cpNQT08PBQNm3NZjMkSWKe4zj4fL6y+HA4bBhG0wVHKf2CYg78og4PD3Fy8piFOp1OdHd3AwBGR0dhs9lY2ebmZlmPGhBVFOWc004Hnw3VoBTBYBCUFvk5jsP8/DxMJhNmZmZYXD6fx8bGRi0woJR+SiQSX0uDOmq0Yjabxe7uLvMOhwN+vx9tbW3sXjgcLpuVRsRxXBTQtg5CSKSWymtra2XrSkdHB7s+PT3FwcFBTTAAIMtyhAFpx5OPRivf3NwgFos9W7ayssI+aQ0Kr6+vpxkQABBC/CgeVQxpZ2cHuVyu7N7+/j7Ozs5qhVEURfGXDAPSemm5hlYQCASYLxQKiERq+vIlLZd6B6jIEAcGBv4ihEwB6DTS0t'+
	'XVFXK5HAqFAoLBoO5uXkUpSunP6XSapZD/5zHoUpblH3SPQQAQjUbPVVUVAeQqyxoJo6qq57nTa9U8aGpqqkcQhCj+46N01d0+mUxmKaXjAJZQw+zTkUII+YNS6qwGA9T2O+Y3ALN1woQVRfE/nU2vAirJ7XYPCIIwraqqlxAyqlOfUko/cRwXlWU5YgSkLqCnEkXRyvO8DUAXpbQbKOYzAC4URTmv95feN7dgzt2WMK1uAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_visited_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0.14);
		el.translateY(-0.18);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 18;
		el.userData.height = 18;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_visited';
		el.userData.x = 0.14;
		el.userData.y = -0.18;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_visited.material) me._ht_node_visited.material.opacity = v;
			me._ht_node_visited.visible = (v>0 && me._ht_node_visited.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_visited.visible
			let parentEl = me._ht_node_visited.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_visited.userData.opacity = v;
			v = v * me._ht_node_visited.userData.parentOpacity;
			me._ht_node_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_visited.children.length; i++) {
				let child = me._ht_node_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_visited.userData.parentOpacity = v;
			v = v * me._ht_node_visited.userData.opacity
			me._ht_node_visited.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_visited.children.length; i++) {
				let child = me._ht_node_visited.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_visited = el;
		el.userData.ggId="ht_node_visited";
		me._ht_node_visited.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.nodeVisited(me._ht_node_visited.ggElementNodeId()) == true)) || 
				((me._ht_node_visited.userData.ggIsActive() == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_visited.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_visited.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_visited.ggCurrentLogicStateVisible == 0) {
			me._ht_node_visited.visible=((!me._ht_node_visited.material && Number(me._ht_node_visited.userData.opacity>0)) || Number(me._ht_node_visited.material.opacity)>0)?true:false;
			me._ht_node_visited.userData.visible=true;
				}
				else {
			me._ht_node_visited.visible=false;
			me._ht_node_visited.userData.visible=false;
				}
			}
		}
		me._ht_node_visited.logicBlock_visible();
		me._ht_node_visited.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg0.add(me._ht_node_visited);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.48, 5, 5 );
		geometry.name = 'ht_node_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABgCAYAAACtxXToAAABtUlEQVR4nO3YS2rDMBCA4VFPYVuLQi/VNil0E8itWvqiTXqn7CRyh5BMNzKY1HnVlqaL/4NsjGPN/OAsIgIAAAAAAAAAAAAAyCuEcBtjfLCew0QI4S7GuE0fswhXFoeGEO6dcx/p/CsRebGK4EofmJZ/l9/xdyLy2DTNe8l5igY4snyreIRiAWKMExF5k9OvXdEIRQJcsHyrWITsP4IHlt/13Nq9VuyHMWuAGONUepZX1V+LqepEDCJkC5CWf5We5b33n/v3e+8XFhGyBDiy/LRv+ZZFhNEDnFj+69T3OxG2ncvZIowaIA3Yt/zknOVbKcJUCkQYLUAa7GXvmdu0/OLS55WKMEqAQ8s75/60fMt7v3DOZX0dBgdYr9c3IvIsPcvXdb0c+vy6rpcHIj'+
	'ynswcZHKCqqpWqzkVE06Wtc+5+jOVbPRFUVedVVa2GPnuUV8B7/6SqMxHZpOW/x3huVyfCRlVn3vunsc8YLMZ4fcG92v3kOOMcxf8PaO0v3TSNySwm/wj9JwSwHsAaAawHsEYA6wGsEcB6AGsEsB7AGgGsB7BGAOsBAAAAAAAAAAAAAAAAcvsBEy/zfVe5J0sAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_node_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 48;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_icon0.material) me._ht_node_icon0.material.opacity = v;
			me._ht_node_icon0.visible = (v>0 && me._ht_node_icon0.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_node_icon0.visible
			let parentEl = me._ht_node_icon0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_icon0.userData.opacity = v;
			v = v * me._ht_node_icon0.userData.parentOpacity;
			me._ht_node_icon0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon0.children.length; i++) {
				let child = me._ht_node_icon0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_icon0.userData.parentOpacity = v;
			v = v * me._ht_node_icon0.userData.opacity
			me._ht_node_icon0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_icon0.children.length; i++) {
				let child = me._ht_node_icon0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_icon0 = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABgCAYAAACtxXToAAABz0lEQVR4nO3XsW4TQRRG4X9Dt+3ehjwDDwNVwHZ4tQiSEKq8DCmhhWa2XYEUGApmJOPsOrF3dq4Q55PcOOvZe4+dyJEAAAAAAAAAAAAA4D/wzPPmZrZq2/bFMAx3nnO46LpuY2Y/02PtNYfLJ6Druk3TNO8knUhqJL1s2/bLMAyfas9SPcDO8plbhKoBJpbPXCJUC2Bm66Zp3mt8+SxH+FwrQpUA6Y/cY8tnjaRXtSIsHmBi+V/6s6gmnqsW4SnvyNHMbKXx5c9HLn+bfpadSLpMZyxmsQBp8EuNLB9C+LB7fQjhWtMR3iw15yIBDl0+2xPhaqkIxQMcu3yWIpyrUoSiAfYsv3nK8lm6tkqEYgHSYFPL3xx63iMRXs+ZdVuRAGn5KxVaPtsT4bpUhN'+
	'kBzOxU0oUeLr+es3yWImz0MMKFmT2fe/7sACGErzHGlaT79FRe/uPcs7fucaO/I9zHGNchhG9zzy7yK9D3/W2M8UzSdxVePtuK8CPGeNb3/W3pe8x2yEfSzOL244DXnR433bjd7+PV7C4dQnCZZdH/Bf4FBPAewBsBvAfwRgDvAbwRwHsAbwTwHsAbAbwH8EYA7wEAAAAAAAAAAAAAAACW9hvoDcKvPo+g2QAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_node_icon_materialOver';
		el.userData.ggId="ht_node_icon";
		me._ht_node_icon0.userData.onmouseover=function (e) {
			me._ht_node_icon0.material = me._ht_node_icon0.userData.materialOver;
			me.elementMouseOver['ht_node_icon0']=true;
		}
		me._ht_node_icon0.userData.onmouseout=function (e) {
			me._ht_node_icon0.material = me._ht_node_icon0.userData.materialNormal;
			me.elementMouseOver['ht_node_icon0']=false;
		}
		me._ht_node_icon0.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_node_bg0.add(me._ht_node_icon0);
		me._ht_node.add(me._ht_node_bg0);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_node_custom_image0.userData.ggSubElement) {
				me._ht_node_custom_image0.userData.ggSubElement.material.opacity = v
				me._ht_node_custom_image0.userData.ggSubElement.visible = (v>0 && me._ht_node_custom_image0.userData.visible);
			}
			me._ht_node_custom_image0.visible = (v>0 && me._ht_node_custom_image0.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_node_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_node_custom_image0.visible
			let parentEl = me._ht_node_custom_image0.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_node_custom_image0.userData.opacity = v;
			v = v * me._ht_node_custom_image0.userData.parentOpacity;
			me._ht_node_custom_image0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image0.children.length; i++) {
				let child = me._ht_node_custom_image0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_node_custom_image0.userData.parentOpacity = v;
			v = v * me._ht_node_custom_image0.userData.opacity
			me._ht_node_custom_image0.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_node_custom_image0.children.length; i++) {
				let child = me._ht_node_custom_image0.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_node_custom_image0 = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_node_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_node_custom_image_subElementMaterial';
				me._ht_node_custom_image0.userData.ggSubElement.material = loadedMaterial;
				me._ht_node_custom_image0.userData.ggUpdatePosition();
				me._ht_node_custom_image0.userData.ggText = extUrl;
				me._ht_node_custom_image0.userData.setOpacity(me._ht_node_custom_image0.userData.opacity);
			});
		};
		var extUrl=basePath + "_custom";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_node_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_node_custom_image_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_node_custom_image";
		me._ht_node_custom_image0.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_node_custom_image0.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_node_custom_image0.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_node_custom_image0.ggCurrentLogicStateVisible == 0) {
			me._ht_node_custom_image0.visible=((!me._ht_node_custom_image0.material && Number(me._ht_node_custom_image0.userData.opacity>0)) || Number(me._ht_node_custom_image0.material.opacity)>0)?true:false;
			me._ht_node_custom_image0.userData.visible=true;
				}
				else {
			me._ht_node_custom_image0.visible=false;
			me._ht_node_custom_image0.userData.visible=false;
				}
			}
		}
		me._ht_node_custom_image0.logicBlock_visible();
		me._ht_node_custom_image0.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_node_custom_image0.userData.clientWidth;
			var parentHeight = me._ht_node_custom_image0.userData.clientHeight;
			var img = me._ht_node_custom_image0.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			currentWidth = imgWidth;
			currentHeight = imgHeight;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_node_custom_image_imgGeometry';
		}
		me._ht_node.add(me._ht_node_custom_image0);
		me._ht_node.logicBlock_visible();
		me._ht_node.userData.setOpacity(1.00);
		me._ht_node_preview_bg.logicBlock_visible();
		me._ht_node_preview_bg.userData.setOpacity(1.00);
		me._ht_node_preview_img.userData.setOpacity(1.00);
		me._ht_node_title_bg.userData.setOpacity(1.00);
		me._ht_node_title0.userData.setOpacity(1.00);
		me._ht_node_bg0.logicBlock_visible();
		me._ht_node_bg0.logicBlock_backgroundcolor();
		me._ht_node_bg0.userData.setOpacity(1.00);
		me._ht_node_visited.logicBlock_visible();
		me._ht_node_visited.userData.setOpacity(1.00);
		me._ht_node_icon0.userData.setOpacity(1.00);
		me._ht_node_custom_image0.logicBlock_visible();
		me._ht_node_custom_image0.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_node_preview_bg.logicBlock_visible();
				me._ht_node_bg0.logicBlock_visible();
				me._ht_node_custom_image0.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_node.logicBlock_visible();
				me._ht_node_preview_bg.logicBlock_visible();
				me._ht_node_bg0.logicBlock_visible();
				me._ht_node_visited.logicBlock_visible();
				me._ht_node_visited.logicBlock_visible();
				me._ht_node_custom_image0.logicBlock_visible();
			};
			me.ggEvent_changevisitednodes=function() {
				me._ht_node_visited.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_node.logicBlock_visible();
				me._ht_node_preview_bg.logicBlock_visible();
				me._ht_node_bg0.logicBlock_visible();
				me._ht_node_custom_image0.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_node.logicBlock_visible();
			};
			me.__obj = me._ht_node;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_image(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_image';
		el.userData.x = 0.04;
		el.userData.y = 1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image.visible
			let parentEl = me._ht_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image.userData.opacity = v;
			v = v * me._ht_image.userData.parentOpacity;
			me._ht_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image.children.length; i++) {
				let child = me._ht_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image.userData.parentOpacity = v;
			v = v * me._ht_image.userData.opacity
			me._ht_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image.children.length; i++) {
				let child = me._ht_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image = el;
		el.userData.ggId="ht_image";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_image.ggCurrentLogicStateVisible == 0) {
			me._ht_image.visible=((!me._ht_image.material && Number(me._ht_image.userData.opacity>0)) || Number(me._ht_image.material.opacity)>0)?true:false;
			me._ht_image.userData.visible=true;
				}
				else {
			me._ht_image.visible=false;
			me._ht_image.userData.visible=false;
				}
			}
		}
		me._ht_image.logicBlock_visible();
		me._ht_image.userData.onclick=function (e) {
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_image.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_image.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_image']=true;
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_image.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_image']=false;
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_image.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 3;
		height = 3;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.14, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.14, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.14);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.14);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.14, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.14, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.14);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.14);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.14, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'image_hs_popup_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'image_hs_popup_material';
		el = new THREE.Mesh( geometry, material );
		width = 3;
		height = 3;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.18, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.18, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.18);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.18);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.18, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.18, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.18);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.18);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.18, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.14, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.14, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.14);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.14);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.14, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.14, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.14);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.14);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.14, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'image_hs_popup_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'image_hs_popup_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'image_hs_popup_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._image_hs_popup.material.opacity = v * me._image_hs_popup.userData.backgroundColorAlpha;
			me._image_hs_popup.userData.border.material.opacity = v * me._image_hs_popup.userData.borderColorAlpha;
			if (me._image_hs_popup.userData.ggSubElement) {
				me._image_hs_popup.userData.ggSubElement.material.opacity = v
				me._image_hs_popup.userData.ggSubElement.visible = (v>0 && me._image_hs_popup.userData.visible);
			}
			me._image_hs_popup.visible = (v>0 && me._image_hs_popup.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup.userData.backgroundColorAlpha = v;
			me._image_hs_popup.userData.setOpacity(me._image_hs_popup.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._image_hs_popup.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._image_hs_popup.userData.borderColorAlpha = v;
			me._image_hs_popup.userData.setOpacity(me._image_hs_popup.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-1.76);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 300;
		el.userData.height = 300;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup';
		el.userData.x = 0;
		el.userData.y = -1.76;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup.visible
			let parentEl = me._image_hs_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup.userData.opacity = v;
			v = v * me._image_hs_popup.userData.parentOpacity;
			me._image_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup.children.length; i++) {
				let child = me._image_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup.userData.parentOpacity = v;
			v = v * me._image_hs_popup.userData.opacity
			me._image_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup.children.length; i++) {
				let child = me._image_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup = el;
		el.userData.ggId="image_hs_popup";
		me._image_hs_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				(((player.getVariableValue('vis_image_hs_popups')).indexOf("<"+me.hotspot.id+">") != -1))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._image_hs_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._image_hs_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._image_hs_popup.ggCurrentLogicStateVisible == 0) {
			me._image_hs_popup.visible=((!me._image_hs_popup.material && Number(me._image_hs_popup.userData.opacity>0)) || Number(me._image_hs_popup.material.opacity)>0)?true:false;
			me._image_hs_popup.userData.visible=true;
				}
				else {
			me._image_hs_popup.visible=false;
			me._image_hs_popup.userData.visible=false;
				}
			}
		}
		me._image_hs_popup.logicBlock_visible();
		me._image_hs_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(2.62, 0.62, 5, 5 );
		geometry.name = 'image_hs_popup_description_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'image_hs_popup_description_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._image_hs_popup_description.material.opacity = v;
			if (me._image_hs_popup_description.userData.hasScrollbar) {
				me._image_hs_popup_description.userData.scrollbar.material.opacity = v;
				me._image_hs_popup_description.userData.scrollbarBg.material.opacity = v;
			}
			if (me._image_hs_popup_description.userData.ggSubElement) {
				me._image_hs_popup_description.userData.ggSubElement.material.opacity = v
				me._image_hs_popup_description.userData.ggSubElement.visible = (v>0 && me._image_hs_popup_description.userData.visible);
			}
			me._image_hs_popup_description.visible = (v>0 && me._image_hs_popup_description.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_description.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_description.userData.backgroundColorAlpha = v;
			me._image_hs_popup_description.userData.setOpacity(me._image_hs_popup_description.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-1.05);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 262;
		el.userData.height = 62;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_description';
		el.userData.x = 0;
		el.userData.y = -1.05;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_description.visible
			let parentEl = me._image_hs_popup_description.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_description.userData.opacity = v;
			v = v * me._image_hs_popup_description.userData.parentOpacity;
			me._image_hs_popup_description.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_description.children.length; i++) {
				let child = me._image_hs_popup_description.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_description.userData.parentOpacity = v;
			v = v * me._image_hs_popup_description.userData.opacity
			me._image_hs_popup_description.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_description.children.length; i++) {
				let child = me._image_hs_popup_description.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_description = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 262;
		canvas.height = 62;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._image_hs_popup_description.userData.totalHeight = 3;
			me._image_hs_popup_description.userData.textLines = [];
			var ctx = me._image_hs_popup_description.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._image_hs_popup_description.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._image_hs_popup_description.userData.textLines.push(line);
					line = '';
					me._image_hs_popup_description.userData.totalHeight += me._image_hs_popup_description.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._image_hs_popup_description.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._image_hs_popup_description.userData.textLines.push(line);
					line = words[i];
					me._image_hs_popup_description.userData.totalHeight += me._image_hs_popup_description.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._image_hs_popup_description.userData.textLines.push(line);
			me._image_hs_popup_description.userData.totalHeight += me._image_hs_popup_description.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._image_hs_popup_description.userData.textCanvas;
			var ctx = me._image_hs_popup_description.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._image_hs_popup_description.userData.textColor.r * 255 + ', ' + me._image_hs_popup_description.userData.textColor.g * 255 + ', ' + me._image_hs_popup_description.userData.textColor.b * 255 + ', ' + me._image_hs_popup_description.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 0;
			ctx.textAlign = 'left';
			var y = 3;
			y -= me._image_hs_popup_description.userData.scrollPosPercent * me._image_hs_popup_description.userData.totalHeight;
			for (var i = 0; i < me._image_hs_popup_description.userData.textLines.length; i++) {
				ctx.fillText(me._image_hs_popup_description.userData.textLines[i], x, y);
				y += me._image_hs_popup_description.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'image_hs_popup_description_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._image_hs_popup_description.material.map) {
				me._image_hs_popup_description.material.map.dispose();
			}
			me._image_hs_popup_description.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._image_hs_popup_description.remove(...me._image_hs_popup_description.children);
			var canv = me._image_hs_popup_description.userData.textCanvas;
			var ctx = me._image_hs_popup_description.userData.textCanvasContext;
			ctx.font = '13px Verdana';
			me._image_hs_popup_description.userData.lineHeight = 13 * 1.2;
			me._image_hs_popup_description.userData.ggWrapText(false);
			me._image_hs_popup_description.userData.boxWidth = me._image_hs_popup_description.userData.width;
			me._image_hs_popup_description.userData.boxHeight = me._image_hs_popup_description.userData.height;
			me._image_hs_popup_description.userData.scrollPosPercent = 0.0
			if (me._image_hs_popup_description.userData.totalHeight > me._image_hs_popup_description.userData.height) {
				me._image_hs_popup_description.userData.ggWrapText(true);
				me._image_hs_popup_description.userData.pagePercent = me._image_hs_popup_description.userData.height / me._image_hs_popup_description.userData.totalHeight;
				me._image_hs_popup_description.userData.maxScrollPercent = (me._image_hs_popup_description.userData.totalHeight - me._image_hs_popup_description.userData.height) / me._image_hs_popup_description.userData.totalHeight;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._image_hs_popup_description.userData.height / 100.0, 5, 5 );
				geometry.name = 'image_hs_popup_description_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'image_hs_popup_description_scrollbarBgMaterial';
				me._image_hs_popup_description.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._image_hs_popup_description.userData.scrollbarBg.name = 'image_hs_popup_description_scrollbarBg';
				me._image_hs_popup_description.add(me._image_hs_popup_description.userData.scrollbarBg);
				me._image_hs_popup_description.userData.scrollbarXPos = (me._image_hs_popup_description.userData.width - 25) / 200.0;
				me._image_hs_popup_description.userData.scrollbarBg.position.x = me._image_hs_popup_description.userData.scrollbarXPos;
				me._image_hs_popup_description.userData.scrollbarBg.position.z = me._image_hs_popup_description.position.z + 0.01;
				me._image_hs_popup_description.userData.scrollbarBg.userData.stopPropagation = true;
				me._image_hs_popup_description.userData.scrollbarHeight = (me._image_hs_popup_description.userData.height / me._image_hs_popup_description.userData.totalHeight) * me._image_hs_popup_description.userData.height;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._image_hs_popup_description.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'image_hs_popup_description_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'image_hs_popup_description_scrollbarMaterial';
				me._image_hs_popup_description.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._image_hs_popup_description.userData.scrollbar.name = 'image_hs_popup_description_scrollbar';
				me._image_hs_popup_description.add(me._image_hs_popup_description.userData.scrollbar);
				me._image_hs_popup_description.userData.scrollbar.position.x = me._image_hs_popup_description.userData.scrollbarXPos;
				me._image_hs_popup_description.userData.scrollbar.position.z = me._image_hs_popup_description.position.z + 0.02;
				me._image_hs_popup_description.userData.scrollbarYPosMin = (me._image_hs_popup_description.userData.height - me._image_hs_popup_description.userData.scrollbarHeight) / 200.0;
				me._image_hs_popup_description.userData.scrollbarYPosMax = me._image_hs_popup_description.userData.scrollbarYPosMin - (me._image_hs_popup_description.userData.height - me._image_hs_popup_description.userData.scrollbarHeight) / 100.0;
				me._image_hs_popup_description.userData.scrollbar.position.y = me._image_hs_popup_description.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._image_hs_popup_description.userData.height / 200.0, 5, 5 );
				geometry.name = 'image_hs_popup_description_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'image_hs_popup_description_scrollbarPageDownMaterial';
				me._image_hs_popup_description.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._image_hs_popup_description.userData.scrollbarPageDown.name = 'image_hs_popup_description_scrollbarPageDown';
				me._image_hs_popup_description.userData.scrollbarPageDown.userData.onclick = function() {
					me._image_hs_popup_description.userData.scrollPosPercent -= me._image_hs_popup_description.userData.pagePercent;
					me._image_hs_popup_description.userData.scrollPosPercent = Math.max(me._image_hs_popup_description.userData.scrollPosPercent, 0);
					me._image_hs_popup_description.userData.ggPaintCanvasText();
					me._image_hs_popup_description.userData.scrollbar.position.y += (me._image_hs_popup_description.userData.height * me._image_hs_popup_description.userData.pagePercent) / 100.0;
					me._image_hs_popup_description.userData.scrollbar.position.y = Math.min(me._image_hs_popup_description.userData.scrollbar.position.y, me._image_hs_popup_description.userData.scrollbarYPosMin);
				}
				me._image_hs_popup_description.userData.scrollbarPageDown.position.x = me._image_hs_popup_description.userData.scrollbarXPos;
				me._image_hs_popup_description.userData.scrollbarPageDown.position.y = me._image_hs_popup_description.userData.height / 400.0;
				me._image_hs_popup_description.userData.scrollbarPageDown.position.z = me._image_hs_popup_description.position.z + 0.05;
				me._image_hs_popup_description.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._image_hs_popup_description.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._image_hs_popup_description.userData.scrollbarPageDown.visible = false;
				me._image_hs_popup_description.add(me._image_hs_popup_description.userData.scrollbarPageDown);
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._image_hs_popup_description.userData.height / 200.0, 5, 5 );
				geometry.name = 'image_hs_popup_description_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'image_hs_popup_description_scrollbarPageUpMaterial';
				me._image_hs_popup_description.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._image_hs_popup_description.userData.scrollbarPageUp.name = 'image_hs_popup_description_scrollbarPageUp';
				me._image_hs_popup_description.userData.scrollbarPageUp.userData.onclick = function() {
					me._image_hs_popup_description.userData.scrollPosPercent += me._image_hs_popup_description.userData.pagePercent;
					me._image_hs_popup_description.userData.scrollPosPercent = Math.min(me._image_hs_popup_description.userData.scrollPosPercent, me._image_hs_popup_description.userData.maxScrollPercent);
					me._image_hs_popup_description.userData.ggPaintCanvasText();
					me._image_hs_popup_description.userData.scrollbar.position.y -= (me._image_hs_popup_description.userData.height * me._image_hs_popup_description.userData.pagePercent) / 100.0;
					me._image_hs_popup_description.userData.scrollbar.position.y = Math.max(me._image_hs_popup_description.userData.scrollbar.position.y, me._image_hs_popup_description.userData.scrollbarYPosMax);
				}
				me._image_hs_popup_description.userData.scrollbarPageUp.position.x = me._image_hs_popup_description.userData.scrollbarXPos;
				me._image_hs_popup_description.userData.scrollbarPageUp.position.y = -me._image_hs_popup_description.userData.height / 400.0;
				me._image_hs_popup_description.userData.scrollbarPageUp.position.z = me._image_hs_popup_description.position.z + 0.05;
				me._image_hs_popup_description.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._image_hs_popup_description.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._image_hs_popup_description.userData.scrollbarPageUp.visible = false;
				me._image_hs_popup_description.add(me._image_hs_popup_description.userData.scrollbarPageUp);
				me._image_hs_popup_description.userData.hasScrollbar = true;
			} else {
				me._image_hs_popup_description.userData.hasScrollbar = false;
			}
			canv.width = me._image_hs_popup_description.userData.boxWidth;
			canv.height = me._image_hs_popup_description.userData.boxHeight;
			ctx.font = '13px Verdana';
			me._image_hs_popup_description.userData.ggPaintCanvasText();
		}
		me._image_hs_popup_description.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player.getVariableValue('image_hs_description', me.hotspot ? me.hotspot.id : (player.hotspot ? player.hotspot.id : '')))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._image_hs_popup_description.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._image_hs_popup_description.userData.ggUpdateText();
		player.addListener('timer', function() {
			me._image_hs_popup_description.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_description.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_description.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._image_hs_popup_description.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._image_hs_popup_description.userData.textColorAlpha = v;
		}
		el.userData.ggId="image_hs_popup_description";
		me._image_hs_popup_description.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_hs_popup.add(me._image_hs_popup_description);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_hs_popup_img.userData.ggSubElement) {
				me._image_hs_popup_img.userData.ggSubElement.material.opacity = v
				me._image_hs_popup_img.userData.ggSubElement.visible = (v>0 && me._image_hs_popup_img.userData.visible);
			}
			me._image_hs_popup_img.visible = (v>0 && me._image_hs_popup_img.userData.visible);
		}
		el.translateX(0);
		el.translateY(0.11265);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 270;
		el.userData.height = 149.47;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_img';
		el.userData.x = 0;
		el.userData.y = 0.11265;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_img.visible
			let parentEl = me._image_hs_popup_img.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_img.userData.opacity = v;
			v = v * me._image_hs_popup_img.userData.parentOpacity;
			me._image_hs_popup_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_img.children.length; i++) {
				let child = me._image_hs_popup_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_img.userData.parentOpacity = v;
			v = v * me._image_hs_popup_img.userData.opacity
			me._image_hs_popup_img.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_img.children.length; i++) {
				let child = me._image_hs_popup_img.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_img = el;
		currentWidth = 270;
		currentHeight = 149.47;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'image_hs_popup_img_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'image_hs_popup_img_subElementMaterial';
				me._image_hs_popup_img.userData.ggSubElement.material = loadedMaterial;
				me._image_hs_popup_img.userData.ggUpdatePosition();
				me._image_hs_popup_img.userData.ggText = extUrl;
				me._image_hs_popup_img.userData.setOpacity(me._image_hs_popup_img.userData.opacity);
			});
		};
		var extUrl=basePath + "";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'image_hs_popup_img_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'image_hs_popup_img_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 270;
		el.userData.clientHeight = 149.47;
		el.userData.ggId="image_hs_popup_img";
		me._image_hs_popup_img.logicBlock_size = function() {
			var newLogicStateSize;
			if (
				((player.getVariableValue('image_hs_description') == ""))
			)
			{
				newLogicStateSize = 0;
			}
			else {
				newLogicStateSize = -1;
			}
			if (me._image_hs_popup_img.ggCurrentLogicStateSize != newLogicStateSize) {
				me._image_hs_popup_img.ggCurrentLogicStateSize = newLogicStateSize;
				if (me._image_hs_popup_img.ggCurrentLogicStateSize == 0) {
				}
				else {
				}
			}
		}
		me._image_hs_popup_img.logicBlock_size();
		me._image_hs_popup_img.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._image_hs_popup_img.userData.clientWidth;
			var parentHeight = me._image_hs_popup_img.userData.clientHeight;
			var img = me._image_hs_popup_img.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			if (aspectRatioDiv > aspectRatioImg) {
				currentHeight = parentHeight;
				currentWidth = parentHeight * aspectRatioImg;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_hs_popup_img_imgGeometry';
			} else {
				currentWidth = parentWidth;
				currentHeight = parentWidth / aspectRatioImg;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'image_hs_popup_img_imgGeometry';
			};
		}
		me._image_hs_popup.add(me._image_hs_popup_img);
		geometry = new THREE.PlaneBufferGeometry(1, 0.2, 5, 5 );
		geometry.name = 'image_hs_popup_title_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'image_hs_popup_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._image_hs_popup_title.material.opacity = v;
			if (me._image_hs_popup_title.userData.hasScrollbar) {
				me._image_hs_popup_title.userData.scrollbar.material.opacity = v;
				me._image_hs_popup_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._image_hs_popup_title.userData.ggSubElement) {
				me._image_hs_popup_title.userData.ggSubElement.material.opacity = v
				me._image_hs_popup_title.userData.ggSubElement.visible = (v>0 && me._image_hs_popup_title.userData.visible);
			}
			me._image_hs_popup_title.visible = (v>0 && me._image_hs_popup_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_title.userData.backgroundColorAlpha = v;
			me._image_hs_popup_title.userData.setOpacity(me._image_hs_popup_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(1.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 100;
		el.userData.height = 20;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_title';
		el.userData.x = 0;
		el.userData.y = 1.08;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_title.visible
			let parentEl = me._image_hs_popup_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_title.userData.opacity = v;
			v = v * me._image_hs_popup_title.userData.parentOpacity;
			me._image_hs_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_title.children.length; i++) {
				let child = me._image_hs_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_title.userData.parentOpacity = v;
			v = v * me._image_hs_popup_title.userData.opacity
			me._image_hs_popup_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_title.children.length; i++) {
				let child = me._image_hs_popup_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(1, 1, 1);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 100;
		canvas.height = 20;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._image_hs_popup_title.userData.totalHeight = 3;
			me._image_hs_popup_title.userData.textLines = [];
			var ctx = me._image_hs_popup_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._image_hs_popup_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._image_hs_popup_title.userData.textLines.push(line);
					line = '';
					me._image_hs_popup_title.userData.totalHeight += me._image_hs_popup_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._image_hs_popup_title.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._image_hs_popup_title.userData.textLines.push(line);
					line = words[i];
					me._image_hs_popup_title.userData.totalHeight += me._image_hs_popup_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._image_hs_popup_title.userData.textLines.push(line);
			me._image_hs_popup_title.userData.totalHeight += me._image_hs_popup_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._image_hs_popup_title.userData.textCanvas;
			var ctx = me._image_hs_popup_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._image_hs_popup_title.userData.textColor.r * 255 + ', ' + me._image_hs_popup_title.userData.textColor.g * 255 + ', ' + me._image_hs_popup_title.userData.textColor.b * 255 + ', ' + me._image_hs_popup_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._image_hs_popup_title.userData.boxWidth - (me._image_hs_popup_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 3;
			for (var i = 0; i < me._image_hs_popup_title.userData.textLines.length; i++) {
				var curTextLine = me._image_hs_popup_title.userData.textLines[i];
				var curTextLineBase = me._image_hs_popup_title.userData.textLines[i];
				if ((ctx.measureText(curTextLine).width + x + 0) > canv.width) {
					var cutChars = 0;
					do {
						cutChars++;
						curTextLine = curTextLineBase.substring(0, curTextLineBase.length - cutChars) + '...';
					} while (cutChars < curTextLineBase.length && (ctx.measureText(curTextLine).width + x + 0) > canv.width);
				}
				ctx.fillText(curTextLine, x, y);
				y += me._image_hs_popup_title.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'image_hs_popup_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._image_hs_popup_title.material.map) {
				me._image_hs_popup_title.material.map.dispose();
			}
			me._image_hs_popup_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._image_hs_popup_title.remove(...me._image_hs_popup_title.children);
			var canv = me._image_hs_popup_title.userData.textCanvas;
			var ctx = me._image_hs_popup_title.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._image_hs_popup_title.userData.lineHeight = 16 * 1.2;
			me._image_hs_popup_title.userData.textLines = [];
			me._image_hs_popup_title.userData.textLines.push(me._image_hs_popup_title.userData.ggText);
			me._image_hs_popup_title.userData.totalHeight = 3;
			me._image_hs_popup_title.userData.totalHeight += me._image_hs_popup_title.userData.lineHeight;
			me._image_hs_popup_title.userData.boxWidth = me._image_hs_popup_title.userData.width;
			me._image_hs_popup_title.userData.boxHeight = me._image_hs_popup_title.userData.height;
			me._image_hs_popup_title.userData.hasScrollbar = false;
			canv.width = me._image_hs_popup_title.userData.boxWidth;
			canv.height = me._image_hs_popup_title.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._image_hs_popup_title.userData.ggPaintCanvasText();
		}
		me._image_hs_popup_title.userData.ggUpdateText=function(force) {
			var params = [];
			var hs = player._("text", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._image_hs_popup_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._image_hs_popup_title.userData.ggUpdateText();
		el.userData.setBackgroundColor = function(v) {
			me._image_hs_popup_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._image_hs_popup_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._image_hs_popup_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._image_hs_popup_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="image_hs_popup_title";
		me._image_hs_popup_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_hs_popup.add(me._image_hs_popup_title);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'image_hs_popup_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'image_hs_popup_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.34);
		el.translateY(1.34);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_close';
		el.userData.x = 1.34;
		el.userData.y = 1.34;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_hs_popup_close.material) me._image_hs_popup_close.material.opacity = v;
			me._image_hs_popup_close.visible = (v>0 && me._image_hs_popup_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_close.visible
			let parentEl = me._image_hs_popup_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_close.userData.opacity = v;
			v = v * me._image_hs_popup_close.userData.parentOpacity;
			me._image_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_close.children.length; i++) {
				let child = me._image_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_close.userData.parentOpacity = v;
			v = v * me._image_hs_popup_close.userData.opacity
			me._image_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_close.children.length; i++) {
				let child = me._image_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_close = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'image_hs_popup_close_materialOver';
		el.userData.ggId="image_hs_popup_close";
		me._image_hs_popup_close.userData.onclick=function (e) {
			player.setVariableValue('vis_image_hs_popups', player.getVariableValue('vis_image_hs_popups').replace(me.hotspot.id, ''));
			me._ht_image.style.zIndex='-1';
		}
		me._image_hs_popup_close.userData.onmouseover=function (e) {
			me._image_hs_popup_close.material = me._image_hs_popup_close.userData.materialOver;
			me.elementMouseOver['image_hs_popup_close']=true;
		}
		me._image_hs_popup_close.userData.onmouseout=function (e) {
			me._image_hs_popup_close.material = me._image_hs_popup_close.userData.materialNormal;
			me.elementMouseOver['image_hs_popup_close']=false;
		}
		me._image_hs_popup_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_hs_popup.add(me._image_hs_popup_close);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'image_hs_popup_full_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACSElEQVR4nO3YzWrVQBQH8P8Jfr5BzuQFXPgQroqotdS6c+NHLReqiNA+hYoLoaIXF1JcKFi70IVU0JeZM3kBtaK9x41gor0XG2eSQc9vlyGT83GTuckAxhhjjDHGGGP+PzR0Ak0hhDVVvdNlrnOuUy1Fl0n/EmvA0AkMLas1YBbv/VUiGmPKj9Z1DTj0V1n1RESWATxCgjs2+0dARFbwe/FfYl0/6waIyAjAQ/xSfFEUF2PFyLYBIYRVABto57hLREtlWb6OFSfLBnjvb6rqA7QX6V0iusDMb2LGym4RFJFbAO6jXfxnAIvM/DZ2vKzuABG5jX2KV9UF51z04oGMGuC9nwNwD+3iP6nq+aqqdlLFzaYBzrkdAOPG0MeiKOarqnqXMm42awARqaqOQg'+
	'gAcImIzpVl+WHG+eu9JdcnVSXv/Ymh8zDGmKjquj6pqtntP3ROKISw1jxm5rvTzvXezxHRNoBNZh4RkXaNG1vnBohIq4hpOzIichrAFoDjP4Ye59SEpG+CIYQzAF7hZ/EAcL2u61Mp4x5EsgaEEM6q6haAY43hCRHdYOb3qeIeVJIGeO/nVfUlgKON4QmAVWbeSBGzq+jfAt77BSJ6AeBIY3gCYOScG0+ZNpiod4CILO5XvKqu5Fg8ELEBIrIE4Dnaxe+p6nJVVU9ixYkt2t8ggK8ADjeO94joGjM/7RqjDzHXgFbxAK4w82bE6yeRYkPkG4DLzrlnCa4dXcxH4M8CEq3Pem3uWzZ7gkOxBgydgDHGGGOMMcYY07/vs2yuN5+fZPcAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'image_hs_popup_full_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(-1.34);
		el.translateY(1.34);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'image_hs_popup_full';
		el.userData.x = -1.34;
		el.userData.y = 1.34;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.060);
		el.renderOrder = 6;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._image_hs_popup_full.material) me._image_hs_popup_full.material.opacity = v;
			me._image_hs_popup_full.visible = (v>0 && me._image_hs_popup_full.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._image_hs_popup_full.visible
			let parentEl = me._image_hs_popup_full.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._image_hs_popup_full.userData.opacity = v;
			v = v * me._image_hs_popup_full.userData.parentOpacity;
			me._image_hs_popup_full.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_full.children.length; i++) {
				let child = me._image_hs_popup_full.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._image_hs_popup_full.userData.parentOpacity = v;
			v = v * me._image_hs_popup_full.userData.opacity
			me._image_hs_popup_full.userData.setOpacityInternal(v);
			for (let i = 0; i < me._image_hs_popup_full.children.length; i++) {
				let child = me._image_hs_popup_full.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._image_hs_popup_full = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'image_hs_popup_full_materialOver';
		el.userData.ggId="image_hs_popup_full";
		me._image_hs_popup_full.userData.onclick=function (e) {
			player.setVariableValue('vis_image_hs_popups', player.getVariableValue('vis_image_hs_popups').replace(me.hotspot.id, ''));
			me._ht_image.style.zIndex='-1';
			player.setVariableValue('vis_image_hs_popup_full', true);
			skin._image_hs_popup_fs_img.userData.ggSetUrl(basePath + player._(me.hotspot.url));
				skin._image_hs_popup_fs_title.userData.ggUpdateText=function(force) {
					var params = [];
					params.push(player._(String(player._(me.hotspot.title))));
					var hs = player._("%1", params);
					if (hs!=this.ggText || force) {
						this.ggText=skin._image_hs_popup_fs_title.userData.ggStripTags(hs);
						this.ggRenderText();
					}
				}
			skin._image_hs_popup_fs_title.userData.ggUpdateText();
		}
		me._image_hs_popup_full.userData.onmouseover=function (e) {
			me._image_hs_popup_full.material = me._image_hs_popup_full.userData.materialOver;
			me.elementMouseOver['image_hs_popup_full']=true;
		}
		me._image_hs_popup_full.userData.onmouseout=function (e) {
			me._image_hs_popup_full.material = me._image_hs_popup_full.userData.materialNormal;
			me.elementMouseOver['image_hs_popup_full']=false;
		}
		me._image_hs_popup_full.userData.ggUpdatePosition=function (useTransition) {
		}
		me._image_hs_popup.add(me._image_hs_popup_full);
		me._ht_image.add(me._image_hs_popup);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 67;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_container';
		el.userData.x = 0;
		el.userData.y = 0.08;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_image_container.material) me._ht_image_container.material.opacity = v;
			me._ht_image_container.visible = (v>0 && me._ht_image_container.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_image_container.visible
			let parentEl = me._ht_image_container.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_container.userData.opacity = v;
			v = v * me._ht_image_container.userData.parentOpacity;
			me._ht_image_container.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_container.children.length; i++) {
				let child = me._ht_image_container.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_container.userData.parentOpacity = v;
			v = v * me._ht_image_container.userData.opacity
			me._ht_image_container.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_container.children.length; i++) {
				let child = me._ht_image_container.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_container = el;
		el.userData.ggId="ht_image_container";
		me._ht_image_container.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false)) && 
					(((player.getVariableValue('vis_image_hs_popups')).indexOf(me.hotspot.id) == -1))
				)
			) {
				player.setVariableValue('vis_image_hs_popups', player.getVariableValue('vis_image_hs_popups') + "<"+me.hotspot.id+">");
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				me._ht_image.style.zIndex='0';
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				me._image_hs_popup_img.userData.ggSetUrl(player.getBasePath()+""+player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					me._image_hs_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=me._image_hs_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				me._image_hs_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('image_hs_description', player._(me.hotspot.description));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_image', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._image_popup_phone.userData.ggSetUrl(player.getBasePath()+""+player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_thumbs', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_pdf', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_youtube', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_vimeo', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_file', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_url', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
		}
		me._ht_image_container.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_image_container']=true;
			me._ht_image_title.logicBlock_visible();
		}
		me._ht_image_container.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_image_container']=false;
			me._ht_image_title.logicBlock_visible();
		}
		me._ht_image_container.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_image_title_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_image_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_image_title.material.opacity = v;
			if (me._ht_image_title.userData.hasScrollbar) {
				me._ht_image_title.userData.scrollbar.material.opacity = v;
				me._ht_image_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_image_title.userData.ggSubElement) {
				me._ht_image_title.userData.ggSubElement.material.opacity = v
				me._ht_image_title.userData.ggSubElement.visible = (v>0 && me._ht_image_title.userData.visible);
			}
			me._ht_image_title.visible = (v>0 && me._ht_image_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_image_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_image_title.userData.backgroundColorAlpha = v;
			me._ht_image_title.userData.setOpacity(me._ht_image_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.16);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_title';
		el.userData.x = 0;
		el.userData.y = 0.16;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image_title.visible
			let parentEl = me._ht_image_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_title.userData.opacity = v;
			v = v * me._ht_image_title.userData.parentOpacity;
			me._ht_image_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_title.children.length; i++) {
				let child = me._ht_image_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_title.userData.parentOpacity = v;
			v = v * me._ht_image_title.userData.opacity
			me._ht_image_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_title.children.length; i++) {
				let child = me._ht_image_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 80;
		canvas.height = 35;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_image_title.userData.totalHeight = 21;
			me._ht_image_title.userData.textLines = [];
			var ctx = me._ht_image_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_image_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_image_title.userData.textLines.push(line);
					line = '';
					me._ht_image_title.userData.totalHeight += me._ht_image_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_image_title.userData.width - 16 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_image_title.userData.textLines.push(line);
					line = words[i];
					me._ht_image_title.userData.totalHeight += me._ht_image_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_image_title.userData.textLines.push(line);
			me._ht_image_title.userData.totalHeight += me._ht_image_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_image_title.userData.textCanvas;
			var ctx = me._ht_image_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_image_title.userData.backgroundColor.r * 255 + ', ' + me._ht_image_title.userData.backgroundColor.g * 255 + ', ' + me._ht_image_title.userData.backgroundColor.b * 255 + ', ' + me._ht_image_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_image_title.userData.textColor.r * 255 + ', ' + me._ht_image_title.userData.textColor.g * 255 + ', ' + me._ht_image_title.userData.textColor.b * 255 + ', ' + me._ht_image_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_image_title.userData.boxWidth - (me._ht_image_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 9;
			for (var i = 0; i < me._ht_image_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_image_title.userData.textLines[i], x, y);
				y += me._ht_image_title.userData.lineHeight;
			}
			geometry = new THREE.PlaneBufferGeometry(me._ht_image_title.userData.boxWidth / 100.0, me._ht_image_title.userData.boxHeight / 100.0, 5, 5 );
			geometry.name = 'ht_image_title_geometry';
			me._ht_image_title.geometry.dispose();
			me._ht_image_title.geometry = geometry;
			var diffY = me._ht_image_title.userData.boxHeight - me._ht_image_title.userData.height;
			me._ht_image_title.position.y = me._ht_image_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_image_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_image_title.material.map) {
				me._ht_image_title.material.map.dispose();
			}
			me._ht_image_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_image_title.remove(...me._ht_image_title.children);
			var canv = me._ht_image_title.userData.textCanvas;
			var ctx = me._ht_image_title.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._ht_image_title.userData.lineHeight = 16 * 1.2;
			me._ht_image_title.userData.textLines = [];
			me._ht_image_title.userData.textLines.push(me._ht_image_title.userData.ggText);
			me._ht_image_title.userData.totalHeight = 21;
			me._ht_image_title.userData.totalHeight += me._ht_image_title.userData.lineHeight;
			me._ht_image_title.userData.boxWidth = ctx.measureText(me._ht_image_title.userData.ggText).width + 12;
			me._ht_image_title.userData.boxHeight = me._ht_image_title.userData.totalHeight;
			canv.width = me._ht_image_title.userData.boxWidth;
			canv.height = me._ht_image_title.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._ht_image_title.userData.ggPaintCanvasText();
		}
		me._ht_image_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_image_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_image_title.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_image_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_image_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_image_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_image_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_image_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_image_title";
		me._ht_image_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_image_container'] == true)) && 
				((player._(me.hotspot.title) != "")) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_image_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_image_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_image_title.ggCurrentLogicStateVisible == 0) {
			me._ht_image_title.visible=((!me._ht_image_title.material && Number(me._ht_image_title.userData.opacity>0)) || Number(me._ht_image_title.material.opacity)>0)?true:false;
			me._ht_image_title.userData.visible=true;
				}
				else {
			me._ht_image_title.visible=false;
			me._ht_image_title.userData.visible=false;
				}
			}
		}
		me._ht_image_title.logicBlock_visible();
		me._ht_image_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_image_container.add(me._ht_image_title);
		width = 0.26;
		height = 0.26;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_image_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_image_bg_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.26;
		height = 0.26;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.13, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.13, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.13, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'ht_image_bg_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(0,0,0,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'ht_image_bg_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'ht_image_bg_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_image_bg.material.opacity = v * me._ht_image_bg.userData.backgroundColorAlpha;
			me._ht_image_bg.userData.border.material.opacity = v * me._ht_image_bg.userData.borderColorAlpha;
			if (me._ht_image_bg.userData.ggSubElement) {
				me._ht_image_bg.userData.ggSubElement.material.opacity = v
				me._ht_image_bg.userData.ggSubElement.visible = (v>0 && me._ht_image_bg.userData.visible);
			}
			me._ht_image_bg.visible = (v>0 && me._ht_image_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_image_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_image_bg.userData.backgroundColorAlpha = v;
			me._ht_image_bg.userData.setOpacity(me._ht_image_bg.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._ht_image_bg.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._ht_image_bg.userData.borderColorAlpha = v;
			me._ht_image_bg.userData.setOpacity(me._ht_image_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.09);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 26;
		el.userData.height = 26;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_bg';
		el.userData.x = 0;
		el.userData.y = -0.09;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_image_bg.visible
			let parentEl = me._ht_image_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_bg.userData.opacity = v;
			v = v * me._ht_image_bg.userData.parentOpacity;
			me._ht_image_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_bg.children.length; i++) {
				let child = me._ht_image_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_bg.userData.parentOpacity = v;
			v = v * me._ht_image_bg.userData.opacity
			me._ht_image_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_bg.children.length; i++) {
				let child = me._ht_image_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_bg = el;
		el.userData.ggId="ht_image_bg";
		me._ht_image_bg.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['ht_image_bg'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._ht_image_bg.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._ht_image_bg.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._ht_image_bg.ggCurrentLogicStateBackgroundColor == 0) {
					me._ht_image_bg.userData.setBackgroundColor(new THREE.Color('#4d4d4d'));
					me._ht_image_bg.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._ht_image_bg.userData.setBackgroundColor(new THREE.Color('#3d3d3d'));
					me._ht_image_bg.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._ht_image_bg.logicBlock_backgroundcolor();
		me._ht_image_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_image_bg']=true;
			me._ht_image_bg.logicBlock_backgroundcolor();
		}
		me._ht_image_bg.userData.ontouchend=function (e) {
			me._ht_image_bg.logicBlock_backgroundcolor();
		}
		me._ht_image_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_image_bg']=false;
			me._ht_image_bg.logicBlock_backgroundcolor();
		}
		me._ht_image_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_image_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC60lEQVR4nO2Yv2sUQRTHv29PQSEIppudxKAIIgQUCzVaijailYJW2kTjH2CliArBgIhdLGy0EQtBULAJKNqoha0/EmxMbmaLEMUiyiXu18ILLOdecrm7GZS8T3PMe9/d953HzNzuAoqiKIqiKIqiKIqiKGsMiVWoWq3uADDcovyutfZTSD9LrItRBACSJLlK8lQrWhGxAE4HtvSnVowi1Wp1h4h8WEW9PM/znX19fZMhfQEdNMA592YV8n1tlnnbqjBN0/3tFOhkC7Q7KQB4JyIPiwGSpwHs6WKNloh2BhSYMsbsE5FfxSDJ21mWfSS5PaaZJGYxACA51jh5ABCRX3me34jtp2srIEmSoVZ0JD8754ZJHhaRLfXYFxGZ6OnpeTw/P9/SffI8f92J3y'+
	'U6OQRZHKdpuuK9vPcXSI4C2NxEMicil40xd0LULyPaFnDO3SE5juaTB4BekuPOuRUb0C2iNMB7fxHAyCouGalfE5zgDZiZmekjeb0h/APAKMkjJI8AGAXwsyggeW16etqG9hf8b1BEzgHYUAh9F5EhY8z7QmzCe/+A5GsAm+qxjUmSnAdwJaS/4CtARI4WxyQvNUweAGCMeU/y0nLXhiDGGbCtOKhUKs+aCUtyW4M4KhCjAcXlj4WFhW/NhCW5DaXCLhKjAa44qFQqe5sJS3I+iKMCwRtA8lVD6AbJ9SW69QDGijEReRnSGxChAUmS3GsI7fbev8iybHApkGXZoPf+BYBdDdr7of1FeRT23j8heawkNVf/7f3LmMhTY8zxbtRfjihPgouLi2cBTJWkelEyeQCTtVrtTFBTdaI0oL+/f47kAZLPV9KSfE7y4MDAwNcY'+
	'3qK9DFlrZ621h0TkJIAJALVCulaPnbDWHrLWzsbyFf2LkDHmEYBHJNc551IASNPUichibC9AFw9BEYny9rYEyZvFcbuHYNdWQKOh/4Xo3wT/NdZ8A9reAiRvddOIoiiKoiiKoiiKoiiKosThN6+gCysBPp8tAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_image_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_image_icon.material) me._ht_image_icon.material.opacity = v;
			me._ht_image_icon.visible = (v>0 && me._ht_image_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_image_icon.visible
			let parentEl = me._ht_image_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_icon.userData.opacity = v;
			v = v * me._ht_image_icon.userData.parentOpacity;
			me._ht_image_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_icon.children.length; i++) {
				let child = me._ht_image_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_icon.userData.parentOpacity = v;
			v = v * me._ht_image_icon.userData.opacity
			me._ht_image_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_icon.children.length; i++) {
				let child = me._ht_image_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC10lEQVR4nO2YPW8TQRCG3znng6/udhMsISQEhh9AoACRjgrEDwgQ2hQ0aahAIoVFoPB/CERKQZnQhAqSDhC0kUiQEJLx3ZrGCMl35JYiF3S5nJOzfbsEZR7JkvfdGc/seD/uFmAYhmEYhmEYhmEYhjlkkK1AUspzWus7eWyJaN73/c+mcwKAARtBAEBrPQNgIqdtBcBtsxltYWUGxP/+GgAnp0vkOM55z/PWTeYF9FEAIcT7Lswv9hjmQ15DpdRYLwH6WQK9DgoANgC8SGmTAM4UGCMX1vaABF+UUhcA/E7pVSHEGnYXwSh512SRzGL34AEgBPDUci6FzoBLeYyCINhwXfcuEV0HcDqWv2qtXwdB8HJoaCjvun/XU5Yp+tkEdbKtlNr3t1zXnSSiZw'+
	'BGO5g0tNYPms3mcxPxs7C2BIQQNSKaQ+fBA8AoEc0JIWq28rJSANd17wOY7sJlOvYxjvECSClPEtFsSg4A1ADcij+1WPsLET0ZGRnZa7YUgvFjUGs9BeB4QvpJRNd83/+U0BallPNa65WE7YkoiqYAzJjMz8YSuJlqP0oNHgDg+/5HAA/38S0cGwU4uyOg4yx2MiSipb18TWCjAEeSjXa7/aOTYRAEzZR01EhGCYwXQGv9PdkulUodH5iGh4cvp6S6kaQSGC+A4zhvU+0qsjffgSiKqkmBiFZM5gZYKEAURXMpaUwIsSylrGwLUsqKEGIZqbe/DN/CsfIoLIRYAnAjo2t7ipcz+l4ppTqeAv/Vo3C73b4HIOt2p4zswa/HPsaxUoBWq9V0HOcqgNUc5qulUulKq9VKnwhGsPYy5HleQyk1jq2L0TcANhPdm7E2oZQa'+
	'bzQanq28bN8IaaXUAoCFcrl8LAzDUwAwODj4rV6v/7KcC4ACCyCEeNyNfRiGO74LIYpKpSsKOwX+NQf6FDjIHPoC9LMHGH1PZxiGYRiGYRiGYRiGYRgz/AF/t9cGO9lLJwAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_image_icon_materialOver';
		el.userData.ggId="ht_image_icon";
		me._ht_image_icon.userData.onmouseover=function (e) {
			me._ht_image_icon.material = me._ht_image_icon.userData.materialOver;
			me.elementMouseOver['ht_image_icon']=true;
		}
		me._ht_image_icon.userData.onmouseout=function (e) {
			me._ht_image_icon.material = me._ht_image_icon.userData.materialNormal;
			me.elementMouseOver['ht_image_icon']=false;
		}
		me._ht_image_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_image_bg.add(me._ht_image_icon);
		me._ht_image_container.add(me._ht_image_bg);
		me._ht_image.add(me._ht_image_container);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 67;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_image_container_close';
		el.userData.x = 0;
		el.userData.y = 0.08;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_image_container_close.material) me._ht_image_container_close.material.opacity = v;
			me._ht_image_container_close.visible = (v>0 && me._ht_image_container_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_image_container_close.visible
			let parentEl = me._ht_image_container_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_image_container_close.userData.opacity = v;
			v = v * me._ht_image_container_close.userData.parentOpacity;
			me._ht_image_container_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_container_close.children.length; i++) {
				let child = me._ht_image_container_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_image_container_close.userData.parentOpacity = v;
			v = v * me._ht_image_container_close.userData.opacity
			me._ht_image_container_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_image_container_close.children.length; i++) {
				let child = me._ht_image_container_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_image_container_close = el;
		el.userData.ggPermeable=false;
		el.userData.ggId="ht_image_container_close";
		me._ht_image_container_close.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				(((player.getVariableValue('vis_image_hs_popups')).indexOf(me.hotspot.id) != -1))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_image_container_close.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_image_container_close.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_image_container_close.ggCurrentLogicStateVisible == 0) {
			me._ht_image_container_close.visible=((!me._ht_image_container_close.material && Number(me._ht_image_container_close.userData.opacity>0)) || Number(me._ht_image_container_close.material.opacity)>0)?true:false;
			me._ht_image_container_close.userData.visible=true;
				}
				else {
			me._ht_image_container_close.visible=false;
			me._ht_image_container_close.userData.visible=false;
				}
			}
		}
		me._ht_image_container_close.logicBlock_visible();
		me._ht_image_container_close.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false)) && 
					(((player.getVariableValue('vis_image_hs_popups')).indexOf(me.hotspot.id) != -1))
				)
			) {
				player.setVariableValue('vis_image_hs_popups', player.getVariableValue('vis_image_hs_popups').replace("<"+me.hotspot.id+">", ''));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				me._ht_image.style.zIndex='-1';
			}
		}
		me._ht_image_container_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_image.add(me._ht_image_container_close);
		me._ht_image.logicBlock_visible();
		me._ht_image.userData.setOpacity(1.00);
		me._image_hs_popup.logicBlock_visible();
		me._image_hs_popup.userData.setOpacity(1.00);
		me._image_hs_popup_description.userData.setOpacity(1.00);
		me._image_hs_popup_img.logicBlock_size();
		me._image_hs_popup_img.userData.setOpacity(1.00);
		me._image_hs_popup_title.userData.setOpacity(1.00);
		me._image_hs_popup_close.userData.setOpacity(1.00);
		me._image_hs_popup_full.userData.setOpacity(1.00);
		me._ht_image_container.userData.setOpacity(1.00);
		me._ht_image_title.logicBlock_visible();
		me._ht_image_title.userData.setOpacity(1.00);
		me._ht_image_bg.logicBlock_backgroundcolor();
		me._ht_image_bg.userData.setOpacity(1.00);
		me._ht_image_icon.userData.setOpacity(1.00);
		me._ht_image_container_close.logicBlock_visible();
		me._ht_image_container_close.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_image_title.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_image.logicBlock_visible();
				me._image_hs_popup.logicBlock_visible();
				me._image_hs_popup_img.logicBlock_size();
				player.setVariableValue('vis_image_hs_popups', "");
				me._ht_image_title.logicBlock_visible();
				me._ht_image_container_close.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_image.logicBlock_visible();
				me._image_hs_popup.logicBlock_visible();
				me._image_hs_popup_img.logicBlock_size();
				me._ht_image_title.logicBlock_visible();
				me._ht_image_container_close.logicBlock_visible();
			};
			me.ggEvent_varchanged_image_hs_description=function() {
				me._image_hs_popup_img.logicBlock_size();
			};
			me.ggEvent_varchanged_vis_image_hs_popups=function() {
				me._image_hs_popup.logicBlock_visible();
				me._ht_image_container_close.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_image.logicBlock_visible();
			};
			me.__obj = me._ht_image;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_info(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_info';
		el.userData.x = -3.16;
		el.userData.y = 1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_info.visible
			let parentEl = me._ht_info.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_info.userData.opacity = v;
			v = v * me._ht_info.userData.parentOpacity;
			me._ht_info.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info.children.length; i++) {
				let child = me._ht_info.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_info.userData.parentOpacity = v;
			v = v * me._ht_info.userData.opacity
			me._ht_info.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info.children.length; i++) {
				let child = me._ht_info.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_info = el;
		el.userData.ggId="ht_info";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_info.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_info.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_info.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_info.ggCurrentLogicStateVisible == 0) {
			me._ht_info.visible=((!me._ht_info.material && Number(me._ht_info.userData.opacity>0)) || Number(me._ht_info.material.opacity)>0)?true:false;
			me._ht_info.userData.visible=true;
				}
				else {
			me._ht_info.visible=false;
			me._ht_info.userData.visible=false;
				}
			}
		}
		me._ht_info.logicBlock_visible();
		me._ht_info.userData.onclick=function (e) {
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_info.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_info.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_info']=true;
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_info.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_info']=false;
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_info.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 3;
		height = 3;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.12, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.12, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.12);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.12);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.12, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.12, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.12);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.12);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.12, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'info_hs_popup_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'info_hs_popup_material';
		el = new THREE.Mesh( geometry, material );
		width = 3;
		height = 3;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.16, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.16, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.16);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.16);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.16, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.16, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.16);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.16);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.16, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.12, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.12, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.12);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.12);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.12, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.12, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.12);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.12);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.12, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'info_hs_popup_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(20,20,20,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'info_hs_popup_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'info_hs_popup_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._info_hs_popup.material.opacity = v * me._info_hs_popup.userData.backgroundColorAlpha;
			me._info_hs_popup.userData.border.material.opacity = v * me._info_hs_popup.userData.borderColorAlpha;
			if (me._info_hs_popup.userData.ggSubElement) {
				me._info_hs_popup.userData.ggSubElement.material.opacity = v
				me._info_hs_popup.userData.ggSubElement.visible = (v>0 && me._info_hs_popup.userData.visible);
			}
			me._info_hs_popup.visible = (v>0 && me._info_hs_popup.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._info_hs_popup.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_hs_popup.userData.backgroundColorAlpha = v;
			me._info_hs_popup.userData.setOpacity(me._info_hs_popup.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._info_hs_popup.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._info_hs_popup.userData.borderColorAlpha = v;
			me._info_hs_popup.userData.setOpacity(me._info_hs_popup.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-1.76);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 300;
		el.userData.height = 300;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_hs_popup';
		el.userData.x = 0;
		el.userData.y = -1.76;
		el.userData.hanchor = 1;
		el.userData.vanchor = 2;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._info_hs_popup.visible
			let parentEl = me._info_hs_popup.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_hs_popup.userData.opacity = v;
			v = v * me._info_hs_popup.userData.parentOpacity;
			me._info_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_hs_popup.children.length; i++) {
				let child = me._info_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_hs_popup.userData.parentOpacity = v;
			v = v * me._info_hs_popup.userData.opacity
			me._info_hs_popup.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_hs_popup.children.length; i++) {
				let child = me._info_hs_popup.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_hs_popup = el;
		el.userData.ggId="info_hs_popup";
		me._info_hs_popup.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				(((player.getVariableValue('vis_info_hs_popups')).indexOf("<"+me.hotspot.id+">") != -1))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._info_hs_popup.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._info_hs_popup.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._info_hs_popup.ggCurrentLogicStateVisible == 0) {
			me._info_hs_popup.visible=((!me._info_hs_popup.material && Number(me._info_hs_popup.userData.opacity>0)) || Number(me._info_hs_popup.material.opacity)>0)?true:false;
			me._info_hs_popup.userData.visible=true;
				}
				else {
			me._info_hs_popup.visible=false;
			me._info_hs_popup.userData.visible=false;
				}
			}
		}
		me._info_hs_popup.logicBlock_visible();
		me._info_hs_popup.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(2.72571, 2.67, 5, 5 );
		geometry.name = 'info_hs_popup_text_geometry';
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'info_hs_popup_text_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._info_hs_popup_text.material.opacity = v;
			if (me._info_hs_popup_text.userData.hasScrollbar) {
				me._info_hs_popup_text.userData.scrollbar.material.opacity = v;
				me._info_hs_popup_text.userData.scrollbarBg.material.opacity = v;
			}
			if (me._info_hs_popup_text.userData.ggSubElement) {
				me._info_hs_popup_text.userData.ggSubElement.material.opacity = v
				me._info_hs_popup_text.userData.ggSubElement.visible = (v>0 && me._info_hs_popup_text.userData.visible);
			}
			me._info_hs_popup_text.visible = (v>0 && me._info_hs_popup_text.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._info_hs_popup_text.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_hs_popup_text.userData.backgroundColorAlpha = v;
			me._info_hs_popup_text.userData.setOpacity(me._info_hs_popup_text.userData.opacity);
		}
		el.translateX(0.0228566);
		el.translateY(-0.155);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 272.571;
		el.userData.height = 267;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_hs_popup_text';
		el.userData.x = 0.0228566;
		el.userData.y = -0.155;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._info_hs_popup_text.visible
			let parentEl = me._info_hs_popup_text.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_hs_popup_text.userData.opacity = v;
			v = v * me._info_hs_popup_text.userData.parentOpacity;
			me._info_hs_popup_text.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_hs_popup_text.children.length; i++) {
				let child = me._info_hs_popup_text.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_hs_popup_text.userData.parentOpacity = v;
			v = v * me._info_hs_popup_text.userData.opacity
			me._info_hs_popup_text.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_hs_popup_text.children.length; i++) {
				let child = me._info_hs_popup_text.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_hs_popup_text = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 273;
		canvas.height = 267;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._info_hs_popup_text.userData.totalHeight = 3;
			me._info_hs_popup_text.userData.textLines = [];
			var ctx = me._info_hs_popup_text.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._info_hs_popup_text.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._info_hs_popup_text.userData.textLines.push(line);
					line = '';
					me._info_hs_popup_text.userData.totalHeight += me._info_hs_popup_text.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._info_hs_popup_text.userData.width - 0 - (scrollbar ? 25 : 0)) && i > 0) {
					me._info_hs_popup_text.userData.textLines.push(line);
					line = words[i];
					me._info_hs_popup_text.userData.totalHeight += me._info_hs_popup_text.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._info_hs_popup_text.userData.textLines.push(line);
			me._info_hs_popup_text.userData.totalHeight += me._info_hs_popup_text.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._info_hs_popup_text.userData.textCanvas;
			var ctx = me._info_hs_popup_text.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._info_hs_popup_text.userData.textColor.r * 255 + ', ' + me._info_hs_popup_text.userData.textColor.g * 255 + ', ' + me._info_hs_popup_text.userData.textColor.b * 255 + ', ' + me._info_hs_popup_text.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = 0;
			ctx.textAlign = 'left';
			var y = 3;
			y -= me._info_hs_popup_text.userData.scrollPosPercent * me._info_hs_popup_text.userData.totalHeight;
			for (var i = 0; i < me._info_hs_popup_text.userData.textLines.length; i++) {
				ctx.fillText(me._info_hs_popup_text.userData.textLines[i], x, y);
				y += me._info_hs_popup_text.userData.lineHeight;
			}
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'info_hs_popup_text_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._info_hs_popup_text.material.map) {
				me._info_hs_popup_text.material.map.dispose();
			}
			me._info_hs_popup_text.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._info_hs_popup_text.remove(...me._info_hs_popup_text.children);
			var canv = me._info_hs_popup_text.userData.textCanvas;
			var ctx = me._info_hs_popup_text.userData.textCanvasContext;
			ctx.font = '13px Verdana';
			me._info_hs_popup_text.userData.lineHeight = 13 * 1.2;
			me._info_hs_popup_text.userData.ggWrapText(false);
			me._info_hs_popup_text.userData.boxWidth = me._info_hs_popup_text.userData.width;
			me._info_hs_popup_text.userData.boxHeight = me._info_hs_popup_text.userData.height;
			me._info_hs_popup_text.userData.scrollPosPercent = 0.0
			if (me._info_hs_popup_text.userData.totalHeight > me._info_hs_popup_text.userData.height) {
				me._info_hs_popup_text.userData.ggWrapText(true);
				me._info_hs_popup_text.userData.pagePercent = me._info_hs_popup_text.userData.height / me._info_hs_popup_text.userData.totalHeight;
				me._info_hs_popup_text.userData.maxScrollPercent = (me._info_hs_popup_text.userData.totalHeight - me._info_hs_popup_text.userData.height) / me._info_hs_popup_text.userData.totalHeight;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_hs_popup_text.userData.height / 100.0, 5, 5 );
				geometry.name = 'info_hs_popup_text_scrollbarBgGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x7f7f7f, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_hs_popup_text_scrollbarBgMaterial';
				me._info_hs_popup_text.userData.scrollbarBg = new THREE.Mesh( geometry, material );
				me._info_hs_popup_text.userData.scrollbarBg.name = 'info_hs_popup_text_scrollbarBg';
				me._info_hs_popup_text.add(me._info_hs_popup_text.userData.scrollbarBg);
				me._info_hs_popup_text.userData.scrollbarXPos = (me._info_hs_popup_text.userData.width - 25) / 200.0;
				me._info_hs_popup_text.userData.scrollbarBg.position.x = me._info_hs_popup_text.userData.scrollbarXPos;
				me._info_hs_popup_text.userData.scrollbarBg.position.z = me._info_hs_popup_text.position.z + 0.01;
				me._info_hs_popup_text.userData.scrollbarBg.userData.stopPropagation = true;
				me._info_hs_popup_text.userData.scrollbarHeight = (me._info_hs_popup_text.userData.height / me._info_hs_popup_text.userData.totalHeight) * me._info_hs_popup_text.userData.height;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_hs_popup_text.userData.scrollbarHeight / 100.0, 5, 5 );
				geometry.name = 'info_hs_popup_text_scrollbarGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0xbfbfbf, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_hs_popup_text_scrollbarMaterial';
				me._info_hs_popup_text.userData.scrollbar = new THREE.Mesh( geometry, material );
				me._info_hs_popup_text.userData.scrollbar.name = 'info_hs_popup_text_scrollbar';
				me._info_hs_popup_text.add(me._info_hs_popup_text.userData.scrollbar);
				me._info_hs_popup_text.userData.scrollbar.position.x = me._info_hs_popup_text.userData.scrollbarXPos;
				me._info_hs_popup_text.userData.scrollbar.position.z = me._info_hs_popup_text.position.z + 0.02;
				me._info_hs_popup_text.userData.scrollbarYPosMin = (me._info_hs_popup_text.userData.height - me._info_hs_popup_text.userData.scrollbarHeight) / 200.0;
				me._info_hs_popup_text.userData.scrollbarYPosMax = me._info_hs_popup_text.userData.scrollbarYPosMin - (me._info_hs_popup_text.userData.height - me._info_hs_popup_text.userData.scrollbarHeight) / 100.0;
				me._info_hs_popup_text.userData.scrollbar.position.y = me._info_hs_popup_text.userData.scrollbarYPosMin;
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_hs_popup_text.userData.height / 200.0, 5, 5 );
				geometry.name = 'info_hs_popup_text_scrollbarPageDownGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_hs_popup_text_scrollbarPageDownMaterial';
				me._info_hs_popup_text.userData.scrollbarPageDown = new THREE.Mesh( geometry, material );
				me._info_hs_popup_text.userData.scrollbarPageDown.name = 'info_hs_popup_text_scrollbarPageDown';
				me._info_hs_popup_text.userData.scrollbarPageDown.userData.onclick = function() {
					me._info_hs_popup_text.userData.scrollPosPercent -= me._info_hs_popup_text.userData.pagePercent;
					me._info_hs_popup_text.userData.scrollPosPercent = Math.max(me._info_hs_popup_text.userData.scrollPosPercent, 0);
					me._info_hs_popup_text.userData.ggPaintCanvasText();
					me._info_hs_popup_text.userData.scrollbar.position.y += (me._info_hs_popup_text.userData.height * me._info_hs_popup_text.userData.pagePercent) / 100.0;
					me._info_hs_popup_text.userData.scrollbar.position.y = Math.min(me._info_hs_popup_text.userData.scrollbar.position.y, me._info_hs_popup_text.userData.scrollbarYPosMin);
				}
				me._info_hs_popup_text.userData.scrollbarPageDown.position.x = me._info_hs_popup_text.userData.scrollbarXPos;
				me._info_hs_popup_text.userData.scrollbarPageDown.position.y = me._info_hs_popup_text.userData.height / 400.0;
				me._info_hs_popup_text.userData.scrollbarPageDown.position.z = me._info_hs_popup_text.position.z + 0.05;
				me._info_hs_popup_text.userData.scrollbarPageDown.userData.stopPropagation = true;
				me._info_hs_popup_text.userData.scrollbarPageDown.userData.clickInvisible = true;
				me._info_hs_popup_text.userData.scrollbarPageDown.visible = false;
				me._info_hs_popup_text.add(me._info_hs_popup_text.userData.scrollbarPageDown);
				geometry = new THREE.PlaneBufferGeometry(25 / 100.0, me._info_hs_popup_text.userData.height / 200.0, 5, 5 );
				geometry.name = 'info_hs_popup_text_scrollbarPageUpGeometry';
				material = new THREE.MeshBasicMaterial( {color: 0x000000, side: THREE.DoubleSide, transparent: true } );
				material.name = 'info_hs_popup_text_scrollbarPageUpMaterial';
				me._info_hs_popup_text.userData.scrollbarPageUp = new THREE.Mesh( geometry, material );
				me._info_hs_popup_text.userData.scrollbarPageUp.name = 'info_hs_popup_text_scrollbarPageUp';
				me._info_hs_popup_text.userData.scrollbarPageUp.userData.onclick = function() {
					me._info_hs_popup_text.userData.scrollPosPercent += me._info_hs_popup_text.userData.pagePercent;
					me._info_hs_popup_text.userData.scrollPosPercent = Math.min(me._info_hs_popup_text.userData.scrollPosPercent, me._info_hs_popup_text.userData.maxScrollPercent);
					me._info_hs_popup_text.userData.ggPaintCanvasText();
					me._info_hs_popup_text.userData.scrollbar.position.y -= (me._info_hs_popup_text.userData.height * me._info_hs_popup_text.userData.pagePercent) / 100.0;
					me._info_hs_popup_text.userData.scrollbar.position.y = Math.max(me._info_hs_popup_text.userData.scrollbar.position.y, me._info_hs_popup_text.userData.scrollbarYPosMax);
				}
				me._info_hs_popup_text.userData.scrollbarPageUp.position.x = me._info_hs_popup_text.userData.scrollbarXPos;
				me._info_hs_popup_text.userData.scrollbarPageUp.position.y = -me._info_hs_popup_text.userData.height / 400.0;
				me._info_hs_popup_text.userData.scrollbarPageUp.position.z = me._info_hs_popup_text.position.z + 0.05;
				me._info_hs_popup_text.userData.scrollbarPageUp.userData.stopPropagation = true;
				me._info_hs_popup_text.userData.scrollbarPageUp.userData.clickInvisible = true;
				me._info_hs_popup_text.userData.scrollbarPageUp.visible = false;
				me._info_hs_popup_text.add(me._info_hs_popup_text.userData.scrollbarPageUp);
				me._info_hs_popup_text.userData.hasScrollbar = true;
			} else {
				me._info_hs_popup_text.userData.hasScrollbar = false;
			}
			canv.width = me._info_hs_popup_text.userData.boxWidth;
			canv.height = me._info_hs_popup_text.userData.boxHeight;
			ctx.font = '13px Verdana';
			me._info_hs_popup_text.userData.ggPaintCanvasText();
		}
		me._info_hs_popup_text.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			params.push(player._(String(player._(me.hotspot.description))));
			var hs = player._("<strong style=\'font-size: 18px;\'>%1<\/strong><br>\n<div>%2<\/div>", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._info_hs_popup_text.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._info_hs_popup_text.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._info_hs_popup_text.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._info_hs_popup_text.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._info_hs_popup_text.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._info_hs_popup_text.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._info_hs_popup_text.userData.textColorAlpha = v;
		}
		el.userData.ggId="info_hs_popup_text";
		me._info_hs_popup_text.userData.ggUpdatePosition=function (useTransition) {
		}
		me._info_hs_popup.add(me._info_hs_popup_text);
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'info_hs_popup_close_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACB0lEQVR4nO2YsW4TQRCG/5+kTUF5PhfwBMhSHiEvgARyMHk5JIMUgUSP8g6IFlrPXYciWnK3FLHRJvIZ+3Z2XfB/jXVraTzzefdu5gAhhBBCCCGEEEIIIUQqTdOct2372iuemc3NbOYVL+aJd8Cmac4BfAkhfDCzuUO8BcklyZscEugZbFM8gKfrpbsQwlVd19cj4y0AvANwul76GUK4qOv6a3q297juAJLPAZxFS6ckl2N2wpbiAeCM5LOkJB/hKqCqqo8hhCsAd9HywRIGiv9NcjGZTD47pQvA+QhsMLM5ySUeFrDXcdhVfFVVn7xzzSIAGCehdPFARgHAYRKOUTyQWQCwn4RjFQ8UEADslkDyBEcqHigkABiU0K0/T6K1YsUDBQUAgxJiihYPFB'+
	'YA/JXwHg//dQDoSF6WLB7IMAv8i/WZ37aOvu+3fpc1n5I/NnC3j0maHcZQbAcMFN+R7KLr0bPDWIoI2PGcv+z7/i0SZ4cUhraiG/s0OWaGR0+HjQTkPg5Z7wGHdHgpA1QK2QSMaW+PISGLgJTevrQEdwEeg01JCa4CBhIf1d4OSSD5xrNb9H4MfgfwK7oe3dvXdX295fXabdd1P1KTjHE/AmY2I3mD+xeYyYNNtBNu+76/mE6n33wyzYiZzZqmeekVr23bV6vV6oVXPCGEEEIIIYQQQggh/mP+AGmlQHesAvemAAAAAElFTkSuQmCC');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'info_hs_popup_close_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(1.34);
		el.translateY(1.34);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'info_hs_popup_close';
		el.userData.x = 1.34;
		el.userData.y = 1.34;
		el.userData.hanchor = 2;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._info_hs_popup_close.material) me._info_hs_popup_close.material.opacity = v;
			me._info_hs_popup_close.visible = (v>0 && me._info_hs_popup_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._info_hs_popup_close.visible
			let parentEl = me._info_hs_popup_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._info_hs_popup_close.userData.opacity = v;
			v = v * me._info_hs_popup_close.userData.parentOpacity;
			me._info_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_hs_popup_close.children.length; i++) {
				let child = me._info_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._info_hs_popup_close.userData.parentOpacity = v;
			v = v * me._info_hs_popup_close.userData.opacity
			me._info_hs_popup_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._info_hs_popup_close.children.length; i++) {
				let child = me._info_hs_popup_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._info_hs_popup_close = el;
		textureOver = loader.load('data:image/png;base64,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');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'info_hs_popup_close_materialOver';
		el.userData.ggId="info_hs_popup_close";
		me._info_hs_popup_close.userData.onclick=function (e) {
			player.setVariableValue('vis_info_hs_popups', player.getVariableValue('vis_info_hs_popups').replace(me.hotspot.id, ''));
			me._ht_info.style.zIndex='-1';
		}
		me._info_hs_popup_close.userData.onmouseover=function (e) {
			me._info_hs_popup_close.material = me._info_hs_popup_close.userData.materialOver;
			me.elementMouseOver['info_hs_popup_close']=true;
		}
		me._info_hs_popup_close.userData.onmouseout=function (e) {
			me._info_hs_popup_close.material = me._info_hs_popup_close.userData.materialNormal;
			me.elementMouseOver['info_hs_popup_close']=false;
		}
		me._info_hs_popup_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._info_hs_popup.add(me._info_hs_popup_close);
		me._ht_info.add(me._info_hs_popup);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 67;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_info_container';
		el.userData.x = 0;
		el.userData.y = 0.08;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_info_container.material) me._ht_info_container.material.opacity = v;
			me._ht_info_container.visible = (v>0 && me._ht_info_container.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_info_container.visible
			let parentEl = me._ht_info_container.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_info_container.userData.opacity = v;
			v = v * me._ht_info_container.userData.parentOpacity;
			me._ht_info_container.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_container.children.length; i++) {
				let child = me._ht_info_container.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_info_container.userData.parentOpacity = v;
			v = v * me._ht_info_container.userData.opacity
			me._ht_info_container.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_container.children.length; i++) {
				let child = me._ht_info_container.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_info_container = el;
		el.userData.ggId="ht_info_container";
		me._ht_info_container.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false)) && 
					(((player.getVariableValue('vis_info_hs_popups')).indexOf(me.hotspot.id) == -1))
				)
			) {
				player.setVariableValue('vis_info_hs_popups', player.getVariableValue('vis_info_hs_popups') + "<"+me.hotspot.id+">");
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				me._ht_info.style.zIndex='0';
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_info', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._info_popup_title_phone.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._info_popup_title_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._info_popup_title_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._info_popup_text_phone.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.description))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._info_popup_text_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._info_popup_text_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_thumbs', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_image', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_pdf', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_youtube', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_vimeo', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_file', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_url', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
		}
		me._ht_info_container.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_info_container']=true;
			me._ht_info_title.logicBlock_visible();
		}
		me._ht_info_container.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_info_container']=false;
			me._ht_info_title.logicBlock_visible();
		}
		me._ht_info_container.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_info_title_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_info_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_info_title.material.opacity = v;
			if (me._ht_info_title.userData.hasScrollbar) {
				me._ht_info_title.userData.scrollbar.material.opacity = v;
				me._ht_info_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_info_title.userData.ggSubElement) {
				me._ht_info_title.userData.ggSubElement.material.opacity = v
				me._ht_info_title.userData.ggSubElement.visible = (v>0 && me._ht_info_title.userData.visible);
			}
			me._ht_info_title.visible = (v>0 && me._ht_info_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_info_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_info_title.userData.backgroundColorAlpha = v;
			me._ht_info_title.userData.setOpacity(me._ht_info_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.16);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_info_title';
		el.userData.x = 0;
		el.userData.y = 0.16;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_info_title.visible
			let parentEl = me._ht_info_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_info_title.userData.opacity = v;
			v = v * me._ht_info_title.userData.parentOpacity;
			me._ht_info_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_title.children.length; i++) {
				let child = me._ht_info_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_info_title.userData.parentOpacity = v;
			v = v * me._ht_info_title.userData.opacity
			me._ht_info_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_title.children.length; i++) {
				let child = me._ht_info_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_info_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 80;
		canvas.height = 35;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_info_title.userData.totalHeight = 21;
			me._ht_info_title.userData.textLines = [];
			var ctx = me._ht_info_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_info_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_info_title.userData.textLines.push(line);
					line = '';
					me._ht_info_title.userData.totalHeight += me._ht_info_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_info_title.userData.width - 16 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_info_title.userData.textLines.push(line);
					line = words[i];
					me._ht_info_title.userData.totalHeight += me._ht_info_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_info_title.userData.textLines.push(line);
			me._ht_info_title.userData.totalHeight += me._ht_info_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_info_title.userData.textCanvas;
			var ctx = me._ht_info_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_info_title.userData.backgroundColor.r * 255 + ', ' + me._ht_info_title.userData.backgroundColor.g * 255 + ', ' + me._ht_info_title.userData.backgroundColor.b * 255 + ', ' + me._ht_info_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_info_title.userData.textColor.r * 255 + ', ' + me._ht_info_title.userData.textColor.g * 255 + ', ' + me._ht_info_title.userData.textColor.b * 255 + ', ' + me._ht_info_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_info_title.userData.boxWidth - (me._ht_info_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 9;
			for (var i = 0; i < me._ht_info_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_info_title.userData.textLines[i], x, y);
				y += me._ht_info_title.userData.lineHeight;
			}
			geometry = new THREE.PlaneBufferGeometry(me._ht_info_title.userData.boxWidth / 100.0, me._ht_info_title.userData.boxHeight / 100.0, 5, 5 );
			geometry.name = 'ht_info_title_geometry';
			me._ht_info_title.geometry.dispose();
			me._ht_info_title.geometry = geometry;
			var diffY = me._ht_info_title.userData.boxHeight - me._ht_info_title.userData.height;
			me._ht_info_title.position.y = me._ht_info_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_info_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_info_title.material.map) {
				me._ht_info_title.material.map.dispose();
			}
			me._ht_info_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_info_title.remove(...me._ht_info_title.children);
			var canv = me._ht_info_title.userData.textCanvas;
			var ctx = me._ht_info_title.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._ht_info_title.userData.lineHeight = 16 * 1.2;
			me._ht_info_title.userData.textLines = [];
			me._ht_info_title.userData.textLines.push(me._ht_info_title.userData.ggText);
			me._ht_info_title.userData.totalHeight = 21;
			me._ht_info_title.userData.totalHeight += me._ht_info_title.userData.lineHeight;
			me._ht_info_title.userData.boxWidth = ctx.measureText(me._ht_info_title.userData.ggText).width + 12;
			me._ht_info_title.userData.boxHeight = me._ht_info_title.userData.totalHeight;
			canv.width = me._ht_info_title.userData.boxWidth;
			canv.height = me._ht_info_title.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._ht_info_title.userData.ggPaintCanvasText();
		}
		me._ht_info_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_info_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_info_title.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_info_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_info_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_info_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_info_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_info_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_info_title";
		me._ht_info_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_info_container'] == true)) && 
				((me.hotspot.customimage == "")) && 
				((player._(me.hotspot.title) != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_info_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_info_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_info_title.ggCurrentLogicStateVisible == 0) {
			me._ht_info_title.visible=((!me._ht_info_title.material && Number(me._ht_info_title.userData.opacity>0)) || Number(me._ht_info_title.material.opacity)>0)?true:false;
			me._ht_info_title.userData.visible=true;
				}
				else {
			me._ht_info_title.visible=false;
			me._ht_info_title.userData.visible=false;
				}
			}
		}
		me._ht_info_title.logicBlock_visible();
		me._ht_info_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_info_container.add(me._ht_info_title);
		width = 0.26;
		height = 0.26;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_info_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_info_bg_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.26;
		height = 0.26;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.13, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.13, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.13, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'ht_info_bg_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(0,0,0,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'ht_info_bg_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'ht_info_bg_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_info_bg.material.opacity = v * me._ht_info_bg.userData.backgroundColorAlpha;
			me._ht_info_bg.userData.border.material.opacity = v * me._ht_info_bg.userData.borderColorAlpha;
			if (me._ht_info_bg.userData.ggSubElement) {
				me._ht_info_bg.userData.ggSubElement.material.opacity = v
				me._ht_info_bg.userData.ggSubElement.visible = (v>0 && me._ht_info_bg.userData.visible);
			}
			me._ht_info_bg.visible = (v>0 && me._ht_info_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_info_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_info_bg.userData.backgroundColorAlpha = v;
			me._ht_info_bg.userData.setOpacity(me._ht_info_bg.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._ht_info_bg.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._ht_info_bg.userData.borderColorAlpha = v;
			me._ht_info_bg.userData.setOpacity(me._ht_info_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(-0.09);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 26;
		el.userData.height = 26;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_info_bg';
		el.userData.x = 0;
		el.userData.y = -0.09;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.040);
		el.renderOrder = 4;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_info_bg.visible
			let parentEl = me._ht_info_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_info_bg.userData.opacity = v;
			v = v * me._ht_info_bg.userData.parentOpacity;
			me._ht_info_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_bg.children.length; i++) {
				let child = me._ht_info_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_info_bg.userData.parentOpacity = v;
			v = v * me._ht_info_bg.userData.opacity
			me._ht_info_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_bg.children.length; i++) {
				let child = me._ht_info_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_info_bg = el;
		el.userData.ggId="ht_info_bg";
		me._ht_info_bg.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['ht_info_bg'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._ht_info_bg.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._ht_info_bg.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._ht_info_bg.ggCurrentLogicStateBackgroundColor == 0) {
					me._ht_info_bg.userData.setBackgroundColor(new THREE.Color('#4d4d4d'));
					me._ht_info_bg.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._ht_info_bg.userData.setBackgroundColor(new THREE.Color('#3d3d3d'));
					me._ht_info_bg.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._ht_info_bg.logicBlock_backgroundcolor();
		me._ht_info_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_info_bg']=true;
			me._ht_info_bg.logicBlock_backgroundcolor();
		}
		me._ht_info_bg.userData.ontouchend=function (e) {
			me._ht_info_bg.logicBlock_backgroundcolor();
		}
		me._ht_info_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_info_bg']=false;
			me._ht_info_bg.logicBlock_backgroundcolor();
		}
		me._ht_info_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_info_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABOUlEQVR4nO3ZMUrEQBgF4PcHB4s0a5eJgeBCGhutvIR4BT2Kepft3ULvYaVCwCEQkkax2kICiU3C6haW/y/mfTBFMoR5eUkxIQARERERERER0cyI1cJVVR04584BoOu6hzzPPyxymBRQ1/VpFEX3AA6nU33fX2RZ9qidRb2Asiz34zh+ArDcmXrdbDbHRVF8auaJNBcDgDiOz7C9+fU4AGA5zqna015QRN6HYZgOT3am35Tj6L8BSZI8Y/vUj8YBAHfe+xftPOoFiMjgnLsEsALQj2PlnLsSkeH3q/+ZEMIihLCwzkFERHNl9jXYtu3192Pv/a1FDrMCmqb5selJ09Qki/pO8K9hAdYBrLEA6wDWWIB1AGsswDqANRZgHcAaC7AOYG32Baj/GZqIyI'+
	'3V2kREREREREQ0b1/cpjltxukeywAAAABJRU5ErkJggg==');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_info_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_info_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.050);
		el.renderOrder = 5;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_info_icon.material) me._ht_info_icon.material.opacity = v;
			me._ht_info_icon.visible = (v>0 && me._ht_info_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_info_icon.visible
			let parentEl = me._ht_info_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_info_icon.userData.opacity = v;
			v = v * me._ht_info_icon.userData.parentOpacity;
			me._ht_info_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_icon.children.length; i++) {
				let child = me._ht_info_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_info_icon.userData.parentOpacity = v;
			v = v * me._ht_info_icon.userData.opacity
			me._ht_info_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_icon.children.length; i++) {
				let child = me._ht_info_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_info_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABJklEQVR4nO3ZQUrDQBgF4BdJySqBOLPqRtAT2AN4AvEePUXrCXoEBZfd2YN4hm5EySBDwEUW4e+igwYPME/I+2AWkyz+l0cICQFERERERERERGamYA1umuayqqoHABiG4bXv+y9GDkoB3vsVgAOAZTr0XhTFfdd1b7mzXOQeCGABYI/fiweApZnt07msshfgnFsBuE7bl7QA4MY5d5s7T5l74DiOH2X5M/buz7nP3Hmy3wExxqOZPaftVVows6cY4zF3HsYzAHVdrwHsAHyntWvbds3IwrYA4cEnIiJyRvsa9N5vpvsQwiMjB7MAm+5DCJQslDfB/0QFsAOwqQB2ADYVwA7ApgLYAdhUADsAmwpgB2CbfQHZ/wxNbImzRURERERERGTGTgDcOMKP5f'+
	'hTAAAAAElFTkSuQmCC');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_info_icon_materialOver';
		el.userData.ggId="ht_info_icon";
		me._ht_info_icon.userData.onmouseover=function (e) {
			me._ht_info_icon.material = me._ht_info_icon.userData.materialOver;
			me.elementMouseOver['ht_info_icon']=true;
		}
		me._ht_info_icon.userData.onmouseout=function (e) {
			me._ht_info_icon.material = me._ht_info_icon.userData.materialNormal;
			me.elementMouseOver['ht_info_icon']=false;
		}
		me._ht_info_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_info_bg.add(me._ht_info_icon);
		me._ht_info_container.add(me._ht_info_bg);
		me._ht_info.add(me._ht_info_container);
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.translateX(0);
		el.translateY(0.08);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 67;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_info_container_close';
		el.userData.x = 0;
		el.userData.y = 0.08;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_info_container_close.material) me._ht_info_container_close.material.opacity = v;
			me._ht_info_container_close.visible = (v>0 && me._ht_info_container_close.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_info_container_close.visible
			let parentEl = me._ht_info_container_close.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_info_container_close.userData.opacity = v;
			v = v * me._ht_info_container_close.userData.parentOpacity;
			me._ht_info_container_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_container_close.children.length; i++) {
				let child = me._ht_info_container_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_info_container_close.userData.parentOpacity = v;
			v = v * me._ht_info_container_close.userData.opacity
			me._ht_info_container_close.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_info_container_close.children.length; i++) {
				let child = me._ht_info_container_close.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_info_container_close = el;
		el.userData.ggPermeable=false;
		el.userData.ggId="ht_info_container_close";
		me._ht_info_container_close.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				(((player.getVariableValue('vis_info_hs_popups')).indexOf(me.hotspot.id) != -1))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_info_container_close.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_info_container_close.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_info_container_close.ggCurrentLogicStateVisible == 0) {
			me._ht_info_container_close.visible=((!me._ht_info_container_close.material && Number(me._ht_info_container_close.userData.opacity>0)) || Number(me._ht_info_container_close.material.opacity)>0)?true:false;
			me._ht_info_container_close.userData.visible=true;
				}
				else {
			me._ht_info_container_close.visible=false;
			me._ht_info_container_close.userData.visible=false;
				}
			}
		}
		me._ht_info_container_close.logicBlock_visible();
		me._ht_info_container_close.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false)) && 
					(((player.getVariableValue('vis_info_hs_popups')).indexOf(me.hotspot.id) != -1))
				)
			) {
				player.setVariableValue('vis_info_hs_popups', player.getVariableValue('vis_info_hs_popups').replace("<"+me.hotspot.id+">", ''));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				me._ht_info.style.zIndex='-1';
			}
		}
		me._ht_info_container_close.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_info.add(me._ht_info_container_close);
		me._ht_info.logicBlock_visible();
		me._ht_info.userData.setOpacity(1.00);
		me._info_hs_popup.logicBlock_visible();
		me._info_hs_popup.userData.setOpacity(1.00);
		me._info_hs_popup_text.userData.setOpacity(1.00);
		me._info_hs_popup_close.userData.setOpacity(1.00);
		me._ht_info_container.userData.setOpacity(1.00);
		me._ht_info_title.logicBlock_visible();
		me._ht_info_title.userData.setOpacity(1.00);
		me._ht_info_bg.logicBlock_backgroundcolor();
		me._ht_info_bg.userData.setOpacity(1.00);
		me._ht_info_icon.userData.setOpacity(1.00);
		me._ht_info_container_close.logicBlock_visible();
		me._ht_info_container_close.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_info_title.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_info.logicBlock_visible();
				me._info_hs_popup.logicBlock_visible();
				player.setVariableValue('vis_info_hs_popups', "");
				me._ht_info_title.logicBlock_visible();
				me._ht_info_container_close.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_info.logicBlock_visible();
				me._info_hs_popup.logicBlock_visible();
				me._ht_info_title.logicBlock_visible();
				me._ht_info_container_close.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_info_hs_popups=function() {
				me._info_hs_popup.logicBlock_visible();
				me._ht_info_container_close.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_info.logicBlock_visible();
			};
			me.__obj = me._ht_info;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_pdf(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_pdf';
		el.userData.x = -1.06;
		el.userData.y = 1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_pdf.visible
			let parentEl = me._ht_pdf.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf.userData.opacity = v;
			v = v * me._ht_pdf.userData.parentOpacity;
			me._ht_pdf.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf.children.length; i++) {
				let child = me._ht_pdf.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf.userData.parentOpacity = v;
			v = v * me._ht_pdf.userData.opacity
			me._ht_pdf.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf.children.length; i++) {
				let child = me._ht_pdf.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf = el;
		el.userData.ggId="ht_pdf";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_pdf.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_pdf.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_pdf.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_pdf.ggCurrentLogicStateVisible == 0) {
			me._ht_pdf.visible=((!me._ht_pdf.material && Number(me._ht_pdf.userData.opacity>0)) || Number(me._ht_pdf.material.opacity)>0)?true:false;
			me._ht_pdf.userData.visible=true;
				}
				else {
			me._ht_pdf.visible=false;
			me._ht_pdf.userData.visible=false;
				}
			}
		}
		me._ht_pdf.logicBlock_visible();
		me._ht_pdf.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_pdf_hs_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._pdf_hs_popup_pdf.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player.getBasePath())));
						params.push(player._(String(player._(me.hotspot.url))));
						var hs = player._("%1%2", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._pdf_hs_popup_pdf.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._pdf_hs_popup_pdf.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._pdf_hs_popup_pdf.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.target))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._pdf_hs_popup_pdf.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._pdf_hs_popup_pdf.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._pdf_hs_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._pdf_hs_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._pdf_hs_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_image_hs_popup_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_url_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_pdf', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._pdf_popup_phone.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player.getBasePath())));
						params.push(player._(String(player._(me.hotspot.url))));
						var hs = player._("%1%2", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._pdf_popup_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._pdf_popup_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._pdf_popup_phone.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.target))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._pdf_popup_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._pdf_popup_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_thumbs', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_image', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_youtube', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_vimeo', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_file', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_url', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_pdf.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_pdf.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_pdf']=true;
			me._ht_pdf_title.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_pdf.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_pdf']=false;
			me._ht_pdf_title.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_pdf.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_pdf_title_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_pdf_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_pdf_title.material.opacity = v;
			if (me._ht_pdf_title.userData.hasScrollbar) {
				me._ht_pdf_title.userData.scrollbar.material.opacity = v;
				me._ht_pdf_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_pdf_title.userData.ggSubElement) {
				me._ht_pdf_title.userData.ggSubElement.material.opacity = v
				me._ht_pdf_title.userData.ggSubElement.visible = (v>0 && me._ht_pdf_title.userData.visible);
			}
			me._ht_pdf_title.visible = (v>0 && me._ht_pdf_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_pdf_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_pdf_title.userData.backgroundColorAlpha = v;
			me._ht_pdf_title.userData.setOpacity(me._ht_pdf_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.245);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_pdf_title';
		el.userData.x = 0;
		el.userData.y = 0.245;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_pdf_title.visible
			let parentEl = me._ht_pdf_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf_title.userData.opacity = v;
			v = v * me._ht_pdf_title.userData.parentOpacity;
			me._ht_pdf_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_title.children.length; i++) {
				let child = me._ht_pdf_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf_title.userData.parentOpacity = v;
			v = v * me._ht_pdf_title.userData.opacity
			me._ht_pdf_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_title.children.length; i++) {
				let child = me._ht_pdf_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 80;
		canvas.height = 35;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_pdf_title.userData.totalHeight = 21;
			me._ht_pdf_title.userData.textLines = [];
			var ctx = me._ht_pdf_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_pdf_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_pdf_title.userData.textLines.push(line);
					line = '';
					me._ht_pdf_title.userData.totalHeight += me._ht_pdf_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_pdf_title.userData.width - 16 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_pdf_title.userData.textLines.push(line);
					line = words[i];
					me._ht_pdf_title.userData.totalHeight += me._ht_pdf_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_pdf_title.userData.textLines.push(line);
			me._ht_pdf_title.userData.totalHeight += me._ht_pdf_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_pdf_title.userData.textCanvas;
			var ctx = me._ht_pdf_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_pdf_title.userData.backgroundColor.r * 255 + ', ' + me._ht_pdf_title.userData.backgroundColor.g * 255 + ', ' + me._ht_pdf_title.userData.backgroundColor.b * 255 + ', ' + me._ht_pdf_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_pdf_title.userData.textColor.r * 255 + ', ' + me._ht_pdf_title.userData.textColor.g * 255 + ', ' + me._ht_pdf_title.userData.textColor.b * 255 + ', ' + me._ht_pdf_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_pdf_title.userData.boxWidth - (me._ht_pdf_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 9;
			for (var i = 0; i < me._ht_pdf_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_pdf_title.userData.textLines[i], x, y);
				y += me._ht_pdf_title.userData.lineHeight;
			}
			geometry = new THREE.PlaneBufferGeometry(me._ht_pdf_title.userData.boxWidth / 100.0, me._ht_pdf_title.userData.boxHeight / 100.0, 5, 5 );
			geometry.name = 'ht_pdf_title_geometry';
			me._ht_pdf_title.geometry.dispose();
			me._ht_pdf_title.geometry = geometry;
			var diffY = me._ht_pdf_title.userData.boxHeight - me._ht_pdf_title.userData.height;
			me._ht_pdf_title.position.y = me._ht_pdf_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_pdf_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_pdf_title.material.map) {
				me._ht_pdf_title.material.map.dispose();
			}
			me._ht_pdf_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_pdf_title.remove(...me._ht_pdf_title.children);
			var canv = me._ht_pdf_title.userData.textCanvas;
			var ctx = me._ht_pdf_title.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._ht_pdf_title.userData.lineHeight = 16 * 1.2;
			me._ht_pdf_title.userData.textLines = [];
			me._ht_pdf_title.userData.textLines.push(me._ht_pdf_title.userData.ggText);
			me._ht_pdf_title.userData.totalHeight = 21;
			me._ht_pdf_title.userData.totalHeight += me._ht_pdf_title.userData.lineHeight;
			me._ht_pdf_title.userData.boxWidth = ctx.measureText(me._ht_pdf_title.userData.ggText).width + 12;
			me._ht_pdf_title.userData.boxHeight = me._ht_pdf_title.userData.totalHeight;
			canv.width = me._ht_pdf_title.userData.boxWidth;
			canv.height = me._ht_pdf_title.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._ht_pdf_title.userData.ggPaintCanvasText();
		}
		me._ht_pdf_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_pdf_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_pdf_title.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_pdf_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_pdf_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_pdf_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_pdf_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_pdf_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_pdf_title";
		me._ht_pdf_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_pdf'] == true)) && 
				((player._(me.hotspot.title) != "")) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_pdf_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_pdf_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_pdf_title.ggCurrentLogicStateVisible == 0) {
			me._ht_pdf_title.visible=((!me._ht_pdf_title.material && Number(me._ht_pdf_title.userData.opacity>0)) || Number(me._ht_pdf_title.material.opacity)>0)?true:false;
			me._ht_pdf_title.userData.visible=true;
				}
				else {
			me._ht_pdf_title.visible=false;
			me._ht_pdf_title.userData.visible=false;
				}
			}
		}
		me._ht_pdf_title.logicBlock_visible();
		me._ht_pdf_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_pdf.add(me._ht_pdf_title);
		width = 0.26;
		height = 0.26;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_pdf_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_pdf_bg_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.26;
		height = 0.26;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.13, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.13, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.13, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'ht_pdf_bg_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(0,0,0,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'ht_pdf_bg_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'ht_pdf_bg_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_pdf_bg.material.opacity = v * me._ht_pdf_bg.userData.backgroundColorAlpha;
			me._ht_pdf_bg.userData.border.material.opacity = v * me._ht_pdf_bg.userData.borderColorAlpha;
			if (me._ht_pdf_bg.userData.ggSubElement) {
				me._ht_pdf_bg.userData.ggSubElement.material.opacity = v
				me._ht_pdf_bg.userData.ggSubElement.visible = (v>0 && me._ht_pdf_bg.userData.visible);
			}
			me._ht_pdf_bg.visible = (v>0 && me._ht_pdf_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_pdf_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_pdf_bg.userData.backgroundColorAlpha = v;
			me._ht_pdf_bg.userData.setOpacity(me._ht_pdf_bg.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._ht_pdf_bg.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._ht_pdf_bg.userData.borderColorAlpha = v;
			me._ht_pdf_bg.userData.setOpacity(me._ht_pdf_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 26;
		el.userData.height = 26;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_pdf_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_pdf_bg.visible
			let parentEl = me._ht_pdf_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf_bg.userData.opacity = v;
			v = v * me._ht_pdf_bg.userData.parentOpacity;
			me._ht_pdf_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_bg.children.length; i++) {
				let child = me._ht_pdf_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf_bg.userData.parentOpacity = v;
			v = v * me._ht_pdf_bg.userData.opacity
			me._ht_pdf_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_bg.children.length; i++) {
				let child = me._ht_pdf_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf_bg = el;
		el.userData.ggId="ht_pdf_bg";
		me._ht_pdf_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_pdf_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_pdf_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_pdf_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_pdf_bg.visible=false;
			me._ht_pdf_bg.userData.visible=false;
				}
				else {
			me._ht_pdf_bg.visible=((!me._ht_pdf_bg.material && Number(me._ht_pdf_bg.userData.opacity>0)) || Number(me._ht_pdf_bg.material.opacity)>0)?true:false;
			me._ht_pdf_bg.userData.visible=true;
				}
			}
		}
		me._ht_pdf_bg.logicBlock_visible();
		me._ht_pdf_bg.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['ht_pdf_bg'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._ht_pdf_bg.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._ht_pdf_bg.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._ht_pdf_bg.ggCurrentLogicStateBackgroundColor == 0) {
					me._ht_pdf_bg.userData.setBackgroundColor(new THREE.Color('#4d4d4d'));
					me._ht_pdf_bg.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._ht_pdf_bg.userData.setBackgroundColor(new THREE.Color('#3d3d3d'));
					me._ht_pdf_bg.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._ht_pdf_bg.logicBlock_backgroundcolor();
		me._ht_pdf_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_pdf_bg']=true;
			me._ht_pdf_bg.logicBlock_backgroundcolor();
		}
		me._ht_pdf_bg.userData.ontouchend=function (e) {
			me._ht_pdf_bg.logicBlock_backgroundcolor();
		}
		me._ht_pdf_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_pdf_bg']=false;
			me._ht_pdf_bg.logicBlock_backgroundcolor();
		}
		me._ht_pdf_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_pdf_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA6ElEQVR4nO3YXQrCMBRE4TG4irs1Rdfm39ayjOpTQRGVwk0m0vM9+ZQOh1JqJQAAAADA+myyDqq13pOOmiQdIuKWdN5XpcdFFiqSzrXWfa+LjahIOvWIMGoAqVOEbauDI2LR8+XDM2SOoIi45ix7v8Domt4JIweYnn43izBygKM6RBg5wEXv++YIu6yLjBzgkyLpnHnYP0rb/a8B0jR7D1jq13tD4n+NF6u/AwjgHuBGAPcANwK4B7gRwD3AjQDuAW4EcA9wI4B7gBsB3APcCOAe4Nbsm2Crb3jZVn8HEMA9AAAAAACA/h64xzPDAOTzpgAAAABJRU5ErkJggg==');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_pdf_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_pdf_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_pdf_icon.material) me._ht_pdf_icon.material.opacity = v;
			me._ht_pdf_icon.visible = (v>0 && me._ht_pdf_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_pdf_icon.visible
			let parentEl = me._ht_pdf_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf_icon.userData.opacity = v;
			v = v * me._ht_pdf_icon.userData.parentOpacity;
			me._ht_pdf_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_icon.children.length; i++) {
				let child = me._ht_pdf_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf_icon.userData.parentOpacity = v;
			v = v * me._ht_pdf_icon.userData.opacity
			me._ht_pdf_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_icon.children.length; i++) {
				let child = me._ht_pdf_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA90lEQVR4nO3YWwrCMBCF4ZngDprdKbq2etldugXrk2ARlcIkJ9L/e+rT5HAIIY0ZAAAAAGB7PGpQznkOGnU3s2Mp5RY076vUYpGVkpmdh2E4tFqsR8ndxxYl9FqAWaMSdrUGl1JWnS8fzpBnCTZN0zUo2nKBGkODVd0JPRdwf/muVkK3BczzfLIGJXRbgLtf7D1fcvcx57yPWqfbAr5IZnaOHPaPwnL/awFhqt0D1vp1bwj811jY/A6gAHUANQpQB1CjAHUANQpQB1CjAHUANQpQB1CjAHUANQpQB1CjAHUAtWpvgrXe8KJtfgdQgDoAAAAAAADtPQC/jSMWbQdDqwAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_pdf_icon_materialOver';
		el.userData.ggId="ht_pdf_icon";
		me._ht_pdf_icon.userData.onmouseover=function (e) {
			me._ht_pdf_icon.material = me._ht_pdf_icon.userData.materialOver;
			me.elementMouseOver['ht_pdf_icon']=true;
		}
		me._ht_pdf_icon.userData.onmouseout=function (e) {
			me._ht_pdf_icon.material = me._ht_pdf_icon.userData.materialNormal;
			me.elementMouseOver['ht_pdf_icon']=false;
		}
		me._ht_pdf_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_pdf_bg.add(me._ht_pdf_icon);
		me._ht_pdf.add(me._ht_pdf_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_pdf_custom_image.userData.ggSubElement) {
				me._ht_pdf_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_pdf_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_pdf_custom_image.userData.visible);
			}
			me._ht_pdf_custom_image.visible = (v>0 && me._ht_pdf_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_pdf_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_pdf_custom_image.visible
			let parentEl = me._ht_pdf_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_pdf_custom_image.userData.opacity = v;
			v = v * me._ht_pdf_custom_image.userData.parentOpacity;
			me._ht_pdf_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_custom_image.children.length; i++) {
				let child = me._ht_pdf_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_pdf_custom_image.userData.parentOpacity = v;
			v = v * me._ht_pdf_custom_image.userData.opacity
			me._ht_pdf_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_pdf_custom_image.children.length; i++) {
				let child = me._ht_pdf_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_pdf_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_pdf_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_pdf_custom_image_subElementMaterial';
				me._ht_pdf_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_pdf_custom_image.userData.ggUpdatePosition();
				me._ht_pdf_custom_image.userData.ggText = extUrl;
				me._ht_pdf_custom_image.userData.setOpacity(me._ht_pdf_custom_image.userData.opacity);
			});
		};
		var extUrl=basePath + "_custom";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_pdf_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_pdf_custom_image_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_pdf_custom_image";
		me._ht_pdf_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_pdf_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_pdf_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_pdf_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_pdf_custom_image.visible=((!me._ht_pdf_custom_image.material && Number(me._ht_pdf_custom_image.userData.opacity>0)) || Number(me._ht_pdf_custom_image.material.opacity)>0)?true:false;
			me._ht_pdf_custom_image.userData.visible=true;
				}
				else {
			me._ht_pdf_custom_image.visible=false;
			me._ht_pdf_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_pdf_custom_image.logicBlock_visible();
		me._ht_pdf_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_pdf_custom_image.userData.clientWidth;
			var parentHeight = me._ht_pdf_custom_image.userData.clientHeight;
			var img = me._ht_pdf_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			currentWidth = imgWidth;
			currentHeight = imgHeight;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_pdf_custom_image_imgGeometry';
		}
		me._ht_pdf.add(me._ht_pdf_custom_image);
		me._ht_pdf.logicBlock_visible();
		me._ht_pdf.userData.setOpacity(1.00);
		me._ht_pdf_title.logicBlock_visible();
		me._ht_pdf_title.userData.setOpacity(1.00);
		me._ht_pdf_bg.logicBlock_visible();
		me._ht_pdf_bg.logicBlock_backgroundcolor();
		me._ht_pdf_bg.userData.setOpacity(1.00);
		me._ht_pdf_icon.userData.setOpacity(1.00);
		me._ht_pdf_custom_image.logicBlock_visible();
		me._ht_pdf_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_pdf_title.logicBlock_visible();
				me._ht_pdf_bg.logicBlock_visible();
				me._ht_pdf_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_pdf.logicBlock_visible();
				me._ht_pdf_title.logicBlock_visible();
				me._ht_pdf_bg.logicBlock_visible();
				me._ht_pdf_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_pdf.logicBlock_visible();
				me._ht_pdf_title.logicBlock_visible();
				me._ht_pdf_bg.logicBlock_visible();
				me._ht_pdf_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_pdf.logicBlock_visible();
			};
			me.__obj = me._ht_pdf;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_video_file(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_video_file';
		el.userData.x = 3.34;
		el.userData.y = 1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_file.visible
			let parentEl = me._ht_video_file.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file.userData.opacity = v;
			v = v * me._ht_video_file.userData.parentOpacity;
			me._ht_video_file.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file.children.length; i++) {
				let child = me._ht_video_file.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file.userData.parentOpacity = v;
			v = v * me._ht_video_file.userData.opacity
			me._ht_video_file.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file.children.length; i++) {
				let child = me._ht_video_file.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file = el;
		el.userData.ggId="ht_video_file";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_video_file.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_file.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_file.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_file.ggCurrentLogicStateVisible == 0) {
			me._ht_video_file.visible=((!me._ht_video_file.material && Number(me._ht_video_file.userData.opacity>0)) || Number(me._ht_video_file.material.opacity)>0)?true:false;
			me._ht_video_file.userData.visible=true;
				}
				else {
			me._ht_video_file.visible=false;
			me._ht_video_file.userData.visible=false;
				}
			}
		}
		me._ht_video_file.logicBlock_visible();
		me._ht_video_file.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_file_hs_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				skin._video_file_hs_popup_vid.userData.ggInitMedia(player.getBasePath()+""+player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_hs_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_hs_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_hs_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_controller_seekbar.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("video_file_hs_popup_vid", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_controller_seekbar.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_controller_seekbar.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_image_hs_popup_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_pdf_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_url_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_file', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._video_file_popup_phone.userData.ggInitMedia(player.getBasePath()+""+player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._video_controller_seekbar_phone.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("video_file_popup_phone", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_controller_seekbar_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_controller_seekbar_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_thumbs', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_image', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_pdf', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_youtube', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_vimeo', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_url', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_file.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_file.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_video_file']=true;
			me._ht_video_file_title.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_file.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_video_file']=false;
			me._ht_video_file_title.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_file.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_video_file_title_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_file_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_file_title.material.opacity = v;
			if (me._ht_video_file_title.userData.hasScrollbar) {
				me._ht_video_file_title.userData.scrollbar.material.opacity = v;
				me._ht_video_file_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_video_file_title.userData.ggSubElement) {
				me._ht_video_file_title.userData.ggSubElement.material.opacity = v
				me._ht_video_file_title.userData.ggSubElement.visible = (v>0 && me._ht_video_file_title.userData.visible);
			}
			me._ht_video_file_title.visible = (v>0 && me._ht_video_file_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_file_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_file_title.userData.backgroundColorAlpha = v;
			me._ht_video_file_title.userData.setOpacity(me._ht_video_file_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.245);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_file_title';
		el.userData.x = 0;
		el.userData.y = 0.245;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_file_title.visible
			let parentEl = me._ht_video_file_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file_title.userData.opacity = v;
			v = v * me._ht_video_file_title.userData.parentOpacity;
			me._ht_video_file_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_title.children.length; i++) {
				let child = me._ht_video_file_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file_title.userData.parentOpacity = v;
			v = v * me._ht_video_file_title.userData.opacity
			me._ht_video_file_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_title.children.length; i++) {
				let child = me._ht_video_file_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 80;
		canvas.height = 35;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_video_file_title.userData.totalHeight = 21;
			me._ht_video_file_title.userData.textLines = [];
			var ctx = me._ht_video_file_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_video_file_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_video_file_title.userData.textLines.push(line);
					line = '';
					me._ht_video_file_title.userData.totalHeight += me._ht_video_file_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_video_file_title.userData.width - 16 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_video_file_title.userData.textLines.push(line);
					line = words[i];
					me._ht_video_file_title.userData.totalHeight += me._ht_video_file_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_video_file_title.userData.textLines.push(line);
			me._ht_video_file_title.userData.totalHeight += me._ht_video_file_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_video_file_title.userData.textCanvas;
			var ctx = me._ht_video_file_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_file_title.userData.backgroundColor.r * 255 + ', ' + me._ht_video_file_title.userData.backgroundColor.g * 255 + ', ' + me._ht_video_file_title.userData.backgroundColor.b * 255 + ', ' + me._ht_video_file_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_file_title.userData.textColor.r * 255 + ', ' + me._ht_video_file_title.userData.textColor.g * 255 + ', ' + me._ht_video_file_title.userData.textColor.b * 255 + ', ' + me._ht_video_file_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_video_file_title.userData.boxWidth - (me._ht_video_file_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 9;
			for (var i = 0; i < me._ht_video_file_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_video_file_title.userData.textLines[i], x, y);
				y += me._ht_video_file_title.userData.lineHeight;
			}
			geometry = new THREE.PlaneBufferGeometry(me._ht_video_file_title.userData.boxWidth / 100.0, me._ht_video_file_title.userData.boxHeight / 100.0, 5, 5 );
			geometry.name = 'ht_video_file_title_geometry';
			me._ht_video_file_title.geometry.dispose();
			me._ht_video_file_title.geometry = geometry;
			var diffY = me._ht_video_file_title.userData.boxHeight - me._ht_video_file_title.userData.height;
			me._ht_video_file_title.position.y = me._ht_video_file_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_video_file_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_video_file_title.material.map) {
				me._ht_video_file_title.material.map.dispose();
			}
			me._ht_video_file_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_video_file_title.remove(...me._ht_video_file_title.children);
			var canv = me._ht_video_file_title.userData.textCanvas;
			var ctx = me._ht_video_file_title.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._ht_video_file_title.userData.lineHeight = 16 * 1.2;
			me._ht_video_file_title.userData.textLines = [];
			me._ht_video_file_title.userData.textLines.push(me._ht_video_file_title.userData.ggText);
			me._ht_video_file_title.userData.totalHeight = 21;
			me._ht_video_file_title.userData.totalHeight += me._ht_video_file_title.userData.lineHeight;
			me._ht_video_file_title.userData.boxWidth = ctx.measureText(me._ht_video_file_title.userData.ggText).width + 12;
			me._ht_video_file_title.userData.boxHeight = me._ht_video_file_title.userData.totalHeight;
			canv.width = me._ht_video_file_title.userData.boxWidth;
			canv.height = me._ht_video_file_title.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._ht_video_file_title.userData.ggPaintCanvasText();
		}
		me._ht_video_file_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_video_file_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_video_file_title.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_video_file_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_file_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_file_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_video_file_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_video_file_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_video_file_title";
		me._ht_video_file_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_video_file'] == true)) && 
				((player._(me.hotspot.title) != "")) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_file_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_file_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_file_title.ggCurrentLogicStateVisible == 0) {
			me._ht_video_file_title.visible=((!me._ht_video_file_title.material && Number(me._ht_video_file_title.userData.opacity>0)) || Number(me._ht_video_file_title.material.opacity)>0)?true:false;
			me._ht_video_file_title.userData.visible=true;
				}
				else {
			me._ht_video_file_title.visible=false;
			me._ht_video_file_title.userData.visible=false;
				}
			}
		}
		me._ht_video_file_title.logicBlock_visible();
		me._ht_video_file_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_file.add(me._ht_video_file_title);
		width = 0.26;
		height = 0.26;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_video_file_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_file_bg_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.26;
		height = 0.26;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.13, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.13, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.13, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'ht_video_file_bg_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(0,0,0,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'ht_video_file_bg_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'ht_video_file_bg_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_file_bg.material.opacity = v * me._ht_video_file_bg.userData.backgroundColorAlpha;
			me._ht_video_file_bg.userData.border.material.opacity = v * me._ht_video_file_bg.userData.borderColorAlpha;
			if (me._ht_video_file_bg.userData.ggSubElement) {
				me._ht_video_file_bg.userData.ggSubElement.material.opacity = v
				me._ht_video_file_bg.userData.ggSubElement.visible = (v>0 && me._ht_video_file_bg.userData.visible);
			}
			me._ht_video_file_bg.visible = (v>0 && me._ht_video_file_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_file_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_file_bg.userData.backgroundColorAlpha = v;
			me._ht_video_file_bg.userData.setOpacity(me._ht_video_file_bg.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._ht_video_file_bg.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._ht_video_file_bg.userData.borderColorAlpha = v;
			me._ht_video_file_bg.userData.setOpacity(me._ht_video_file_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 26;
		el.userData.height = 26;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_file_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_file_bg.visible
			let parentEl = me._ht_video_file_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file_bg.userData.opacity = v;
			v = v * me._ht_video_file_bg.userData.parentOpacity;
			me._ht_video_file_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_bg.children.length; i++) {
				let child = me._ht_video_file_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file_bg.userData.parentOpacity = v;
			v = v * me._ht_video_file_bg.userData.opacity
			me._ht_video_file_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_bg.children.length; i++) {
				let child = me._ht_video_file_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file_bg = el;
		el.userData.ggId="ht_video_file_bg";
		me._ht_video_file_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_file_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_file_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_file_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_video_file_bg.visible=false;
			me._ht_video_file_bg.userData.visible=false;
				}
				else {
			me._ht_video_file_bg.visible=((!me._ht_video_file_bg.material && Number(me._ht_video_file_bg.userData.opacity>0)) || Number(me._ht_video_file_bg.material.opacity)>0)?true:false;
			me._ht_video_file_bg.userData.visible=true;
				}
			}
		}
		me._ht_video_file_bg.logicBlock_visible();
		me._ht_video_file_bg.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['ht_video_file_bg'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._ht_video_file_bg.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._ht_video_file_bg.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._ht_video_file_bg.ggCurrentLogicStateBackgroundColor == 0) {
					me._ht_video_file_bg.userData.setBackgroundColor(new THREE.Color('#4d4d4d'));
					me._ht_video_file_bg.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._ht_video_file_bg.userData.setBackgroundColor(new THREE.Color('#3d3d3d'));
					me._ht_video_file_bg.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._ht_video_file_bg.logicBlock_backgroundcolor();
		me._ht_video_file_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_video_file_bg']=true;
			me._ht_video_file_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_file_bg.userData.ontouchend=function (e) {
			me._ht_video_file_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_file_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_video_file_bg']=false;
			me._ht_video_file_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_file_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_video_file_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABr0lEQVR4nO3Wr29TURQH8O+5gVROdEHcm+LmEJA0CASOiYXgJkFsIXMDBBI3HAGaoBbcpmYJBuSCIPwJyOaea0gFpg1pdyb4EehWlvSdR/rY9+Pa9+733nxf7+0DiIiIiIiIiIiIiIjODakaoKovPRYyzczeppTe/+2enPNqSuldlXkuVBn8wwOHjBNE5AuAUwvo9/srIYTnInIbFR+iRwH/zGAwWBoOh09EZBvARY/MRhRgZqGUsjkajXZE5JJndh0FPJpz3BqAW9NfqurNUkoPwNVKq5rBvYAY41yHoqou488CLuecDwCsuyxshkXeAvdFKv9JnSnUPoMfA7DnHdqUAj6FEG7EGO95BzelABmPx7Xsh0U+A37XDSF8UNV97+Cm/AKA7298d71DF7'+
	'mAXTM7qHsS9y2gqg/nHHp96nM/pbSlqq8A9ABcq7ay09VxBrzwDIsxHppZt5SyAeApANdX4UXeAr+IyFGM8XWr1Voxs2cAvnllN6KAn9rt9teU0uPJZHJFRN54ZHpsgZ5Dxglm9nHWtU6n8xnAnZzzah1zExERERERERERERH9p44BK0tn0rzz+hAAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_video_file_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_file_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_file_icon.material) me._ht_video_file_icon.material.opacity = v;
			me._ht_video_file_icon.visible = (v>0 && me._ht_video_file_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_video_file_icon.visible
			let parentEl = me._ht_video_file_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file_icon.userData.opacity = v;
			v = v * me._ht_video_file_icon.userData.parentOpacity;
			me._ht_video_file_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_icon.children.length; i++) {
				let child = me._ht_video_file_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file_icon.userData.parentOpacity = v;
			v = v * me._ht_video_file_icon.userData.opacity
			me._ht_video_file_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_icon.children.length; i++) {
				let child = me._ht_video_file_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABoklEQVR4nO3WsUrDUBgF4PM33dv03oKTg4tQcPANFMVFEfEBBAcRX8FF6+IkKiI4uDkLKj6Am7s4dhahN3bRwUF+hzpISRGaP5Lo+bYk3HMvJ7mXAERERERERERERERE/4ZkDfDen1ksJMVtCOH2h7mXQwg3WSapZhn8ZdMgI80zgNQCGo1GK4qiQ1VdQMaXaFHAr6nVanG1Wm2LyJaqmqy9LAVEzrnNSqWyp6rOMjiPArZGHLcEYHHwpvd+VlWPRWRKVbOtLIV5ASGEkQ5F7/0YvhWgquPNZvNSVVdFMp/VQxV2C4jIeh5vfFAl9xlsXVsHlqWAB1WdCyGsWAeXpYAPAG95BBf2DBgwLSL33vtz6+CyfAFA/49vwzq0sAWo6omInKL/+efGfAt473'+
	'dHHDrz/UJEXrrd7m4cx2dRFB0BmMu6tjR5nAE7lmG9Xu8RwLxzbkVEDgBMWOYXdgsMSpLkql6vt1R1G8CrVW5pCgCATqfzniTJPoBJABcAMv8qWmyBtkFGmrthD0IITwDWnHOnOc1NRERERERERERERPQXfQLZEGNpTNchBgAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_video_file_icon_materialOver';
		el.userData.ggId="ht_video_file_icon";
		me._ht_video_file_icon.userData.onmouseover=function (e) {
			me._ht_video_file_icon.material = me._ht_video_file_icon.userData.materialOver;
			me.elementMouseOver['ht_video_file_icon']=true;
		}
		me._ht_video_file_icon.userData.onmouseout=function (e) {
			me._ht_video_file_icon.material = me._ht_video_file_icon.userData.materialNormal;
			me.elementMouseOver['ht_video_file_icon']=false;
		}
		me._ht_video_file_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_file_bg.add(me._ht_video_file_icon);
		me._ht_video_file.add(me._ht_video_file_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_file_custom_image.userData.ggSubElement) {
				me._ht_video_file_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_video_file_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_video_file_custom_image.userData.visible);
			}
			me._ht_video_file_custom_image.visible = (v>0 && me._ht_video_file_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_file_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_file_custom_image.visible
			let parentEl = me._ht_video_file_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_file_custom_image.userData.opacity = v;
			v = v * me._ht_video_file_custom_image.userData.parentOpacity;
			me._ht_video_file_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_custom_image.children.length; i++) {
				let child = me._ht_video_file_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_file_custom_image.userData.parentOpacity = v;
			v = v * me._ht_video_file_custom_image.userData.opacity
			me._ht_video_file_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_file_custom_image.children.length; i++) {
				let child = me._ht_video_file_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_file_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_video_file_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_video_file_custom_image_subElementMaterial';
				me._ht_video_file_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_video_file_custom_image.userData.ggUpdatePosition();
				me._ht_video_file_custom_image.userData.ggText = extUrl;
				me._ht_video_file_custom_image.userData.setOpacity(me._ht_video_file_custom_image.userData.opacity);
			});
		};
		var extUrl=basePath + "_custom";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_video_file_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_video_file_custom_image_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_video_file_custom_image";
		me._ht_video_file_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_file_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_file_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_file_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_video_file_custom_image.visible=((!me._ht_video_file_custom_image.material && Number(me._ht_video_file_custom_image.userData.opacity>0)) || Number(me._ht_video_file_custom_image.material.opacity)>0)?true:false;
			me._ht_video_file_custom_image.userData.visible=true;
				}
				else {
			me._ht_video_file_custom_image.visible=false;
			me._ht_video_file_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_video_file_custom_image.logicBlock_visible();
		me._ht_video_file_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_video_file_custom_image.userData.clientWidth;
			var parentHeight = me._ht_video_file_custom_image.userData.clientHeight;
			var img = me._ht_video_file_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			currentWidth = imgWidth;
			currentHeight = imgHeight;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_video_file_custom_image_imgGeometry';
		}
		me._ht_video_file.add(me._ht_video_file_custom_image);
		me._ht_video_file.logicBlock_visible();
		me._ht_video_file.userData.setOpacity(1.00);
		me._ht_video_file_title.logicBlock_visible();
		me._ht_video_file_title.userData.setOpacity(1.00);
		me._ht_video_file_bg.logicBlock_visible();
		me._ht_video_file_bg.logicBlock_backgroundcolor();
		me._ht_video_file_bg.userData.setOpacity(1.00);
		me._ht_video_file_icon.userData.setOpacity(1.00);
		me._ht_video_file_custom_image.logicBlock_visible();
		me._ht_video_file_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_video_file_title.logicBlock_visible();
				me._ht_video_file_bg.logicBlock_visible();
				me._ht_video_file_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_video_file.logicBlock_visible();
				me._ht_video_file_title.logicBlock_visible();
				me._ht_video_file_bg.logicBlock_visible();
				me._ht_video_file_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_video_file.logicBlock_visible();
				me._ht_video_file_title.logicBlock_visible();
				me._ht_video_file_bg.logicBlock_visible();
				me._ht_video_file_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_video_file.logicBlock_visible();
			};
			me.__obj = me._ht_video_file;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_video_url(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_video_url';
		el.userData.x = 3.34;
		el.userData.y = 1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_url.visible
			let parentEl = me._ht_video_url.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url.userData.opacity = v;
			v = v * me._ht_video_url.userData.parentOpacity;
			me._ht_video_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url.children.length; i++) {
				let child = me._ht_video_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url.userData.parentOpacity = v;
			v = v * me._ht_video_url.userData.opacity
			me._ht_video_url.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url.children.length; i++) {
				let child = me._ht_video_url.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url = el;
		el.userData.ggId="ht_video_url";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_video_url.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_url.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_url.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_url.ggCurrentLogicStateVisible == 0) {
			me._ht_video_url.visible=((!me._ht_video_url.material && Number(me._ht_video_url.userData.opacity>0)) || Number(me._ht_video_url.material.opacity)>0)?true:false;
			me._ht_video_url.userData.visible=true;
				}
				else {
			me._ht_video_url.visible=false;
			me._ht_video_url.userData.visible=false;
				}
			}
		}
		me._ht_video_url.logicBlock_visible();
		me._ht_video_url.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_url_hs_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				skin._video_url_hs_popup_vid.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_hs_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_hs_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_hs_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_controller_seekbar.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("video_url_hs_popup_vid", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_controller_seekbar.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_controller_seekbar.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_image_hs_popup_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_pdf_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_url_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_url', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._video_url_popup_phone.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
					skin._video_controller_seekbar_phone.userData.ggUpdateText=function(force) {
						var params = [];
						var hs = player._("video_url_popup_phone", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_controller_seekbar_phone.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_controller_seekbar_phone.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_thumbs', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_image', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_pdf', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_youtube', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_vimeo', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_file', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_url.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_url.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_video_url']=true;
			me._ht_video_url_title.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_url.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_video_url']=false;
			me._ht_video_url_title.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_url.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_video_url_title_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_url_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_url_title.material.opacity = v;
			if (me._ht_video_url_title.userData.hasScrollbar) {
				me._ht_video_url_title.userData.scrollbar.material.opacity = v;
				me._ht_video_url_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_video_url_title.userData.ggSubElement) {
				me._ht_video_url_title.userData.ggSubElement.material.opacity = v
				me._ht_video_url_title.userData.ggSubElement.visible = (v>0 && me._ht_video_url_title.userData.visible);
			}
			me._ht_video_url_title.visible = (v>0 && me._ht_video_url_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_url_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_url_title.userData.backgroundColorAlpha = v;
			me._ht_video_url_title.userData.setOpacity(me._ht_video_url_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.245);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_url_title';
		el.userData.x = 0;
		el.userData.y = 0.245;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_url_title.visible
			let parentEl = me._ht_video_url_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url_title.userData.opacity = v;
			v = v * me._ht_video_url_title.userData.parentOpacity;
			me._ht_video_url_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_title.children.length; i++) {
				let child = me._ht_video_url_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url_title.userData.parentOpacity = v;
			v = v * me._ht_video_url_title.userData.opacity
			me._ht_video_url_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_title.children.length; i++) {
				let child = me._ht_video_url_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 80;
		canvas.height = 35;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_video_url_title.userData.totalHeight = 21;
			me._ht_video_url_title.userData.textLines = [];
			var ctx = me._ht_video_url_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_video_url_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_video_url_title.userData.textLines.push(line);
					line = '';
					me._ht_video_url_title.userData.totalHeight += me._ht_video_url_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_video_url_title.userData.width - 16 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_video_url_title.userData.textLines.push(line);
					line = words[i];
					me._ht_video_url_title.userData.totalHeight += me._ht_video_url_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_video_url_title.userData.textLines.push(line);
			me._ht_video_url_title.userData.totalHeight += me._ht_video_url_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_video_url_title.userData.textCanvas;
			var ctx = me._ht_video_url_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_url_title.userData.backgroundColor.r * 255 + ', ' + me._ht_video_url_title.userData.backgroundColor.g * 255 + ', ' + me._ht_video_url_title.userData.backgroundColor.b * 255 + ', ' + me._ht_video_url_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_url_title.userData.textColor.r * 255 + ', ' + me._ht_video_url_title.userData.textColor.g * 255 + ', ' + me._ht_video_url_title.userData.textColor.b * 255 + ', ' + me._ht_video_url_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_video_url_title.userData.boxWidth - (me._ht_video_url_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 9;
			for (var i = 0; i < me._ht_video_url_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_video_url_title.userData.textLines[i], x, y);
				y += me._ht_video_url_title.userData.lineHeight;
			}
			geometry = new THREE.PlaneBufferGeometry(me._ht_video_url_title.userData.boxWidth / 100.0, me._ht_video_url_title.userData.boxHeight / 100.0, 5, 5 );
			geometry.name = 'ht_video_url_title_geometry';
			me._ht_video_url_title.geometry.dispose();
			me._ht_video_url_title.geometry = geometry;
			var diffY = me._ht_video_url_title.userData.boxHeight - me._ht_video_url_title.userData.height;
			me._ht_video_url_title.position.y = me._ht_video_url_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_video_url_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_video_url_title.material.map) {
				me._ht_video_url_title.material.map.dispose();
			}
			me._ht_video_url_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_video_url_title.remove(...me._ht_video_url_title.children);
			var canv = me._ht_video_url_title.userData.textCanvas;
			var ctx = me._ht_video_url_title.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._ht_video_url_title.userData.lineHeight = 16 * 1.2;
			me._ht_video_url_title.userData.textLines = [];
			me._ht_video_url_title.userData.textLines.push(me._ht_video_url_title.userData.ggText);
			me._ht_video_url_title.userData.totalHeight = 21;
			me._ht_video_url_title.userData.totalHeight += me._ht_video_url_title.userData.lineHeight;
			me._ht_video_url_title.userData.boxWidth = ctx.measureText(me._ht_video_url_title.userData.ggText).width + 12;
			me._ht_video_url_title.userData.boxHeight = me._ht_video_url_title.userData.totalHeight;
			canv.width = me._ht_video_url_title.userData.boxWidth;
			canv.height = me._ht_video_url_title.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._ht_video_url_title.userData.ggPaintCanvasText();
		}
		me._ht_video_url_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_video_url_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_video_url_title.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_video_url_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_url_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_url_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_video_url_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_video_url_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_video_url_title";
		me._ht_video_url_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_video_url'] == true)) && 
				((player._(me.hotspot.title) != "")) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_url_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_url_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_url_title.ggCurrentLogicStateVisible == 0) {
			me._ht_video_url_title.visible=((!me._ht_video_url_title.material && Number(me._ht_video_url_title.userData.opacity>0)) || Number(me._ht_video_url_title.material.opacity)>0)?true:false;
			me._ht_video_url_title.userData.visible=true;
				}
				else {
			me._ht_video_url_title.visible=false;
			me._ht_video_url_title.userData.visible=false;
				}
			}
		}
		me._ht_video_url_title.logicBlock_visible();
		me._ht_video_url_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_url.add(me._ht_video_url_title);
		width = 0.26;
		height = 0.26;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_video_url_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_url_bg_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.26;
		height = 0.26;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.13, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.13, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.13, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'ht_video_url_bg_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(0,0,0,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'ht_video_url_bg_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'ht_video_url_bg_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_url_bg.material.opacity = v * me._ht_video_url_bg.userData.backgroundColorAlpha;
			me._ht_video_url_bg.userData.border.material.opacity = v * me._ht_video_url_bg.userData.borderColorAlpha;
			if (me._ht_video_url_bg.userData.ggSubElement) {
				me._ht_video_url_bg.userData.ggSubElement.material.opacity = v
				me._ht_video_url_bg.userData.ggSubElement.visible = (v>0 && me._ht_video_url_bg.userData.visible);
			}
			me._ht_video_url_bg.visible = (v>0 && me._ht_video_url_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_url_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_url_bg.userData.backgroundColorAlpha = v;
			me._ht_video_url_bg.userData.setOpacity(me._ht_video_url_bg.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._ht_video_url_bg.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._ht_video_url_bg.userData.borderColorAlpha = v;
			me._ht_video_url_bg.userData.setOpacity(me._ht_video_url_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 26;
		el.userData.height = 26;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_url_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_url_bg.visible
			let parentEl = me._ht_video_url_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url_bg.userData.opacity = v;
			v = v * me._ht_video_url_bg.userData.parentOpacity;
			me._ht_video_url_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_bg.children.length; i++) {
				let child = me._ht_video_url_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url_bg.userData.parentOpacity = v;
			v = v * me._ht_video_url_bg.userData.opacity
			me._ht_video_url_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_bg.children.length; i++) {
				let child = me._ht_video_url_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url_bg = el;
		el.userData.ggId="ht_video_url_bg";
		me._ht_video_url_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_url_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_url_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_url_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_video_url_bg.visible=false;
			me._ht_video_url_bg.userData.visible=false;
				}
				else {
			me._ht_video_url_bg.visible=((!me._ht_video_url_bg.material && Number(me._ht_video_url_bg.userData.opacity>0)) || Number(me._ht_video_url_bg.material.opacity)>0)?true:false;
			me._ht_video_url_bg.userData.visible=true;
				}
			}
		}
		me._ht_video_url_bg.logicBlock_visible();
		me._ht_video_url_bg.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['ht_video_url_bg'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._ht_video_url_bg.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._ht_video_url_bg.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._ht_video_url_bg.ggCurrentLogicStateBackgroundColor == 0) {
					me._ht_video_url_bg.userData.setBackgroundColor(new THREE.Color('#4d4d4d'));
					me._ht_video_url_bg.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._ht_video_url_bg.userData.setBackgroundColor(new THREE.Color('#3d3d3d'));
					me._ht_video_url_bg.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._ht_video_url_bg.logicBlock_backgroundcolor();
		me._ht_video_url_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_video_url_bg']=true;
			me._ht_video_url_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_url_bg.userData.ontouchend=function (e) {
			me._ht_video_url_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_url_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_video_url_bg']=false;
			me._ht_video_url_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_url_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_video_url_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABr0lEQVR4nO3Wr29TURQH8O+5gVROdEHcm+LmEJA0CASOiYXgJkFsIXMDBBI3HAGaoBbcpmYJBuSCIPwJyOaea0gFpg1pdyb4EehWlvSdR/rY9+Pa9+733nxf7+0DiIiIiIiIiIiIiIjODakaoKovPRYyzczeppTe/+2enPNqSuldlXkuVBn8wwOHjBNE5AuAUwvo9/srIYTnInIbFR+iRwH/zGAwWBoOh09EZBvARY/MRhRgZqGUsjkajXZE5JJndh0FPJpz3BqAW9NfqurNUkoPwNVKq5rBvYAY41yHoqou488CLuecDwCsuyxshkXeAvdFKv9JnSnUPoMfA7DnHdqUAj6FEG7EGO95BzelABmPx7Xsh0U+A37XDSF8UNV97+Cm/AKA7298d71DF7'+
	'mAXTM7qHsS9y2gqg/nHHp96nM/pbSlqq8A9ABcq7ay09VxBrzwDIsxHppZt5SyAeApANdX4UXeAr+IyFGM8XWr1Voxs2cAvnllN6KAn9rt9teU0uPJZHJFRN54ZHpsgZ5Dxglm9nHWtU6n8xnAnZzzah1zExERERERERERERH9p44BK0tn0rzz+hAAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_video_url_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_url_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_url_icon.material) me._ht_video_url_icon.material.opacity = v;
			me._ht_video_url_icon.visible = (v>0 && me._ht_video_url_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_video_url_icon.visible
			let parentEl = me._ht_video_url_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url_icon.userData.opacity = v;
			v = v * me._ht_video_url_icon.userData.parentOpacity;
			me._ht_video_url_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_icon.children.length; i++) {
				let child = me._ht_video_url_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url_icon.userData.parentOpacity = v;
			v = v * me._ht_video_url_icon.userData.opacity
			me._ht_video_url_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_icon.children.length; i++) {
				let child = me._ht_video_url_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABoklEQVR4nO3WsUrDUBgF4PM33dv03oKTg4tQcPANFMVFEfEBBAcRX8FF6+IkKiI4uDkLKj6Am7s4dhahN3bRwUF+hzpISRGaP5Lo+bYk3HMvJ7mXAERERERERERERERE/4ZkDfDen1ksJMVtCOH2h7mXQwg3WSapZhn8ZdMgI80zgNQCGo1GK4qiQ1VdQMaXaFHAr6nVanG1Wm2LyJaqmqy9LAVEzrnNSqWyp6rOMjiPArZGHLcEYHHwpvd+VlWPRWRKVbOtLIV5ASGEkQ5F7/0YvhWgquPNZvNSVVdFMp/VQxV2C4jIeh5vfFAl9xlsXVsHlqWAB1WdCyGsWAeXpYAPAG95BBf2DBgwLSL33vtz6+CyfAFA/49vwzq0sAWo6omInKL/+efGfAt473'+
	'dHHDrz/UJEXrrd7m4cx2dRFB0BmMu6tjR5nAE7lmG9Xu8RwLxzbkVEDgBMWOYXdgsMSpLkql6vt1R1G8CrVW5pCgCATqfzniTJPoBJABcAMv8qWmyBtkFGmrthD0IITwDWnHOnOc1NRERERERERERERPQXfQLZEGNpTNchBgAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_video_url_icon_materialOver';
		el.userData.ggId="ht_video_url_icon";
		me._ht_video_url_icon.userData.onmouseover=function (e) {
			me._ht_video_url_icon.material = me._ht_video_url_icon.userData.materialOver;
			me.elementMouseOver['ht_video_url_icon']=true;
		}
		me._ht_video_url_icon.userData.onmouseout=function (e) {
			me._ht_video_url_icon.material = me._ht_video_url_icon.userData.materialNormal;
			me.elementMouseOver['ht_video_url_icon']=false;
		}
		me._ht_video_url_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_url_bg.add(me._ht_video_url_icon);
		me._ht_video_url.add(me._ht_video_url_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_url_custom_image.userData.ggSubElement) {
				me._ht_video_url_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_video_url_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_video_url_custom_image.userData.visible);
			}
			me._ht_video_url_custom_image.visible = (v>0 && me._ht_video_url_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_url_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_url_custom_image.visible
			let parentEl = me._ht_video_url_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_url_custom_image.userData.opacity = v;
			v = v * me._ht_video_url_custom_image.userData.parentOpacity;
			me._ht_video_url_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_custom_image.children.length; i++) {
				let child = me._ht_video_url_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_url_custom_image.userData.parentOpacity = v;
			v = v * me._ht_video_url_custom_image.userData.opacity
			me._ht_video_url_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_url_custom_image.children.length; i++) {
				let child = me._ht_video_url_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_url_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_video_url_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_video_url_custom_image_subElementMaterial';
				me._ht_video_url_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_video_url_custom_image.userData.ggUpdatePosition();
				me._ht_video_url_custom_image.userData.ggText = extUrl;
				me._ht_video_url_custom_image.userData.setOpacity(me._ht_video_url_custom_image.userData.opacity);
			});
		};
		var extUrl=basePath + "_custom";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_video_url_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_video_url_custom_image_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_video_url_custom_image";
		me._ht_video_url_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_url_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_url_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_url_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_video_url_custom_image.visible=((!me._ht_video_url_custom_image.material && Number(me._ht_video_url_custom_image.userData.opacity>0)) || Number(me._ht_video_url_custom_image.material.opacity)>0)?true:false;
			me._ht_video_url_custom_image.userData.visible=true;
				}
				else {
			me._ht_video_url_custom_image.visible=false;
			me._ht_video_url_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_video_url_custom_image.logicBlock_visible();
		me._ht_video_url_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_video_url_custom_image.userData.clientWidth;
			var parentHeight = me._ht_video_url_custom_image.userData.clientHeight;
			var img = me._ht_video_url_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			currentWidth = imgWidth;
			currentHeight = imgHeight;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_video_url_custom_image_imgGeometry';
		}
		me._ht_video_url.add(me._ht_video_url_custom_image);
		me._ht_video_url.logicBlock_visible();
		me._ht_video_url.userData.setOpacity(1.00);
		me._ht_video_url_title.logicBlock_visible();
		me._ht_video_url_title.userData.setOpacity(1.00);
		me._ht_video_url_bg.logicBlock_visible();
		me._ht_video_url_bg.logicBlock_backgroundcolor();
		me._ht_video_url_bg.userData.setOpacity(1.00);
		me._ht_video_url_icon.userData.setOpacity(1.00);
		me._ht_video_url_custom_image.logicBlock_visible();
		me._ht_video_url_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_video_url_title.logicBlock_visible();
				me._ht_video_url_bg.logicBlock_visible();
				me._ht_video_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_video_url.logicBlock_visible();
				me._ht_video_url_title.logicBlock_visible();
				me._ht_video_url_bg.logicBlock_visible();
				me._ht_video_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_video_url.logicBlock_visible();
				me._ht_video_url_title.logicBlock_visible();
				me._ht_video_url_bg.logicBlock_visible();
				me._ht_video_url_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_video_url.logicBlock_visible();
			};
			me.__obj = me._ht_video_url;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_video_vimeo(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_video_vimeo';
		el.userData.x = 2.24;
		el.userData.y = 1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo.visible
			let parentEl = me._ht_video_vimeo.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo.userData.opacity = v;
			v = v * me._ht_video_vimeo.userData.parentOpacity;
			me._ht_video_vimeo.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo.children.length; i++) {
				let child = me._ht_video_vimeo.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo.userData.opacity
			me._ht_video_vimeo.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo.children.length; i++) {
				let child = me._ht_video_vimeo.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo = el;
		el.userData.ggId="ht_video_vimeo";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_video_vimeo.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_vimeo.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_vimeo.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_vimeo.ggCurrentLogicStateVisible == 0) {
			me._ht_video_vimeo.visible=((!me._ht_video_vimeo.material && Number(me._ht_video_vimeo.userData.opacity>0)) || Number(me._ht_video_vimeo.material.opacity)>0)?true:false;
			me._ht_video_vimeo.userData.visible=true;
				}
				else {
			me._ht_video_vimeo.visible=false;
			me._ht_video_vimeo.userData.visible=false;
				}
			}
		}
		me._ht_video_vimeo.logicBlock_visible();
		me._ht_video_vimeo.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_vimeo_hs_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				skin._video_vimeo_hs_popup_vid.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_hs_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_hs_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_hs_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_image_hs_popup_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_pdf_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_url_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_vimeo', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._vimeo_popup_phone.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_thumbs', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_image', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_pdf', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_youtube', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_file', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_url', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_vimeo.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_vimeo.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_video_vimeo']=true;
			me._ht_video_vimeo_title.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_vimeo.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_video_vimeo']=false;
			me._ht_video_vimeo_title.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_vimeo.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_video_vimeo_title_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_vimeo_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_vimeo_title.material.opacity = v;
			if (me._ht_video_vimeo_title.userData.hasScrollbar) {
				me._ht_video_vimeo_title.userData.scrollbar.material.opacity = v;
				me._ht_video_vimeo_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_video_vimeo_title.userData.ggSubElement) {
				me._ht_video_vimeo_title.userData.ggSubElement.material.opacity = v
				me._ht_video_vimeo_title.userData.ggSubElement.visible = (v>0 && me._ht_video_vimeo_title.userData.visible);
			}
			me._ht_video_vimeo_title.visible = (v>0 && me._ht_video_vimeo_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_vimeo_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_vimeo_title.userData.backgroundColorAlpha = v;
			me._ht_video_vimeo_title.userData.setOpacity(me._ht_video_vimeo_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.245);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_vimeo_title';
		el.userData.x = 0;
		el.userData.y = 0.245;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo_title.visible
			let parentEl = me._ht_video_vimeo_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo_title.userData.opacity = v;
			v = v * me._ht_video_vimeo_title.userData.parentOpacity;
			me._ht_video_vimeo_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_title.children.length; i++) {
				let child = me._ht_video_vimeo_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo_title.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo_title.userData.opacity
			me._ht_video_vimeo_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_title.children.length; i++) {
				let child = me._ht_video_vimeo_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 80;
		canvas.height = 35;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_video_vimeo_title.userData.totalHeight = 21;
			me._ht_video_vimeo_title.userData.textLines = [];
			var ctx = me._ht_video_vimeo_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_video_vimeo_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_video_vimeo_title.userData.textLines.push(line);
					line = '';
					me._ht_video_vimeo_title.userData.totalHeight += me._ht_video_vimeo_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_video_vimeo_title.userData.width - 16 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_video_vimeo_title.userData.textLines.push(line);
					line = words[i];
					me._ht_video_vimeo_title.userData.totalHeight += me._ht_video_vimeo_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_video_vimeo_title.userData.textLines.push(line);
			me._ht_video_vimeo_title.userData.totalHeight += me._ht_video_vimeo_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_video_vimeo_title.userData.textCanvas;
			var ctx = me._ht_video_vimeo_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_vimeo_title.userData.backgroundColor.r * 255 + ', ' + me._ht_video_vimeo_title.userData.backgroundColor.g * 255 + ', ' + me._ht_video_vimeo_title.userData.backgroundColor.b * 255 + ', ' + me._ht_video_vimeo_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_vimeo_title.userData.textColor.r * 255 + ', ' + me._ht_video_vimeo_title.userData.textColor.g * 255 + ', ' + me._ht_video_vimeo_title.userData.textColor.b * 255 + ', ' + me._ht_video_vimeo_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_video_vimeo_title.userData.boxWidth - (me._ht_video_vimeo_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 9;
			for (var i = 0; i < me._ht_video_vimeo_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_video_vimeo_title.userData.textLines[i], x, y);
				y += me._ht_video_vimeo_title.userData.lineHeight;
			}
			geometry = new THREE.PlaneBufferGeometry(me._ht_video_vimeo_title.userData.boxWidth / 100.0, me._ht_video_vimeo_title.userData.boxHeight / 100.0, 5, 5 );
			geometry.name = 'ht_video_vimeo_title_geometry';
			me._ht_video_vimeo_title.geometry.dispose();
			me._ht_video_vimeo_title.geometry = geometry;
			var diffY = me._ht_video_vimeo_title.userData.boxHeight - me._ht_video_vimeo_title.userData.height;
			me._ht_video_vimeo_title.position.y = me._ht_video_vimeo_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_video_vimeo_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_video_vimeo_title.material.map) {
				me._ht_video_vimeo_title.material.map.dispose();
			}
			me._ht_video_vimeo_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_video_vimeo_title.remove(...me._ht_video_vimeo_title.children);
			var canv = me._ht_video_vimeo_title.userData.textCanvas;
			var ctx = me._ht_video_vimeo_title.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._ht_video_vimeo_title.userData.lineHeight = 16 * 1.2;
			me._ht_video_vimeo_title.userData.textLines = [];
			me._ht_video_vimeo_title.userData.textLines.push(me._ht_video_vimeo_title.userData.ggText);
			me._ht_video_vimeo_title.userData.totalHeight = 21;
			me._ht_video_vimeo_title.userData.totalHeight += me._ht_video_vimeo_title.userData.lineHeight;
			me._ht_video_vimeo_title.userData.boxWidth = ctx.measureText(me._ht_video_vimeo_title.userData.ggText).width + 12;
			me._ht_video_vimeo_title.userData.boxHeight = me._ht_video_vimeo_title.userData.totalHeight;
			canv.width = me._ht_video_vimeo_title.userData.boxWidth;
			canv.height = me._ht_video_vimeo_title.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._ht_video_vimeo_title.userData.ggPaintCanvasText();
		}
		me._ht_video_vimeo_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_video_vimeo_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_video_vimeo_title.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_video_vimeo_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_vimeo_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_vimeo_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_video_vimeo_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_video_vimeo_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_video_vimeo_title";
		me._ht_video_vimeo_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_video_vimeo'] == true)) && 
				((player._(me.hotspot.title) != "")) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_vimeo_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_vimeo_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_vimeo_title.ggCurrentLogicStateVisible == 0) {
			me._ht_video_vimeo_title.visible=((!me._ht_video_vimeo_title.material && Number(me._ht_video_vimeo_title.userData.opacity>0)) || Number(me._ht_video_vimeo_title.material.opacity)>0)?true:false;
			me._ht_video_vimeo_title.userData.visible=true;
				}
				else {
			me._ht_video_vimeo_title.visible=false;
			me._ht_video_vimeo_title.userData.visible=false;
				}
			}
		}
		me._ht_video_vimeo_title.logicBlock_visible();
		me._ht_video_vimeo_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_vimeo.add(me._ht_video_vimeo_title);
		width = 0.26;
		height = 0.26;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_video_vimeo_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_vimeo_bg_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.26;
		height = 0.26;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.13, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.13, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.13, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'ht_video_vimeo_bg_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(0,0,0,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'ht_video_vimeo_bg_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'ht_video_vimeo_bg_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_vimeo_bg.material.opacity = v * me._ht_video_vimeo_bg.userData.backgroundColorAlpha;
			me._ht_video_vimeo_bg.userData.border.material.opacity = v * me._ht_video_vimeo_bg.userData.borderColorAlpha;
			if (me._ht_video_vimeo_bg.userData.ggSubElement) {
				me._ht_video_vimeo_bg.userData.ggSubElement.material.opacity = v
				me._ht_video_vimeo_bg.userData.ggSubElement.visible = (v>0 && me._ht_video_vimeo_bg.userData.visible);
			}
			me._ht_video_vimeo_bg.visible = (v>0 && me._ht_video_vimeo_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_vimeo_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_vimeo_bg.userData.backgroundColorAlpha = v;
			me._ht_video_vimeo_bg.userData.setOpacity(me._ht_video_vimeo_bg.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._ht_video_vimeo_bg.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._ht_video_vimeo_bg.userData.borderColorAlpha = v;
			me._ht_video_vimeo_bg.userData.setOpacity(me._ht_video_vimeo_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 26;
		el.userData.height = 26;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_vimeo_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo_bg.visible
			let parentEl = me._ht_video_vimeo_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo_bg.userData.opacity = v;
			v = v * me._ht_video_vimeo_bg.userData.parentOpacity;
			me._ht_video_vimeo_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_bg.children.length; i++) {
				let child = me._ht_video_vimeo_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo_bg.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo_bg.userData.opacity
			me._ht_video_vimeo_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_bg.children.length; i++) {
				let child = me._ht_video_vimeo_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo_bg = el;
		el.userData.ggId="ht_video_vimeo_bg";
		me._ht_video_vimeo_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_vimeo_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_vimeo_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_vimeo_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_video_vimeo_bg.visible=false;
			me._ht_video_vimeo_bg.userData.visible=false;
				}
				else {
			me._ht_video_vimeo_bg.visible=((!me._ht_video_vimeo_bg.material && Number(me._ht_video_vimeo_bg.userData.opacity>0)) || Number(me._ht_video_vimeo_bg.material.opacity)>0)?true:false;
			me._ht_video_vimeo_bg.userData.visible=true;
				}
			}
		}
		me._ht_video_vimeo_bg.logicBlock_visible();
		me._ht_video_vimeo_bg.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['ht_video_vimeo_bg'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._ht_video_vimeo_bg.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._ht_video_vimeo_bg.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._ht_video_vimeo_bg.ggCurrentLogicStateBackgroundColor == 0) {
					me._ht_video_vimeo_bg.userData.setBackgroundColor(new THREE.Color('#4d4d4d'));
					me._ht_video_vimeo_bg.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._ht_video_vimeo_bg.userData.setBackgroundColor(new THREE.Color('#3d3d3d'));
					me._ht_video_vimeo_bg.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._ht_video_vimeo_bg.logicBlock_backgroundcolor();
		me._ht_video_vimeo_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_video_vimeo_bg']=true;
			me._ht_video_vimeo_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_vimeo_bg.userData.ontouchend=function (e) {
			me._ht_video_vimeo_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_vimeo_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_video_vimeo_bg']=false;
			me._ht_video_vimeo_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_vimeo_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_video_vimeo_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABr0lEQVR4nO3Wr29TURQH8O+5gVROdEHcm+LmEJA0CASOiYXgJkFsIXMDBBI3HAGaoBbcpmYJBuSCIPwJyOaea0gFpg1pdyb4EehWlvSdR/rY9+Pa9+733nxf7+0DiIiIiIiIiIiIiIjODakaoKovPRYyzczeppTe/+2enPNqSuldlXkuVBn8wwOHjBNE5AuAUwvo9/srIYTnInIbFR+iRwH/zGAwWBoOh09EZBvARY/MRhRgZqGUsjkajXZE5JJndh0FPJpz3BqAW9NfqurNUkoPwNVKq5rBvYAY41yHoqou488CLuecDwCsuyxshkXeAvdFKv9JnSnUPoMfA7DnHdqUAj6FEG7EGO95BzelABmPx7Xsh0U+A37XDSF8UNV97+Cm/AKA7298d71DF7'+
	'mAXTM7qHsS9y2gqg/nHHp96nM/pbSlqq8A9ABcq7ay09VxBrzwDIsxHppZt5SyAeApANdX4UXeAr+IyFGM8XWr1Voxs2cAvnllN6KAn9rt9teU0uPJZHJFRN54ZHpsgZ5Dxglm9nHWtU6n8xnAnZzzah1zExERERERERERERH9p44BK0tn0rzz+hAAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_video_vimeo_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_vimeo_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_vimeo_icon.material) me._ht_video_vimeo_icon.material.opacity = v;
			me._ht_video_vimeo_icon.visible = (v>0 && me._ht_video_vimeo_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo_icon.visible
			let parentEl = me._ht_video_vimeo_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo_icon.userData.opacity = v;
			v = v * me._ht_video_vimeo_icon.userData.parentOpacity;
			me._ht_video_vimeo_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_icon.children.length; i++) {
				let child = me._ht_video_vimeo_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo_icon.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo_icon.userData.opacity
			me._ht_video_vimeo_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_icon.children.length; i++) {
				let child = me._ht_video_vimeo_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABoklEQVR4nO3WsUrDUBgF4PM33dv03oKTg4tQcPANFMVFEfEBBAcRX8FF6+IkKiI4uDkLKj6Am7s4dhahN3bRwUF+hzpISRGaP5Lo+bYk3HMvJ7mXAERERERERERERERE/4ZkDfDen1ksJMVtCOH2h7mXQwg3WSapZhn8ZdMgI80zgNQCGo1GK4qiQ1VdQMaXaFHAr6nVanG1Wm2LyJaqmqy9LAVEzrnNSqWyp6rOMjiPArZGHLcEYHHwpvd+VlWPRWRKVbOtLIV5ASGEkQ5F7/0YvhWgquPNZvNSVVdFMp/VQxV2C4jIeh5vfFAl9xlsXVsHlqWAB1WdCyGsWAeXpYAPAG95BBf2DBgwLSL33vtz6+CyfAFA/49vwzq0sAWo6omInKL/+efGfAt473'+
	'dHHDrz/UJEXrrd7m4cx2dRFB0BmMu6tjR5nAE7lmG9Xu8RwLxzbkVEDgBMWOYXdgsMSpLkql6vt1R1G8CrVW5pCgCATqfzniTJPoBJABcAMv8qWmyBtkFGmrthD0IITwDWnHOnOc1NRERERERERERERPQXfQLZEGNpTNchBgAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_video_vimeo_icon_materialOver';
		el.userData.ggId="ht_video_vimeo_icon";
		me._ht_video_vimeo_icon.userData.onmouseover=function (e) {
			me._ht_video_vimeo_icon.material = me._ht_video_vimeo_icon.userData.materialOver;
			me.elementMouseOver['ht_video_vimeo_icon']=true;
		}
		me._ht_video_vimeo_icon.userData.onmouseout=function (e) {
			me._ht_video_vimeo_icon.material = me._ht_video_vimeo_icon.userData.materialNormal;
			me.elementMouseOver['ht_video_vimeo_icon']=false;
		}
		me._ht_video_vimeo_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_vimeo_bg.add(me._ht_video_vimeo_icon);
		me._ht_video_vimeo.add(me._ht_video_vimeo_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_vimeo_custom_image.userData.ggSubElement) {
				me._ht_video_vimeo_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_video_vimeo_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_video_vimeo_custom_image.userData.visible);
			}
			me._ht_video_vimeo_custom_image.visible = (v>0 && me._ht_video_vimeo_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_vimeo_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_vimeo_custom_image.visible
			let parentEl = me._ht_video_vimeo_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_vimeo_custom_image.userData.opacity = v;
			v = v * me._ht_video_vimeo_custom_image.userData.parentOpacity;
			me._ht_video_vimeo_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_custom_image.children.length; i++) {
				let child = me._ht_video_vimeo_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_vimeo_custom_image.userData.parentOpacity = v;
			v = v * me._ht_video_vimeo_custom_image.userData.opacity
			me._ht_video_vimeo_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_vimeo_custom_image.children.length; i++) {
				let child = me._ht_video_vimeo_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_vimeo_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_video_vimeo_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_video_vimeo_custom_image_subElementMaterial';
				me._ht_video_vimeo_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_video_vimeo_custom_image.userData.ggUpdatePosition();
				me._ht_video_vimeo_custom_image.userData.ggText = extUrl;
				me._ht_video_vimeo_custom_image.userData.setOpacity(me._ht_video_vimeo_custom_image.userData.opacity);
			});
		};
		var extUrl=basePath + "_custom";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_video_vimeo_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_video_vimeo_custom_image_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_video_vimeo_custom_image";
		me._ht_video_vimeo_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_vimeo_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_vimeo_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_vimeo_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_video_vimeo_custom_image.visible=((!me._ht_video_vimeo_custom_image.material && Number(me._ht_video_vimeo_custom_image.userData.opacity>0)) || Number(me._ht_video_vimeo_custom_image.material.opacity)>0)?true:false;
			me._ht_video_vimeo_custom_image.userData.visible=true;
				}
				else {
			me._ht_video_vimeo_custom_image.visible=false;
			me._ht_video_vimeo_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_video_vimeo_custom_image.logicBlock_visible();
		me._ht_video_vimeo_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_video_vimeo_custom_image.userData.clientWidth;
			var parentHeight = me._ht_video_vimeo_custom_image.userData.clientHeight;
			var img = me._ht_video_vimeo_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			currentWidth = imgWidth;
			currentHeight = imgHeight;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_video_vimeo_custom_image_imgGeometry';
		}
		me._ht_video_vimeo.add(me._ht_video_vimeo_custom_image);
		me._ht_video_vimeo.logicBlock_visible();
		me._ht_video_vimeo.userData.setOpacity(1.00);
		me._ht_video_vimeo_title.logicBlock_visible();
		me._ht_video_vimeo_title.userData.setOpacity(1.00);
		me._ht_video_vimeo_bg.logicBlock_visible();
		me._ht_video_vimeo_bg.logicBlock_backgroundcolor();
		me._ht_video_vimeo_bg.userData.setOpacity(1.00);
		me._ht_video_vimeo_icon.userData.setOpacity(1.00);
		me._ht_video_vimeo_custom_image.logicBlock_visible();
		me._ht_video_vimeo_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_video_vimeo_title.logicBlock_visible();
				me._ht_video_vimeo_bg.logicBlock_visible();
				me._ht_video_vimeo_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_video_vimeo.logicBlock_visible();
				me._ht_video_vimeo_title.logicBlock_visible();
				me._ht_video_vimeo_bg.logicBlock_visible();
				me._ht_video_vimeo_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_video_vimeo.logicBlock_visible();
				me._ht_video_vimeo_title.logicBlock_visible();
				me._ht_video_vimeo_bg.logicBlock_visible();
				me._ht_video_vimeo_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_video_vimeo.logicBlock_visible();
			};
			me.__obj = me._ht_video_vimeo;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	function SkinHotspotClass_ht_video_youtube(parentScope,hotspot) {
		var me=this;
		var flag=false;
		var hs='';
		me.parentScope=parentScope;
		me.hotspot=hotspot;
		var nodeId=String(hotspot.url);
		nodeId=(nodeId.charAt(0)=='{')?nodeId.substr(1, nodeId.length - 2):''; // }
		me.ggUserdata=skin.player.getNodeUserdata(nodeId);
		me.ggUserdata.nodeId=nodeId;
		me.elementMouseDown={};
		me.elementMouseOver={};
		me.findElements=function(id,regex) {
			return skin.findElements(id,regex);
		}
		el = new THREE.Group();
		el.userData.setOpacityInternal = function(v) {};
		el.name = 'ht_video_youtube';
		el.userData.x = 1.14;
		el.userData.y = 1.14;
		el.userData.hanchor = 0;
		el.userData.vanchor = 0;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube.visible
			let parentEl = me._ht_video_youtube.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube.userData.opacity = v;
			v = v * me._ht_video_youtube.userData.parentOpacity;
			me._ht_video_youtube.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube.children.length; i++) {
				let child = me._ht_video_youtube.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube.userData.parentOpacity = v;
			v = v * me._ht_video_youtube.userData.opacity
			me._ht_video_youtube.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube.children.length; i++) {
				let child = me._ht_video_youtube.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube = el;
		el.userData.ggId="ht_video_youtube";
		el.userData.ggElementNodeId=function() {
			if (me.hotspot.url!='' && me.hotspot.url.charAt(0)=='{') { // }
				return me.hotspot.url.substr(1, me.hotspot.url.length - 2);
			} else {
				if ((this.parentNode) && (this.parentNode.userData.ggElementNodeId)) {
					return this.parentNode.userData.ggElementNodeId();
				} else {
					return player.getCurrentNode();
				}
			}
		}
		me._ht_video_youtube.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((player.getVariableValue('vis_skin') == true))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_youtube.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_youtube.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_youtube.ggCurrentLogicStateVisible == 0) {
			me._ht_video_youtube.visible=((!me._ht_video_youtube.material && Number(me._ht_video_youtube.userData.opacity>0)) || Number(me._ht_video_youtube.material.opacity)>0)?true:false;
			me._ht_video_youtube.userData.visible=true;
				}
				else {
			me._ht_video_youtube.visible=false;
			me._ht_video_youtube.userData.visible=false;
				}
			}
		}
		me._ht_video_youtube.logicBlock_visible();
		me._ht_video_youtube.userData.onclick=function (e) {
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_video_youtube_hs_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				skin._video_youtube_hs_popup_vid.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
					skin._video_hs_popup_title.userData.ggUpdateText=function(force) {
						var params = [];
						params.push(player._(String(player._(me.hotspot.title))));
						var hs = player._("%1", params);
						if (hs!=this.ggText || force) {
							this.ggText=skin._video_hs_popup_title.userData.ggStripTags(hs);
							this.ggRenderText();
						}
					}
				skin._video_hs_popup_title.userData.ggUpdateText();
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_map_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_floorplan_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_thumbnails_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_image_hs_popup_full', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_pdf_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == false))
				)
			) {
				player.setVariableValue('vis_url_hs_popup', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_popup', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_youtube', true);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				skin._youtube_popup_phone.userData.ggInitMedia(player._(me.hotspot.url));
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_thumbs', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_info', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_image', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_map', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_floorplan', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_pdf', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_vimeo', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_file', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_phone_video_url', false);
			}
			if (
				(
					((player.getVariableValue('resp_phone') == true))
				)
			) {
				player.setVariableValue('vis_share', false);
			}
			player.triggerEvent('hsproxyclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_youtube.userData.ondblclick=function (e) {
			player.triggerEvent('hsproxydblclick', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_youtube.userData.onmouseover=function (e) {
			player.setActiveHotspot(me.hotspot);
			me.elementMouseOver['ht_video_youtube']=true;
			me._ht_video_youtube_title.logicBlock_visible();
			player.triggerEvent('hsproxyover', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_youtube.userData.onmouseout=function (e) {
			player.setActiveHotspot(null);
			me.elementMouseOver['ht_video_youtube']=false;
			me._ht_video_youtube_title.logicBlock_visible();
			player.triggerEvent('hsproxyout', {'id': me.hotspot.id, 'url': me.hotspot.url});
		}
		me._ht_video_youtube.userData.ggUpdatePosition=function (useTransition) {
		}
		width = 0.8;
		height = 0.35;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.08, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.08, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.08, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.08, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.08);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.08);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.08, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_video_youtube_title_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( {side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_youtube_title_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_youtube_title.material.opacity = v;
			if (me._ht_video_youtube_title.userData.hasScrollbar) {
				me._ht_video_youtube_title.userData.scrollbar.material.opacity = v;
				me._ht_video_youtube_title.userData.scrollbarBg.material.opacity = v;
			}
			if (me._ht_video_youtube_title.userData.ggSubElement) {
				me._ht_video_youtube_title.userData.ggSubElement.material.opacity = v
				me._ht_video_youtube_title.userData.ggSubElement.visible = (v>0 && me._ht_video_youtube_title.userData.visible);
			}
			me._ht_video_youtube_title.visible = (v>0 && me._ht_video_youtube_title.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_youtube_title.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_youtube_title.userData.backgroundColorAlpha = v;
			me._ht_video_youtube_title.userData.setOpacity(me._ht_video_youtube_title.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0.245);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 80;
		el.userData.height = 35;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_youtube_title';
		el.userData.x = 0;
		el.userData.y = 0.245;
		el.userData.hanchor = 1;
		el.userData.vanchor = 0;
		el.translateZ(0.010);
		el.renderOrder = 1;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube_title.visible
			let parentEl = me._ht_video_youtube_title.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube_title.userData.opacity = v;
			v = v * me._ht_video_youtube_title.userData.parentOpacity;
			me._ht_video_youtube_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_title.children.length; i++) {
				let child = me._ht_video_youtube_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube_title.userData.parentOpacity = v;
			v = v * me._ht_video_youtube_title.userData.opacity
			me._ht_video_youtube_title.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_title.children.length; i++) {
				let child = me._ht_video_youtube_title.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube_title = el;
		el.userData.textLines = [];
		el.userData.backgroundColor = new THREE.Color(0.0784314, 0.0784314, 0.0784314);
		el.userData.textColor = new THREE.Color(0.901961, 0.901961, 0.901961);
		el.userData.textColorAlpha = 1;
		var canvas = document.createElement('canvas');
		canvas.width = 80;
		canvas.height = 35;
		el.userData.textCanvas = canvas;
		el.userData.textCanvasContext = canvas.getContext('2d');
		el.userData.ggStripTags = function(text) {
			let doc = new DOMParser().parseFromString(text, 'text/html');
			return doc.body.textContent || '';
		}
		el.userData.ggWrapText = function(scrollbar) {
			me._ht_video_youtube_title.userData.totalHeight = 21;
			me._ht_video_youtube_title.userData.textLines = [];
			var ctx = me._ht_video_youtube_title.userData.textCanvasContext;
			var words = [];
			let tmpText = String(me._ht_video_youtube_title.userData.ggText);
			let whiteSpaceIndex = -1;
			do {
				whiteSpaceIndex = tmpText.search(/[\s]/);
				if (whiteSpaceIndex != -1) {
					words.push(tmpText.substr(0, whiteSpaceIndex));
					tmpText = tmpText.substr(whiteSpaceIndex);
					if (tmpText.charAt(0) == '\n') {
						words.push('\n');
					}
					tmpText = tmpText.substr(1);
				} else {
					words.push(tmpText);
				}
			} while (whiteSpaceIndex != -1);
			var line = '';
			for (var i = 0; i < words.length; i++) {
				if (words[i] == '\n') {
					me._ht_video_youtube_title.userData.textLines.push(line);
					line = '';
					me._ht_video_youtube_title.userData.totalHeight += me._ht_video_youtube_title.userData.lineHeight;
					continue;
				}
				var testLine;
				if (line == '') {
					testLine = words[i]
				} else {
					testLine = line + ' ' + words[i];
				}
				var metrics = ctx.measureText(testLine);
				var testWidth = metrics.width;
				if (testWidth > (me._ht_video_youtube_title.userData.width - 16 - (scrollbar ? 25 : 0)) && i > 0) {
					me._ht_video_youtube_title.userData.textLines.push(line);
					line = words[i];
					me._ht_video_youtube_title.userData.totalHeight += me._ht_video_youtube_title.userData.lineHeight;
				} else {
					line = testLine;
				}
			}
			me._ht_video_youtube_title.userData.textLines.push(line);
			me._ht_video_youtube_title.userData.totalHeight += me._ht_video_youtube_title.userData.lineHeight;
		}
		el.userData.ggPaintCanvasText = function() {
			var canv = me._ht_video_youtube_title.userData.textCanvas;
			var ctx = me._ht_video_youtube_title.userData.textCanvasContext;
			ctx.clearRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_youtube_title.userData.backgroundColor.r * 255 + ', ' + me._ht_video_youtube_title.userData.backgroundColor.g * 255 + ', ' + me._ht_video_youtube_title.userData.backgroundColor.b * 255 + ', ' + me._ht_video_youtube_title.userData.backgroundColorAlpha + ')';
			ctx.fillRect(0, 0, canv.width, canv.height);
			ctx.fillStyle = 'rgba(' + me._ht_video_youtube_title.userData.textColor.r * 255 + ', ' + me._ht_video_youtube_title.userData.textColor.g * 255 + ', ' + me._ht_video_youtube_title.userData.textColor.b * 255 + ', ' + me._ht_video_youtube_title.userData.textColorAlpha + ')';
			ctx.textBaseline = 'top';
			var x = (me._ht_video_youtube_title.userData.boxWidth - (me._ht_video_youtube_title.userData.hasScrollbar ? 25 : 0)) / 2;
			ctx.textAlign = 'center';
			var y = 9;
			for (var i = 0; i < me._ht_video_youtube_title.userData.textLines.length; i++) {
				ctx.fillText(me._ht_video_youtube_title.userData.textLines[i], x, y);
				y += me._ht_video_youtube_title.userData.lineHeight;
			}
			geometry = new THREE.PlaneBufferGeometry(me._ht_video_youtube_title.userData.boxWidth / 100.0, me._ht_video_youtube_title.userData.boxHeight / 100.0, 5, 5 );
			geometry.name = 'ht_video_youtube_title_geometry';
			me._ht_video_youtube_title.geometry.dispose();
			me._ht_video_youtube_title.geometry = geometry;
			var diffY = me._ht_video_youtube_title.userData.boxHeight - me._ht_video_youtube_title.userData.height;
			me._ht_video_youtube_title.position.y = me._ht_video_youtube_title.userData.y - ((diffY / 2.0) / 100.0);
			var textTexture = new THREE.CanvasTexture(canv);
			textTexture.name = 'ht_video_youtube_title_texture';
			textTexture.minFilter = THREE.LinearFilter;
			textTexture.encoding = THREE.sRGBEncoding;
			textTexture.wrapS = THREE.ClampToEdgeWrapping;
			textTexture.wrapT = THREE.ClampToEdgeWrapping;
			if (me._ht_video_youtube_title.material.map) {
				me._ht_video_youtube_title.material.map.dispose();
			}
			me._ht_video_youtube_title.material.map = textTexture;
		}
		el.userData.ggRenderText = function() {
			me._ht_video_youtube_title.remove(...me._ht_video_youtube_title.children);
			var canv = me._ht_video_youtube_title.userData.textCanvas;
			var ctx = me._ht_video_youtube_title.userData.textCanvasContext;
			ctx.font = '16px Verdana';
			me._ht_video_youtube_title.userData.lineHeight = 16 * 1.2;
			me._ht_video_youtube_title.userData.textLines = [];
			me._ht_video_youtube_title.userData.textLines.push(me._ht_video_youtube_title.userData.ggText);
			me._ht_video_youtube_title.userData.totalHeight = 21;
			me._ht_video_youtube_title.userData.totalHeight += me._ht_video_youtube_title.userData.lineHeight;
			me._ht_video_youtube_title.userData.boxWidth = ctx.measureText(me._ht_video_youtube_title.userData.ggText).width + 12;
			me._ht_video_youtube_title.userData.boxHeight = me._ht_video_youtube_title.userData.totalHeight;
			canv.width = me._ht_video_youtube_title.userData.boxWidth;
			canv.height = me._ht_video_youtube_title.userData.boxHeight;
			ctx.font = '16px Verdana';
			me._ht_video_youtube_title.userData.ggPaintCanvasText();
		}
		me._ht_video_youtube_title.userData.ggUpdateText=function(force) {
			var params = [];
			params.push(player._(String(player._(me.hotspot.title))));
			var hs = player._("%1", params);
			if (hs!=this.ggText || force) {
				this.ggText=me._ht_video_youtube_title.userData.ggStripTags(hs);
				this.ggRenderText();
			}
		}
		me._ht_video_youtube_title.userData.ggUpdateText();
		player.addListener('changenode', function() {
			me._ht_video_youtube_title.userData.ggUpdateText();
		});
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_youtube_title.userData.backgroundColor = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_youtube_title.userData.backgroundColorAlpha = v;
		}
		el.userData.setTextColor = function(v) {
			me._ht_video_youtube_title.userData.textColor = v;
		}
		el.userData.setTextColorAlpha = function(v) {
			me._ht_video_youtube_title.userData.textColorAlpha = v;
		}
		el.userData.ggId="ht_video_youtube_title";
		me._ht_video_youtube_title.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.elementMouseOver['ht_video_youtube'] == true)) && 
				((player._(me.hotspot.title) != "")) && 
				((me.hotspot.customimage == ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_youtube_title.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_youtube_title.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_youtube_title.ggCurrentLogicStateVisible == 0) {
			me._ht_video_youtube_title.visible=((!me._ht_video_youtube_title.material && Number(me._ht_video_youtube_title.userData.opacity>0)) || Number(me._ht_video_youtube_title.material.opacity)>0)?true:false;
			me._ht_video_youtube_title.userData.visible=true;
				}
				else {
			me._ht_video_youtube_title.visible=false;
			me._ht_video_youtube_title.userData.visible=false;
				}
			}
		}
		me._ht_video_youtube_title.logicBlock_visible();
		me._ht_video_youtube_title.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_youtube.add(me._ht_video_youtube_title);
		width = 0.26;
		height = 0.26;
		roundedRectShape = new THREE.Shape();
		roundedRectShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		roundedRectShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		roundedRectShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		roundedRectShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		roundedRectShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		roundedRectShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		roundedRectShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		geometry = new THREE.ShapeGeometry(roundedRectShape);
		geometry.name = 'ht_video_youtube_bg_geometry';
		geometry.computeBoundingBox();
		var min = geometry.boundingBox.min;
		var max = geometry.boundingBox.max;
		var offset = new THREE.Vector2(0 - min.x, 0 - min.y);
		var range = new THREE.Vector2(max.x - min.x, max.y - min.y);
		var vertexPositions = geometry.getAttribute('position');
		var vertexUVs = geometry.getAttribute('uv');
		for (var i = 0; i < vertexPositions.count; i++) {
			var v1 = vertexPositions.getX(i);
			var	v2 = vertexPositions.getY(i);
			vertexUVs.setX(i, (v1 + offset.x) / range.x);
			vertexUVs.setY(i, (v2 + offset.y) / range.y);
		}
		geometry.uvsNeedUpdate = true;
		material = new THREE.MeshBasicMaterial( { color: new THREE.Color('rgba(61,61,61,1)').convertSRGBToLinear(), side : THREE.DoubleSide, transparent : true } ); 
		material.name = 'ht_video_youtube_bg_material';
		el = new THREE.Mesh( geometry, material );
		width = 0.26;
		height = 0.26;
		borderShape = new THREE.Shape();
		borderShape.moveTo((width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		borderShape.lineTo((width / 2.0) + 0.04 - 0.13, (height / 2.0) + 0.04);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (height / 2.0) + 0.04, (width / 2.0) + 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.lineTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.quadraticCurveTo((width / 2.0) + 0.04, (-height / 2.0) - 0.04, (width / 2.0) + 0.04 - 0.13, (-height / 2.0) - 0.04);
		borderShape.lineTo((-width / 2.0) - 0.04 + 0.13, (-height / 2.0) - 0.04);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (-height / 2.0) - 0.04, (-width / 2.0) - 0.04, (-height / 2.0) - 0.04 + 0.13);
		borderShape.lineTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04 - 0.13);
		borderShape.quadraticCurveTo((-width / 2.0) - 0.04, (height / 2.0) + 0.04, (-width / 2.0) - 0.04 + 0.13, (height / 2.0) + 0.04);
		innerShape = new THREE.Path();
		innerShape.moveTo((-width / 2.0) + 0.09, (height / 2.0));
		innerShape.lineTo((width / 2.0) - 0.09, (height / 2.0));
		innerShape.quadraticCurveTo((width / 2.0), (height / 2.0), (width / 2.0), (height / 2.0) - 0.09);
		innerShape.lineTo((width / 2.0), (-height / 2.0) + 0.09);
		innerShape.quadraticCurveTo((width / 2.0), (-height / 2.0), (width / 2.0) - 0.09, (-height / 2.0));
		innerShape.lineTo((-width / 2.0) + 0.09, (-height / 2.0));
		innerShape.quadraticCurveTo((-width / 2.0), (-height / 2.0), (-width / 2.0), (-height / 2.0) + 0.09);
		innerShape.lineTo((-width / 2.0), (height / 2.0) - 0.09);
		innerShape.quadraticCurveTo((-width / 2.0), (height / 2.0), (-width / 2.0) + 0.09, (height / 2.0));
		borderShape.holes.push(innerShape);
		borderGeometry = new THREE.ShapeGeometry(borderShape);
		borderGeometry.name = 'ht_video_youtube_bg_borderGeometry';
		borderMaterial = new THREE.MeshBasicMaterial( {color: new THREE.Color('rgba(0,0,0,1)').convertSRGBToLinear() , side: THREE.DoubleSide, transparent: true } );
		borderMaterial.name = 'ht_video_youtube_bg_borderMaterial';
		el.userData.border = new THREE.Mesh( borderGeometry, borderMaterial );
		el.userData.border.name = 'ht_video_youtube_bg_borderMesh';
		el.add(el.userData.border);
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			me._ht_video_youtube_bg.material.opacity = v * me._ht_video_youtube_bg.userData.backgroundColorAlpha;
			me._ht_video_youtube_bg.userData.border.material.opacity = v * me._ht_video_youtube_bg.userData.borderColorAlpha;
			if (me._ht_video_youtube_bg.userData.ggSubElement) {
				me._ht_video_youtube_bg.userData.ggSubElement.material.opacity = v
				me._ht_video_youtube_bg.userData.ggSubElement.visible = (v>0 && me._ht_video_youtube_bg.userData.visible);
			}
			me._ht_video_youtube_bg.visible = (v>0 && me._ht_video_youtube_bg.userData.visible);
		}
		el.userData.setBackgroundColor = function(v) {
			me._ht_video_youtube_bg.material.color = v;
		}
		el.userData.setBackgroundColorAlpha = function(v) {
			me._ht_video_youtube_bg.userData.backgroundColorAlpha = v;
			me._ht_video_youtube_bg.userData.setOpacity(me._ht_video_youtube_bg.userData.opacity);
		}
		el.userData.setBorderColor = function(v) {
			me._ht_video_youtube_bg.userData.border.material.color = v;
		}
		el.userData.setBorderColorAlpha = function(v) {
			me._ht_video_youtube_bg.userData.borderColorAlpha = v;
			me._ht_video_youtube_bg.userData.setOpacity(me._ht_video_youtube_bg.userData.opacity);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 26;
		el.userData.height = 26;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_youtube_bg';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.020);
		el.renderOrder = 2;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube_bg.visible
			let parentEl = me._ht_video_youtube_bg.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube_bg.userData.opacity = v;
			v = v * me._ht_video_youtube_bg.userData.parentOpacity;
			me._ht_video_youtube_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_bg.children.length; i++) {
				let child = me._ht_video_youtube_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube_bg.userData.parentOpacity = v;
			v = v * me._ht_video_youtube_bg.userData.opacity
			me._ht_video_youtube_bg.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_bg.children.length; i++) {
				let child = me._ht_video_youtube_bg.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube_bg = el;
		el.userData.ggId="ht_video_youtube_bg";
		me._ht_video_youtube_bg.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_youtube_bg.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_youtube_bg.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_youtube_bg.ggCurrentLogicStateVisible == 0) {
			me._ht_video_youtube_bg.visible=false;
			me._ht_video_youtube_bg.userData.visible=false;
				}
				else {
			me._ht_video_youtube_bg.visible=((!me._ht_video_youtube_bg.material && Number(me._ht_video_youtube_bg.userData.opacity>0)) || Number(me._ht_video_youtube_bg.material.opacity)>0)?true:false;
			me._ht_video_youtube_bg.userData.visible=true;
				}
			}
		}
		me._ht_video_youtube_bg.logicBlock_visible();
		me._ht_video_youtube_bg.logicBlock_backgroundcolor = function() {
			var newLogicStateBackgroundColor;
			if (
				((me.elementMouseOver['ht_video_youtube_bg'] == true))
			)
			{
				newLogicStateBackgroundColor = 0;
			}
			else {
				newLogicStateBackgroundColor = -1;
			}
			if (me._ht_video_youtube_bg.ggCurrentLogicStateBackgroundColor != newLogicStateBackgroundColor) {
				me._ht_video_youtube_bg.ggCurrentLogicStateBackgroundColor = newLogicStateBackgroundColor;
				if (me._ht_video_youtube_bg.ggCurrentLogicStateBackgroundColor == 0) {
					me._ht_video_youtube_bg.userData.setBackgroundColor(new THREE.Color('#4d4d4d'));
					me._ht_video_youtube_bg.userData.setBackgroundColorAlpha(1);
				}
				else {
					me._ht_video_youtube_bg.userData.setBackgroundColor(new THREE.Color('#3d3d3d'));
					me._ht_video_youtube_bg.userData.setBackgroundColorAlpha(1);
				}
			}
		}
		me._ht_video_youtube_bg.logicBlock_backgroundcolor();
		me._ht_video_youtube_bg.userData.onmouseover=function (e) {
			me.elementMouseOver['ht_video_youtube_bg']=true;
			me._ht_video_youtube_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_youtube_bg.userData.ontouchend=function (e) {
			me._ht_video_youtube_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_youtube_bg.userData.onmouseout=function (e) {
			me.elementMouseOver['ht_video_youtube_bg']=false;
			me._ht_video_youtube_bg.logicBlock_backgroundcolor();
		}
		me._ht_video_youtube_bg.userData.ggUpdatePosition=function (useTransition) {
		}
		geometry = new THREE.PlaneBufferGeometry(0.32, 0.32, 5, 5 );
		geometry.name = 'ht_video_youtube_icon_geometry';
		loader = new THREE.TextureLoader();
		texture = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABr0lEQVR4nO3Wr29TURQH8O+5gVROdEHcm+LmEJA0CASOiYXgJkFsIXMDBBI3HAGaoBbcpmYJBuSCIPwJyOaea0gFpg1pdyb4EehWlvSdR/rY9+Pa9+733nxf7+0DiIiIiIiIiIiIiIjODakaoKovPRYyzczeppTe/+2enPNqSuldlXkuVBn8wwOHjBNE5AuAUwvo9/srIYTnInIbFR+iRwH/zGAwWBoOh09EZBvARY/MRhRgZqGUsjkajXZE5JJndh0FPJpz3BqAW9NfqurNUkoPwNVKq5rBvYAY41yHoqou488CLuecDwCsuyxshkXeAvdFKv9JnSnUPoMfA7DnHdqUAj6FEG7EGO95BzelABmPx7Xsh0U+A37XDSF8UNV97+Cm/AKA7298d71DF7'+
	'mAXTM7qHsS9y2gqg/nHHp96nM/pbSlqq8A9ABcq7ay09VxBrzwDIsxHppZt5SyAeApANdX4UXeAr+IyFGM8XWr1Voxs2cAvnllN6KAn9rt9teU0uPJZHJFRN54ZHpsgZ5Dxglm9nHWtU6n8xnAnZzzah1zExERERERERERERH9p44BK0tn0rzz+hAAAAAASUVORK5CYII=');
		material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
		material.name = 'ht_video_youtube_icon_material';
		el = new THREE.Mesh( geometry, material );
		el.userData.materialNormal = material;
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 32;
		el.userData.height = 32;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_youtube_icon';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_youtube_icon.material) me._ht_video_youtube_icon.material.opacity = v;
			me._ht_video_youtube_icon.visible = (v>0 && me._ht_video_youtube_icon.userData.visible);
		}
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube_icon.visible
			let parentEl = me._ht_video_youtube_icon.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube_icon.userData.opacity = v;
			v = v * me._ht_video_youtube_icon.userData.parentOpacity;
			me._ht_video_youtube_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_icon.children.length; i++) {
				let child = me._ht_video_youtube_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube_icon.userData.parentOpacity = v;
			v = v * me._ht_video_youtube_icon.userData.opacity
			me._ht_video_youtube_icon.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_icon.children.length; i++) {
				let child = me._ht_video_youtube_icon.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = true;
		el.userData.visible = true;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube_icon = el;
		textureOver = loader.load('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABoklEQVR4nO3WsUrDUBgF4PM33dv03oKTg4tQcPANFMVFEfEBBAcRX8FF6+IkKiI4uDkLKj6Am7s4dhahN3bRwUF+hzpISRGaP5Lo+bYk3HMvJ7mXAERERERERERERERE/4ZkDfDen1ksJMVtCOH2h7mXQwg3WSapZhn8ZdMgI80zgNQCGo1GK4qiQ1VdQMaXaFHAr6nVanG1Wm2LyJaqmqy9LAVEzrnNSqWyp6rOMjiPArZGHLcEYHHwpvd+VlWPRWRKVbOtLIV5ASGEkQ5F7/0YvhWgquPNZvNSVVdFMp/VQxV2C4jIeh5vfFAl9xlsXVsHlqWAB1WdCyGsWAeXpYAPAG95BBf2DBgwLSL33vtz6+CyfAFA/49vwzq0sAWo6omInKL/+efGfAt473'+
	'dHHDrz/UJEXrrd7m4cx2dRFB0BmMu6tjR5nAE7lmG9Xu8RwLxzbkVEDgBMWOYXdgsMSpLkql6vt1R1G8CrVW5pCgCATqfzniTJPoBJABcAMv8qWmyBtkFGmrthD0IITwDWnHOnOc1NRERERERERERERPQXfQLZEGNpTNchBgAAAABJRU5ErkJggg==');
		el.userData.materialOver = new THREE.MeshBasicMaterial( {map: textureOver, side: THREE.DoubleSide, transparent: true} );
		el.userData.materialOver.name = 'ht_video_youtube_icon_materialOver';
		el.userData.ggId="ht_video_youtube_icon";
		me._ht_video_youtube_icon.userData.onmouseover=function (e) {
			me._ht_video_youtube_icon.material = me._ht_video_youtube_icon.userData.materialOver;
			me.elementMouseOver['ht_video_youtube_icon']=true;
		}
		me._ht_video_youtube_icon.userData.onmouseout=function (e) {
			me._ht_video_youtube_icon.material = me._ht_video_youtube_icon.userData.materialNormal;
			me.elementMouseOver['ht_video_youtube_icon']=false;
		}
		me._ht_video_youtube_icon.userData.ggUpdatePosition=function (useTransition) {
		}
		me._ht_video_youtube_bg.add(me._ht_video_youtube_icon);
		me._ht_video_youtube.add(me._ht_video_youtube_bg);
		el = new THREE.Group();
		el.userData.backgroundColorAlpha = 1;
		el.userData.borderColorAlpha = 1;
		el.userData.setOpacityInternal = function(v) {
			if (me._ht_video_youtube_custom_image.userData.ggSubElement) {
				me._ht_video_youtube_custom_image.userData.ggSubElement.material.opacity = v
				me._ht_video_youtube_custom_image.userData.ggSubElement.visible = (v>0 && me._ht_video_youtube_custom_image.userData.visible);
			}
			me._ht_video_youtube_custom_image.visible = (v>0 && me._ht_video_youtube_custom_image.userData.visible);
		}
		el.translateX(0);
		el.translateY(0);
		el.scale.set(1.00, 1.00, 1.0);
		el.userData.width = 50;
		el.userData.height = 50;
		el.userData.scale = {x: 1.00, y: 1.00, z: 1.0};
		el.userData.curScaleOffX = 0;
		el.userData.curScaleOffY = 0;
		el.name = 'ht_video_youtube_custom_image';
		el.userData.x = 0;
		el.userData.y = 0;
		el.userData.hanchor = 1;
		el.userData.vanchor = 1;
		el.translateZ(0.030);
		el.renderOrder = 3;
		el.rotateZ(0.00);
		el.userData.angle = 0.00;
		el.userData.isVisible = function() {
			let vis = me._ht_video_youtube_custom_image.visible
			let parentEl = me._ht_video_youtube_custom_image.parent;
			while (vis && parentEl) {
				if (!parentEl.visible) {
					vis = false;
					break;
				}
				parentEl = parentEl.parent;
			}
			return vis;
		}
		el.userData.setOpacity = function(v) {
			me._ht_video_youtube_custom_image.userData.opacity = v;
			v = v * me._ht_video_youtube_custom_image.userData.parentOpacity;
			me._ht_video_youtube_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_custom_image.children.length; i++) {
				let child = me._ht_video_youtube_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.userData.setParentOpacity = function(v) {
			me._ht_video_youtube_custom_image.userData.parentOpacity = v;
			v = v * me._ht_video_youtube_custom_image.userData.opacity
			me._ht_video_youtube_custom_image.userData.setOpacityInternal(v);
			for (let i = 0; i < me._ht_video_youtube_custom_image.children.length; i++) {
				let child = me._ht_video_youtube_custom_image.children[i];
				if (child.userData.setParentOpacity) {
					child.userData.setParentOpacity(v);
				}
			};
		}
		el.visible = false;
		el.userData.visible = false;
		el.userData.opacity = 1.00;
		el.userData.parentOpacity = 1.0;
		el.userData.transitions = [];
		me._ht_video_youtube_custom_image = el;
		currentWidth = 50;
		currentHeight = 50;
		var img = {};
		img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
		img.geometry.name = 'ht_video_youtube_custom_image_imgGeometry';
		loader = new THREE.TextureLoader();
		el.userData.ggSetUrl = function(extUrl) {
			loader.load(extUrl,
				function (texture) {
				var loadedMaterial = new THREE.MeshBasicMaterial( {map: texture, side: THREE.DoubleSide, transparent: true} );
				loadedMaterial.name = 'ht_video_youtube_custom_image_subElementMaterial';
				me._ht_video_youtube_custom_image.userData.ggSubElement.material = loadedMaterial;
				me._ht_video_youtube_custom_image.userData.ggUpdatePosition();
				me._ht_video_youtube_custom_image.userData.ggText = extUrl;
				me._ht_video_youtube_custom_image.userData.setOpacity(me._ht_video_youtube_custom_image.userData.opacity);
			});
		};
		var extUrl=basePath + "_custom";
		el.userData.ggSetUrl(extUrl);
		material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide, transparent: true } );
		material.name = 'ht_video_youtube_custom_image_subElementMaterial';
		el.userData.ggSubElement = new THREE.Mesh( img.geometry, material );
		el.userData.ggSubElement.name = 'ht_video_youtube_custom_image_subElement';
		el.add(el.userData.ggSubElement);
		el.userData.clientWidth = 50;
		el.userData.clientHeight = 50;
		el.userData.ggId="ht_video_youtube_custom_image";
		me._ht_video_youtube_custom_image.logicBlock_visible = function() {
			var newLogicStateVisible;
			if (
				((me.hotspot.customimage != ""))
			)
			{
				newLogicStateVisible = 0;
			}
			else {
				newLogicStateVisible = -1;
			}
			if (me._ht_video_youtube_custom_image.ggCurrentLogicStateVisible != newLogicStateVisible) {
				me._ht_video_youtube_custom_image.ggCurrentLogicStateVisible = newLogicStateVisible;
				if (me._ht_video_youtube_custom_image.ggCurrentLogicStateVisible == 0) {
			me._ht_video_youtube_custom_image.visible=((!me._ht_video_youtube_custom_image.material && Number(me._ht_video_youtube_custom_image.userData.opacity>0)) || Number(me._ht_video_youtube_custom_image.material.opacity)>0)?true:false;
			me._ht_video_youtube_custom_image.userData.visible=true;
				}
				else {
			me._ht_video_youtube_custom_image.visible=false;
			me._ht_video_youtube_custom_image.userData.visible=false;
				}
			}
		}
		me._ht_video_youtube_custom_image.logicBlock_visible();
		me._ht_video_youtube_custom_image.userData.ggUpdatePosition=function (useTransition) {
			var parentWidth = me._ht_video_youtube_custom_image.userData.clientWidth;
			var parentHeight = me._ht_video_youtube_custom_image.userData.clientHeight;
			var img = me._ht_video_youtube_custom_image.userData.ggSubElement;
			var imgWidth = img.material.map.image.naturalWidth;
			var imgHeight = img.material.map.image.naturalHeight;
			var aspectRatioDiv = parentWidth / parentHeight;
			var aspectRatioImg = imgWidth / imgHeight;
			if (imgWidth < parentWidth) parentWidth = imgWidth;
			if (imgHeight < parentHeight) parentHeight = imgHeight;
			var currentWidth, currentHeight;
			img.geometry.dispose();
			currentWidth = imgWidth;
			currentHeight = imgHeight;
			img.geometry = new THREE.PlaneBufferGeometry(currentWidth / 100.0, currentHeight / 100.0, 5, 5 );
			img.geometry.name = 'ht_video_youtube_custom_image_imgGeometry';
		}
		me._ht_video_youtube.add(me._ht_video_youtube_custom_image);
		me._ht_video_youtube.logicBlock_visible();
		me._ht_video_youtube.userData.setOpacity(1.00);
		me._ht_video_youtube_title.logicBlock_visible();
		me._ht_video_youtube_title.userData.setOpacity(1.00);
		me._ht_video_youtube_bg.logicBlock_visible();
		me._ht_video_youtube_bg.logicBlock_backgroundcolor();
		me._ht_video_youtube_bg.userData.setOpacity(1.00);
		me._ht_video_youtube_icon.userData.setOpacity(1.00);
		me._ht_video_youtube_custom_image.logicBlock_visible();
		me._ht_video_youtube_custom_image.userData.setOpacity(1.00);
			me.ggEvent_activehotspotchanged=function() {
				me._ht_video_youtube_title.logicBlock_visible();
				me._ht_video_youtube_bg.logicBlock_visible();
				me._ht_video_youtube_custom_image.logicBlock_visible();
			};
			me.ggEvent_changenode=function() {
				me._ht_video_youtube.logicBlock_visible();
				me._ht_video_youtube_title.logicBlock_visible();
				me._ht_video_youtube_bg.logicBlock_visible();
				me._ht_video_youtube_custom_image.logicBlock_visible();
			};
			me.ggEvent_configloaded=function() {
				me._ht_video_youtube.logicBlock_visible();
				me._ht_video_youtube_title.logicBlock_visible();
				me._ht_video_youtube_bg.logicBlock_visible();
				me._ht_video_youtube_custom_image.logicBlock_visible();
			};
			me.ggEvent_varchanged_vis_skin=function() {
				me._ht_video_youtube.logicBlock_visible();
			};
			me.__obj = me._ht_video_youtube;
			me.__obj.userData.hotspot = hotspot;
			me.__obj.userData.fromSkin = true;
	};
	me.addSkinHotspot=function(hotspot) {
		var hsinst = null;
		if (hotspot.skinid=='ht_video_youtube') {
			hotspot.skinid = 'ht_video_youtube';
			hsinst = new SkinHotspotClass_ht_video_youtube(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_video_vimeo') {
			hotspot.skinid = 'ht_video_vimeo';
			hsinst = new SkinHotspotClass_ht_video_vimeo(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_video_url') {
			hotspot.skinid = 'ht_video_url';
			hsinst = new SkinHotspotClass_ht_video_url(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_video_file') {
			hotspot.skinid = 'ht_video_file';
			hsinst = new SkinHotspotClass_ht_video_file(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_pdf') {
			hotspot.skinid = 'ht_pdf';
			hsinst = new SkinHotspotClass_ht_pdf(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_info') {
			hotspot.skinid = 'ht_info';
			hsinst = new SkinHotspotClass_ht_info(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_image') {
			hotspot.skinid = 'ht_image';
			hsinst = new SkinHotspotClass_ht_image(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_node') {
			hotspot.skinid = 'ht_node';
			hsinst = new SkinHotspotClass_ht_node(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='ht_url') {
			hotspot.skinid = 'ht_url';
			hsinst = new SkinHotspotClass_ht_url(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		} else
		if (hotspot.skinid=='floor_hotspot') {
			hotspot.skinid = 'floor_hotspot';
			hsinst = new SkinHotspotClass_floor_hotspot(me, hotspot);
			if (!hotspotTemplates.hasOwnProperty(hotspot.skinid)) {
				hotspotTemplates[hotspot.skinid] = [];
			}
			hotspotTemplates[hotspot.skinid].push(hsinst);
		}
		return (hsinst ? hsinst.__obj : null);
	}
	me.removeSkinHotspots=function() {
		hotspotTemplates = [];
	}
	player.addListener('changenode', function() {
		me.ggUserdata=player.userdata;
	});
	me.skinTimerEvent=function() {
	if (!player.isInVR()) return;
		me.ggCurrentTime=new Date().getTime();
	};
	player.addListener('timer', me.skinTimerEvent);
	player.addListener('entervr', function() { me.addSkin(); player.triggerEvent('changenode'); });
	player.addListener('exitvr', function() { me.removeSkin(); });
	me.skinTimerEvent();
};